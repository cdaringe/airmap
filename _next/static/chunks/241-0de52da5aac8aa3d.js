(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{5490:function(t,e,r){var n=r(4193).pZ;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return n(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},3374:function(t,e,r){"use strict";var n=r(4262);function o(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}o.default=o,e.Z=o},2251:function(t){function e(t,e,r,n){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var o={type:"Feature"};return n&&(o.id=n),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function r(t,r,n,o){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("Coordinates must contain numbers");return e({type:"Point",coordinates:t},r,n,o)}function n(t,r,n,o){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var a=t[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===i&&0===s&&!p(a[0][0])||!p(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},r,n,o)}function o(t,r,n,o){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!p(t[0][1])||!p(t[0][1]))throw new Error("Coordinates must contain numbers");return e({type:"LineString",coordinates:t},r,n,o)}function i(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiLineString",coordinates:t},r,n,o)}function a(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPoint",coordinates:t},r,n,o)}function s(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPolygon",coordinates:t},r,n,o)}var u={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},l={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function c(t,e){if(void 0===t||null===t)throw new Error("radians is required");var r=u[e||"kilometers"];if(!r)throw new Error("units is invalid");return t*r}function h(t,e){if(void 0===t||null===t)throw new Error("distance is required");var r=u[e||"kilometers"];if(!r)throw new Error("units is invalid");return t/r}function f(t){if(null===t||void 0===t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:e,geometry:function(t,e,u){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(u&&4!==u.length)throw new Error("bbox must be an Array of 4 numbers");var l;switch(t){case"Point":l=r(e).geometry;break;case"LineString":l=o(e).geometry;break;case"Polygon":l=n(e).geometry;break;case"MultiPoint":l=a(e).geometry;break;case"MultiLineString":l=i(e).geometry;break;case"MultiPolygon":l=s(e).geometry;break;default:throw new Error(t+" is invalid")}return u&&(l.bbox=u),l},featureCollection:function(t,e,r){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"FeatureCollection"};return r&&(n.id=r),e&&(n.bbox=e),n.features=t,n},geometryCollection:function(t,r,n,o){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},r,n,o)},point:r,multiPoint:a,lineString:o,multiLineString:i,polygon:n,multiPolygon:s,radiansToDistance:c,distanceToRadians:h,distanceToDegrees:function(t,e){return f(h(t,e))},radians2degrees:f,degrees2radians:function(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},convertDistance:function(t,e,r){if(null===t||void 0===t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return c(h(t,e),r||"kilometers")},convertArea:function(t,e,r){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var n=l[e||"meters"];if(!n)throw new Error("invalid original units");var o=l[r||"kilometers"];if(!o)throw new Error("invalid final units");return t/n*o},round:function(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},isNumber:p}},3969:function(t,e){"use strict";function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function o(t,e,n){void 0===n&&(n={});for(var o=0,i=t;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function i(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function a(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function s(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function c(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t*n}function h(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t/n}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return i(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),a(t.map((function(t){return n(t,e)})),r)},e.polygon=o,e.polygons=function(t,e,r){return void 0===r&&(r={}),a(t.map((function(t){return o(t,e)})),r)},e.lineString=i,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),a(t.map((function(t){return i(t,e)})),r)},e.featureCollection=a,e.multiLineString=s,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=c,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(h(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var o=e.areaFactors[r];if(!o)throw new Error("invalid original units");var i=e.areaFactors[n];if(!i)throw new Error("invalid final units");return t/o*i},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},4193:function(t,e,r){"use strict";function n(t,e,r){if(null!==t){var o,i,a,s,u,l,c,h,f,p,d=0,g=0,y=t.type,m="FeatureCollection"===y,v="Feature"===y,b=m?t.features.length:1;for(o=0;o<b;o++)for(c=(p=!!(f=m?t.features[o].geometry:v?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1,i=0;i<c;i++){var x=0;if(null!==(l=p?f.geometries[i]:f)){h=l.coordinates;var w=l.type;switch(d=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(h,g,o,x),g++,x++;break;case"LineString":case"MultiPoint":for(a=0;a<h.length;a++)e(h[a],g,o,x),g++,"MultiPoint"===w&&x++;"LineString"===w&&x++;break;case"Polygon":case"MultiLineString":for(a=0;a<h.length;a++){for(s=0;s<h[a].length-d;s++)e(h[a][s],g,o,x),g++;"MultiLineString"===w&&x++}"Polygon"===w&&x++;break;case"MultiPolygon":for(a=0;a<h.length;a++){for(s=0;s<h[a].length;s++)for(u=0;u<h[a][s].length-d;u++)e(h[a][s][u],g,o,x),g++;x++}break;case"GeometryCollection":for(a=0;a<l.geometries.length;a++)n(l.geometries[a],e,r);break;default:throw new Error("Unknown Geometry Type")}}}}}r.d(e,{pZ:function(){return n}})},4262:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3969);function o(t,e,r){if(null!==t)for(var n,i,a,s,u,l,c,h,f=0,p=0,d=t.type,g="FeatureCollection"===d,y="Feature"===d,m=g?t.features.length:1,v=0;v<m;v++){u=(h=!!(c=g?t.features[v].geometry:y?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<u;b++){var x=0,w=0;if(null!==(s=h?c.geometries[b]:c)){l=s.coordinates;var M=s.type;switch(f=!r||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===e(l,p,v,x,w))return!1;p++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],p,v,x,w))return!1;p++,"MultiPoint"===M&&x++}"LineString"===M&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-f;i++){if(!1===e(l[n][i],p,v,x,w))return!1;p++}"MultiLineString"===M&&x++,"Polygon"===M&&w++}"Polygon"===M&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(w=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-f;a++){if(!1===e(l[n][i][a],p,v,x,w))return!1;p++}w++}x++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function s(t,e){var r,n,o,i,a,s,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(r=0;r<g;r++){for(s=p?t.features[r].geometry:d?t.geometry:t,l=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,h=p?t.features[r].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,f,l,c,h))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function u(t,e){s(t,(function(t,r,o,i,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,o,{bbox:i,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:s,coordinates:t.coordinates[l]};if(!1===e(n.feature(c,o),r,l))return!1}}))}function l(t,e){u(t,(function(t,r,i){var a=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,h=0;return!1!==o(t,(function(o,s,f,p,d){if(void 0===u||r>l||p>c||d>h)return u=o,l=r,c=p,h=d,void(a=0);var g=n.lineString([u,o],t.properties);if(!1===e(g,r,i,d,a))return!1;a++,u=o}))&&void 0}}}))}function c(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,r,o){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===e(n.lineString(a[s],t.properties),r,o,s))return!1}}}))}e.coordAll=function(t){var e=[];return o(t,(function(t){e.push(t)})),e},e.coordEach=o,e.coordReduce=function(t,e,r,n){var i=r;return o(t,(function(t,n,o,a,s){i=0===n&&void 0===r?t:e(i,t,n,o,a,s)}),n),i},e.featureEach=a,e.featureReduce=function(t,e,r){var n=r;return a(t,(function(t,o){n=0===o&&void 0===r?t:e(n,t,o)})),n},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return n.point(l,u,e);case"MultiPoint":return i<0&&(i=l.length+i),n.point(l[i],u,e);case"LineString":return s<0&&(s=l.length+s),n.point(l[s],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),n.point(l[a][s],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),n.point(l[i][s],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s),n.point(l[i][a][s],u,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),n.lineString([l[s],l[s+1]],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),n.lineString([l[a][s],l[a][s+1]],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s-1),n.lineString([l[i][s],l[i][s+1]],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s-1),n.lineString([l[i][a][s],l[i][a][s+1]],u,e)}throw new Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,r){var n=r;return u(t,(function(t,o,i){n=0===o&&0===i&&void 0===r?t:e(n,t,o,i)})),n},e.geomEach=s,e.geomReduce=function(t,e,r){var n=r;return s(t,(function(t,o,i,a,s){n=0===o&&void 0===r?t:e(n,t,o,i,a,s)})),n},e.lineEach=c,e.lineReduce=function(t,e,r){var n=r;return c(t,(function(t,o,i,a){n=0===o&&void 0===r?t:e(n,t,o,i,a)})),n},e.propEach=i,e.propReduce=function(t,e,r){var n=r;return i(t,(function(t,o){n=0===o&&void 0===r?t:e(n,t,o)})),n},e.segmentEach=l,e.segmentReduce=function(t,e,r){var n=r,o=!1;return l(t,(function(t,i,a,s,u){n=!1===o&&void 0===r?t:e(n,t,i,a,s,u),o=!0})),n}},2864:function(t,e,r){"use strict";var n=r(9556),o=r(5592),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"===typeof r&&i(t,".prototype.")>-1?o(r):r}},5592:function(t,e,r){"use strict";var n=r(2698),o=r(9556),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(f){l=null}t.exports=function(t){var e=s(n,a,arguments);if(u&&l){var r=u(e,"length");r.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var h=function(){return s(n,i,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},4674:function(t,e,r){"use strict";var n=r(8346),o=r(1048),i=r(1807);const a=r(8935).orient2d;function s(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;var o=function(t){for(var e=t[0],r=t[0],n=t[0],o=t[0],a=0;a<t.length;a++){var s=t[a];s[0]<e[0]&&(e=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>o[1]&&(o=s)}var u=[e,r,n,o],l=u.slice();for(a=0;a<t.length;a++)i(t[a],u)||l.push(t[a]);return function(t){t.sort(b);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&p(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var n=[],o=t.length-1;o>=0;o--){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],t[o])<=0;)n.pop();n.push(t[o])}return n.pop(),e.pop(),e.concat(n)}(l)}(t),a=new n(16);a.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},a.compareMinX=function(t,e){return t[0]-e[0]},a.compareMinY=function(t,e){return t[1]-e[1]},a.load(t);for(var s,l=[],c=0;c<o.length;c++){var h=o[c];a.remove(h),s=g(h,s),l.push(s)}var f=new n(16);for(c=0;c<l.length;c++)f.insert(d(l[c]));for(var m=e*e,v=r*r;l.length;){var x=l.shift(),w=x.p,M=x.next.p,E=y(w,M);if(!(E<v)){var _=E/m;(h=u(a,x.prev.p,w,M,x.next.next.p,_,f))&&Math.min(y(h,w),y(h,M))<=_&&(l.push(x),l.push(g(h,x)),a.remove(h),f.remove(x),f.insert(d(x)),f.insert(d(x.next)))}}x=s;var S=[];do{S.push(x.p),x=x.next}while(x!==s);return S.push(x.p),S}function u(t,e,r,n,i,a,s){for(var u=new o([],l),h=t.data;h;){for(var p=0;p<h.children.length;p++){var d=h.children[p],g=h.leaf?m(d,r,n):c(r,n,d);g>a||u.push({node:d,dist:g})}for(;u.length&&!u.peek().node.children;){var y=u.pop(),v=y.node,b=m(v,e,r),x=m(v,n,i);if(y.dist<b&&y.dist<x&&f(r,v,s)&&f(n,v,s))return v}(h=u.pop())&&(h=h.node)}return null}function l(t,e){return t.dist-e.dist}function c(t,e,r){if(h(t,r)||h(e,r))return 0;var n=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var o=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===o)return 0;var i=v(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===i)return 0;var a=v(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===a?0:Math.min(n,o,i,a)}function h(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,r){for(var n,o,i,a,s=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),h=r.search({minX:s,minY:u,maxX:l,maxY:c}),f=0;f<h.length;f++)if(n=h[f].p,o=h[f].next.p,i=t,n!==(a=e)&&o!==i&&p(n,o,i)>0!==p(n,o,a)>0&&p(i,a,n)>0!==p(i,a,o)>0)return!1;return!0}function p(t,e,r){return a(t[0],t[1],e[0],e[1],r[0],r[1])}function d(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function g(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function y(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function m(t,e,r){var n=e[0],o=e[1],i=r[0]-n,a=r[1]-o;if(0!==i||0!==a){var s=((t[0]-n)*i+(t[1]-o)*a)/(i*i+a*a);s>1?(n=r[0],o=r[1]):s>0&&(n+=i*s,o+=a*s)}return(i=t[0]-n)*i+(a=t[1]-o)*a}function v(t,e,r,n,o,i,a,s){var u,l,c,h,f=r-t,p=n-e,d=a-o,g=s-i,y=t-o,m=e-i,v=f*f+p*p,b=f*d+p*g,x=d*d+g*g,w=f*y+p*m,M=d*y+g*m,E=v*x-b*b,_=E,S=E;0===E?(l=0,_=1,h=M,S=x):(h=v*M-b*w,(l=b*M-x*w)<0?(l=0,h=M,S=x):l>_&&(l=_,h=M+b,S=x)),h<0?(h=0,-w<0?l=0:-w>v?l=_:(l=-w,_=v)):h>S&&(h=S,-w+b<0?l=0:-w+b>v?l=_:(l=-w+b,_=v));var P=(1-(c=0===h?0:h/S))*o+c*a-((1-(u=0===l?0:l/_))*t+u*r),C=(1-c)*i+c*s-((1-u)*e+u*n);return P*P+C*C}function b(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}t.exports=s,t.exports.default=s},7709:function(t,e,r){"use strict";function n(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}r.d(e,{Z:function(){return n}})},7277:function(t,e,r){"use strict";r.d(e,{Z:function(){return rt}});var n=r(7709);function o(t){return(0,n.Z)(1,arguments),t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}var i=r(7617);function a(t){if((0,n.Z)(1,arguments),!o(t)&&"number"!==typeof t)return!1;var e=(0,i.Z)(t);return!isNaN(Number(e))}var s={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u=function(t,e,r){var n,o=s[t];return n="string"===typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function l(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var c={date:l({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:l({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:l({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},h={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function f(t){return function(e,r){var n,o=r||{};if("formatting"===(o.context?String(o.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=o.width?String(o.width):i;n=t.formattingValues[a]||t.formattingValues[i]}else{var s=t.defaultWidth,u=o.width?String(o.width):t.defaultWidth;n=t.values[u]||t.values[s]}return n[t.argumentCallback?t.argumentCallback(e):e]}}function p(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,o=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a,s=i[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(u)?g(u,(function(t){return t.test(s)})):d(u,(function(t){return t.test(s)}));a=t.valueCallback?t.valueCallback(l):l,a=r.valueCallback?r.valueCallback(a):a;var c=e.slice(s.length);return{value:a,rest:c}}}function d(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function g(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}var y,m={code:"en-US",formatDistance:u,formatLong:c,formatRelative:function(t,e,r,n){return h[t]},localize:{ordinalNumber:function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:f({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:f({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:f({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:f({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:f({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(y={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(y.matchPattern);if(!r)return null;var n=r[0],o=t.match(y.parsePattern);if(!o)return null;var i=y.valueCallback?y.valueCallback(o[0]):o[0];i=e.valueCallback?e.valueCallback(i):i;var a=t.slice(n.length);return{value:i,rest:a}}),era:p({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:p({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:p({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:p({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:p({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function v(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function b(t,e){(0,n.Z)(2,arguments);var r=(0,i.Z)(t).getTime(),o=v(e);return new Date(r+o)}function x(t,e){(0,n.Z)(2,arguments);var r=v(e);return b(t,-r)}var w=864e5;function M(t){(0,n.Z)(1,arguments);var e=1,r=(0,i.Z)(t),o=r.getUTCDay(),a=(o<e?7:0)+o-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function E(t){(0,n.Z)(1,arguments);var e=(0,i.Z)(t),r=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var a=M(o),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var u=M(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function _(t){(0,n.Z)(1,arguments);var e=E(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var o=M(r);return o}var S=6048e5;function P(t,e){(0,n.Z)(1,arguments);var r=e||{},o=r.locale,a=o&&o.options&&o.options.weekStartsOn,s=null==a?0:v(a),u=null==r.weekStartsOn?s:v(r.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,i.Z)(t),c=l.getUTCDay(),h=(c<u?7:0)+c-u;return l.setUTCDate(l.getUTCDate()-h),l.setUTCHours(0,0,0,0),l}function C(t,e){(0,n.Z)(1,arguments);var r=(0,i.Z)(t),o=r.getUTCFullYear(),a=e||{},s=a.locale,u=s&&s.options&&s.options.firstWeekContainsDate,l=null==u?1:v(u),c=null==a.firstWeekContainsDate?l:v(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(o+1,0,c),h.setUTCHours(0,0,0,0);var f=P(h,e),p=new Date(0);p.setUTCFullYear(o,0,c),p.setUTCHours(0,0,0,0);var d=P(p,e);return r.getTime()>=f.getTime()?o+1:r.getTime()>=d.getTime()?o:o-1}function k(t,e){(0,n.Z)(1,arguments);var r=e||{},o=r.locale,i=o&&o.options&&o.options.firstWeekContainsDate,a=null==i?1:v(i),s=null==r.firstWeekContainsDate?a:v(r.firstWeekContainsDate),u=C(t,e),l=new Date(0);l.setUTCFullYear(u,0,s),l.setUTCHours(0,0,0,0);var c=P(l,e);return c}var O=6048e5;function L(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var A={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return L("yy"===e?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return"M"===e?String(r+1):L(r+1,2)},d:function(t,e){return L(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return"am"===r?"a.m.":"p.m."}},h:function(t,e){return L(t.getUTCHours()%12||12,e.length)},H:function(t,e){return L(t.getUTCHours(),e.length)},m:function(t,e){return L(t.getUTCMinutes(),e.length)},s:function(t,e){return L(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,n=t.getUTCMilliseconds();return L(Math.floor(n*Math.pow(10,r-3)),e.length)}},j="midnight",R="noon",I="morning",D="afternoon",N="evening",F="night";function T(t,e){var r=t>0?"-":"+",n=Math.abs(t),o=Math.floor(n/60),i=n%60;if(0===i)return r+String(o);var a=e||"";return r+String(o)+a+L(i,2)}function z(t,e){return t%60===0?(t>0?"-":"+")+L(Math.abs(t)/60,2):B(t,e)}function B(t,e){var r=e||"",n=t>0?"-":"+",o=Math.abs(t);return n+L(Math.floor(o/60),2)+r+L(o%60,2)}var U={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if("yo"===e){var n=t.getUTCFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return A.y(t,e)},Y:function(t,e,r,n){var o=C(t,n),i=o>0?o:1-o;return"YY"===e?L(i%100,2):"Yo"===e?r.ordinalNumber(i,{unit:"year"}):L(i,e.length)},R:function(t,e){return L(E(t),e.length)},u:function(t,e){return L(t.getUTCFullYear(),e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return L(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return L(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return A.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return L(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,o){var a=function(t,e){(0,n.Z)(1,arguments);var r=(0,i.Z)(t),o=P(r,e).getTime()-k(r,e).getTime();return Math.round(o/O)+1}(t,o);return"wo"===e?r.ordinalNumber(a,{unit:"week"}):L(a,e.length)},I:function(t,e,r){var o=function(t){(0,n.Z)(1,arguments);var e=(0,i.Z)(t),r=M(e).getTime()-_(e).getTime();return Math.round(r/S)+1}(t);return"Io"===e?r.ordinalNumber(o,{unit:"week"}):L(o,e.length)},d:function(t,e,r){return"do"===e?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):A.d(t,e)},D:function(t,e,r){var o=function(t){(0,n.Z)(1,arguments);var e=(0,i.Z)(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),a=r-o;return Math.floor(a/w)+1}(t);return"Do"===e?r.ordinalNumber(o,{unit:"dayOfYear"}):L(o,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return L(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return L(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),o=0===n?7:n;switch(e){case"i":return String(o);case"ii":return L(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n,o=t.getUTCHours();switch(n=12===o?R:0===o?j:o/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n,o=t.getUTCHours();switch(n=o>=17?N:o>=12?D:o>=4?I:F,e){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,r){if("ho"===e){var n=t.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return A.h(t,e)},H:function(t,e,r){return"Ho"===e?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):A.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return"Ko"===e?r.ordinalNumber(n,{unit:"hour"}):L(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return 0===n&&(n=24),"ko"===e?r.ordinalNumber(n,{unit:"hour"}):L(n,e.length)},m:function(t,e,r){return"mo"===e?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):A.m(t,e)},s:function(t,e,r){return"so"===e?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):A.s(t,e)},S:function(t,e){return A.S(t,e)},X:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return z(o);case"XXXX":case"XX":return B(o);case"XXXXX":case"XXX":default:return B(o,":")}},x:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"x":return z(o);case"xxxx":case"xx":return B(o);case"xxxxx":case"xxx":default:return B(o,":")}},O:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+T(o,":");case"OOOO":default:return"GMT"+B(o,":")}},z:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+T(o,":");case"zzzz":default:return"GMT"+B(o,":")}},t:function(t,e,r,n){var o=n._originalDate||t;return L(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,r,n){return L((n._originalDate||t).getTime(),e.length)}};function Y(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function X(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var q={p:X,P:function(t,e){var r,n=t.match(/(P+)(p+)?/)||[],o=n[1],i=n[2];if(!i)return Y(t,e);switch(o){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",Y(o,e)).replace("{{time}}",X(i,e))}};function Z(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var W=["D","DD"],G=["YY","YYYY"];function J(t){return-1!==W.indexOf(t)}function H(t){return-1!==G.indexOf(t)}function $(t,e,r){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var Q=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K=/^'([^]*?)'?$/,tt=/''/g,et=/[a-zA-Z]/;function rt(t,e,r){(0,n.Z)(2,arguments);var o=String(e),s=r||{},u=s.locale||m,l=u.options&&u.options.firstWeekContainsDate,c=null==l?1:v(l),h=null==s.firstWeekContainsDate?c:v(s.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=u.options&&u.options.weekStartsOn,p=null==f?0:v(f),d=null==s.weekStartsOn?p:v(s.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var g=(0,i.Z)(t);if(!a(g))throw new RangeError("Invalid time value");var y=Z(g),b=x(g,y),w={firstWeekContainsDate:h,weekStartsOn:d,locale:u,_originalDate:g},M=o.match(V).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,q[e])(t,u.formatLong,w):t})).join("").match(Q).map((function(r){if("''"===r)return"'";var n=r[0];if("'"===n)return nt(r);var o=U[n];if(o)return!s.useAdditionalWeekYearTokens&&H(r)&&$(r,e,t),!s.useAdditionalDayOfYearTokens&&J(r)&&$(r,e,t),o(b,r,u.localize,w);if(n.match(et))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return r})).join("");return M}function nt(t){return t.match(K)[1].replace(tt,"'")}},7617:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(7709);function o(t){(0,n.Z)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},4667:function(t,e,r){var n=Array.prototype.slice,o=r(4390),i=r(8775),a=t.exports=function(t,e,r){return r||(r={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:function(t,e,r){var l,c;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=n.call(t),e=n.call(e),a(t,e,r));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}try{var h=o(t),f=o(e)}catch(p){return!1}if(h.length!=f.length)return!1;for(h.sort(),f.sort(),l=h.length-1;l>=0;l--)if(h[l]!=f[l])return!1;for(l=h.length-1;l>=0;l--)if(c=h[l],!a(t[c],e[c],r))return!1;return typeof t===typeof e}(t,e,r))};function s(t){return null===t||void 0===t}function u(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}},8775:function(t,e){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=r?n:o).supported=n,e.unsupported=o},4390:function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}(t.exports="function"===typeof Object.keys?Object.keys:r).shim=r},1374:function(t,e,r){var n=r(3571),o=r(2041),i=r(2641),a=r(9360),s=r(1222),u=r(4696),l=Date.prototype.getTime;function c(t,e,r){var p=r||{};return!!(p.strict?i(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?p.strict?i(t,e):t==e:function(t,e,r){var i,p;if(typeof t!==typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t)!==o(e))return!1;var d=a(t),g=a(e);if(d!==g)return!1;if(d||g)return t.source===e.source&&s(t)===s(e);if(u(t)&&u(e))return l.call(t)===l.call(e);var y=f(t),m=f(e);if(y!==m)return!1;if(y||m){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}if(typeof t!==typeof e)return!1;try{var v=n(t),b=n(e)}catch(x){return!1}if(v.length!==b.length)return!1;for(v.sort(),b.sort(),i=v.length-1;i>=0;i--)if(v[i]!=b[i])return!1;for(i=v.length-1;i>=0;i--)if(!c(t[p=v[i]],e[p],r))return!1;return!0}(t,e,p))}function h(t){return null===t||void 0===t}function f(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}t.exports=c},5597:function(t,e,r){"use strict";var n=r(3571),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(r){return!1}}(),l=function(t,e,r,n){var o;(!(e in t)||"function"===typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},c=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)l(t,i[s],e[i[s]],r[i[s]])};c.supportsDescriptors=!!u,t.exports=c},6902:function(t){function e(t,e,r,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,r,n)}e.prototype.run=function(t,e,r,n){this._init(t,e,r,n);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(o,a),this._expandCluster(a,i)}}return this.clusters},e.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},e.prototype._expandCluster=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(1!==this._visited[n]){this._visited[n]=1;var o=this._regionQuery(n);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[n]&&this._addToCluster(n,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],r=0;r<this._datasetLength;r++){this.distance(this.dataset[t],this.dataset[r])<this.epsilon&&e.push(r)}return e},e.prototype._mergeArrays=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=e[n];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=e)},6731:function(t){function e(t,e,r){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,r)}e.prototype.init=function(t,e,r){this.assignments=[],this.centroids=[],"undefined"!==typeof t&&(this.dataset=t),"undefined"!==typeof e&&(this.k=e),"undefined"!==typeof r&&(this.distance=r)},e.prototype.run=function(t,e){this.init(t,e);for(var r=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var a=new Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<r;l++){var c=this.dataset[l].length;if(i===this.assignments[l]){for(u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)a[u]/=s;this.centroids[i]=a}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,r=this.dataset.length-1;do{e=Math.round(Math.random()*r),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,r=this.dataset.length,n=0;n<r;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),r=0;r<this.assignments.length;r++)"undefined"===typeof e[t=this.assignments[r]]&&(e[t]=[]),e[t].push(r);return e},e.prototype.argmin=function(t,e,r){for(var n,o=Number.MAX_VALUE,i=0,a=e.length,s=0;s<a;s++)(n=r(t,e[s]))<o&&(o=n,i=s);return i},e.prototype.distance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;){var o=t[n]-e[n];r+=o*o}return Math.sqrt(r)},t.exports&&(t.exports=e)},6515:function(t,e,r){if(t.exports)var n=r(5672);function o(t,e,r,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,r,n)}o.prototype.run=function(t,e,r,o){this._init(t,e,r,o);for(var i=0,a=this.dataset.length;i<a;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var s=this.clusters.length-1;this._orderedList.push(i);var u=new n(null,null,"asc"),l=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,l,u),this._expandCluster(s,u))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var t=[],e=0,r=this._orderedList.length;e<r;e++){var n=this._orderedList[e],o=this._reachability[n];t.push([n,o])}return t},o.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},o.prototype._updateQueue=function(t,e,r){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===n._processed[e]){var o=n.distance(n.dataset[t],n.dataset[e]),i=Math.max(n._coreDistance,o);void 0===n._reachability[e]?(n._reachability[e]=i,r.insert(e,i)):i<n._reachability[e]&&(n._reachability[e]=i,r.remove(e),r.insert(e,i))}}))},o.prototype._expandCluster=function(t,e){for(var r=e.getElements(),n=0,o=r.length;n<o;n++){var i=r[n];if(void 0===this._processed[i]){var a=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,a,e),this._expandCluster(t,e))}}},o.prototype._distanceToCore=function(t){for(var e=this.epsilon,r=0;r<e;r++){if(this._regionQuery(t,r).length>=this.minPts)return r}},o.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var r=[],n=0,o=this.dataset.length;n<o;n++)this.distance(this.dataset[t],this.dataset[n])<e&&r.push(n);return r},o.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=o)},5672:function(t){function e(t,e,r){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,r)}e.prototype.insert=function(t,e){for(var r=this._queue.length,n=r;n--;){var o=this._priorities[n];"desc"===this._sorting?e>o&&(r=n):e<o&&(r=n)}this._insertAt(t,e,r)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,r=this._queue.length;e<r;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,r){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}r&&(this._sorting=r)},e.prototype._insertAt=function(t,e,r){this._queue.length===r?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(r,0,t),this._priorities.splice(r,0,e))},t.exports&&(t.exports=e)},8788:function(t,e,r){t.exports&&(t.exports={DBSCAN:r(6902),KMEANS:r(6731),OPTICS:r(6515),PriorityQueue:r(5672)})},9829:function(t){"use strict";function e(t,e,i){i=i||2;var a,s,u,h,f,d,g,y=e&&e.length,m=y?e[0]*i:t.length,v=r(t,0,m,i,!0),b=[];if(!v||v.next===v.prev)return b;if(y&&(v=function(t,e,o,i){var a,s,u,h=[];for(a=0,s=e.length;a<s;a++)(u=r(t,e[a]*i,a<s-1?e[a+1]*i:t.length,i,!1))===u.next&&(u.steiner=!0),h.push(p(u));for(h.sort(l),a=0;a<h.length;a++)o=n(o=c(h[a],o),o.next);return o}(t,e,v,i)),t.length>80*i){a=u=t[0],s=h=t[1];for(var x=i;x<m;x+=i)(f=t[x])<a&&(a=f),(d=t[x+1])<s&&(s=d),f>u&&(u=f),d>h&&(h=d);g=0!==(g=Math.max(u-a,h-s))?1/g:0}return o(v,b,i,a,s,g),b}function r(t,e,r,n,o){var i,a;if(o===P(t,e,r,n)>0)for(i=e;i<r;i+=n)a=E(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=E(i,t[i],t[i+1],a);return a&&m(a,a.next)&&(_(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(_(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function o(t,e,r,l,c,h,p){if(t){!p&&h&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=f(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,s,u,l=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(a>1)}(o)}(t,l,c,h);for(var d,g,y=t;t.prev!==t.next;)if(d=t.prev,g=t.next,h?a(t,l,c,h):i(t))e.push(d.i/r),e.push(t.i/r),e.push(g.i/r),_(t),t=g.next,y=g.next;else if((t=g)===y){p?1===p?o(t=s(n(t),e,r),e,r,l,c,h,2):2===p&&u(t,e,r,l,c,h):o(n(t),e,r,l,c,h,1);break}}}function i(t){var e=t.prev,r=t,n=t.next;if(y(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(d(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&y(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(t,e,r,n){var o=t.prev,i=t,a=t.next;if(y(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,l=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,h=f(s,u,e,r,n),p=f(l,c,e,r,n),g=t.prevZ,m=t.nextZ;g&&g.z>=h&&m&&m.z<=p;){if(g!==t.prev&&g!==t.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,m!==t.prev&&m!==t.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;g&&g.z>=h;){if(g!==t.prev&&g!==t.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;m&&m.z<=p;){if(m!==t.prev&&m!==t.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function s(t,e,r){var o=t;do{var i=o.prev,a=o.next.next;!m(i,a)&&v(i,o,o.next,a)&&w(i,a)&&w(a,i)&&(e.push(i.i/r),e.push(o.i/r),e.push(a.i/r),_(o),_(o.next),o=t=a),o=o.next}while(o!==t);return n(o)}function u(t,e,r,i,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=M(u,l);return u=n(u,u.next),c=n(c,c.next),o(u,e,r,i,a,s),void o(c,e,r,i,a,s)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){var r=function(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r;var u,l=r,c=r.x,f=r.y,p=1/0;n=r;do{o>=n.x&&n.x>=c&&o!==n.x&&d(i<f?o:a,i,c,f,i<f?a:o,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(o-n.x),w(n,t)&&(u<p||u===p&&(n.x>r.x||n.x===r.x&&h(r,n)))&&(r=n,p=u)),n=n.next}while(n!==l);return r}(t,e);if(!r)return e;var o=M(r,t),i=n(r,r.next);return n(o,o.next),e===r?i:e}function h(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function d(t,e,r,n,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!==r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||m(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){var o=x(y(t,e,r)),i=x(y(t,e,n)),a=x(y(r,n,t)),s=x(y(r,n,e));return o!==i&&a!==s||(!(0!==o||!b(t,r,e))||(!(0!==i||!b(t,n,e))||(!(0!==a||!b(r,t,n))||!(0!==s||!b(r,e,n)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x(t){return t>0?1:t<0?-1:0}function w(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function M(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function E(t,e,r,n){var o=new S(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function _(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(P(t,0,i,r));if(o)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(P(t,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}},9748:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!==typeof i||n.call(i)!==o)throw new TypeError(e+i);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var e=i.apply(this,s.concat(r.call(arguments)));return Object(e)===e?e:this}return i.apply(t,s.concat(r.call(arguments)))},l=Math.max(0,i.length-s.length),c=[],h=0;h<l;h++)c.push("$"+h);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},2698:function(t,e,r){"use strict";var n=r(9748);t.exports=Function.prototype.bind||n},2950:function(t,e,r){var n=r(1374),o=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:s};function i(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function a(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function s(t,e){return n(t,e,{strict:!0})}o.prototype.compare=function(t,e){if(t.type!==e.type||!a(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var r=this,n=i(t),o=i(e);return n.every((function(t){return this.some((function(e){return r.compare(t,e)}))}),o)}}return!1},o.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r].toFixed(this.precision)!==e[r].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(t,e,r,n){if(!a(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var s=this.compareCoord(o[r],i[r]);return this.direction||s?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(t,e){for(var r,n=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],e[0])){n=o;break}return n>=0&&(r=[].concat(t.slice(n,t.length),t.slice(1,n+1))),r},o.prototype.comparePath=function(t,e){var r=this;return t.every((function(t,e){return r.compareCoord(t,this[e])}),e)},o.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var r=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),o=this;return r.every((function(t){return this.some((function(e){return o.compareLine(t,e,1,!0)}))}),n)}return!1},o.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},o.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},o.prototype.removePseudo=function(t){return t},t.exports=o},9562:function(t,e,r){var n=r(6690),o=r(3969),i=r(4262),a=r(3374).Z,s=i.featureEach,u=(i.coordEach,o.polygon,o.featureCollection);function l(t){var e=n(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)})):s(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)})),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){var e=n.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=n.prototype.all.call(this);return u(t)},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=a(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=a(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports.default=l},9556:function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(k){u=null}var l=function(){throw new a},c=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(e){return l}}}():l,h=r(1732)(),f=Object.getPrototypeOf||function(t){return t.__proto__},p={},d="undefined"===typeof Uint8Array?n:f(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},y=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=f(o.prototype))}return g[e]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(2698),b=r(2786),x=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),M=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,P=function(t){var e=E(t,0,1),r=E(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return M(t,_,(function(t,e,r,o){n[n.length]=r?M(o,S,"$1"):e||t})),n},C=function(t,e){var r,n=t;if(b(m,n)&&(n="%"+(r=m[n])[0]+"%"),b(g,n)){var i=g[n];if(i===p&&(i=y(n)),"undefined"===typeof i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",i=C("%"+n+"%",e),s=i.name,l=i.value,c=!1,h=i.alias;h&&(n=h[0],w(r,x([0,1],h)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f],y=E(d,0,1),m=E(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&p||(c=!0),b(g,s="%"+(n+="."+d)+"%"))l=g[s];else if(null!=l){if(!(d in l)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var v=u(l,d);l=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[d]}else p=b(l,d),l=l[d];p&&!c&&(g[s]=l)}}return l}},1732:function(t,e,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,o=r(6849);t.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},6849:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},3342:function(t,e,r){"use strict";var n=r(6849);t.exports=function(){return n()&&!!Symbol.toStringTag}},2786:function(t,e,r){"use strict";var n=r(2698);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2041:function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=r(2864)("Object.prototype.toString"),i=function(t){return!(n&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},4696:function(t){"use strict";var e=Date.prototype.getDay,r=Object.prototype.toString,n="function"===typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"object"===typeof t&&null!==t&&(n?function(t){try{return e.call(t),!0}catch(r){return!1}}(t):"[object Date]"===r.call(t))}},9360:function(t,e,r){"use strict";var n,o,i,a,s=r(2864),u=r(3342)();if(u){n=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var c=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!==typeof t)return!1;var e=h(t,"lastIndex");if(!(e&&n(e,"value")))return!1;try{o(t,a)}catch(r){return r===i}}:function(t){return!(!t||"object"!==typeof t&&"function"!==typeof t)&&"[object RegExp]"===c(t)}},9277:function(t,e,r){"use strict";var n,o,i;r.d(e,{jP:function(){return w},Ex:function(){return M},Ly:function(){return E}}),function(t){t.Default="",t.Move="move",t.Grabbing="grabbing",t.NESWResize="nesw-resize",t.NWSEResize="nwse-resize"}(n||(n={})),function(t){t.Move="move",t.Transform="transform"}(o||(o={})),function(t){t.Visible="visible",t.None="none"}(i||(i={}));var a=r(6528),s=r.n(a);var u;!function(t){t.Next="next",t.Prev="prev"}(u||(u={}));var l=r(601),c=r(3959);var h=function(t,e,r){void 0===r&&(r={});var n=(0,l.c9)(t),o=(0,l.c9)(e),i=(0,c.Ht)(o[1]-n[1]),a=(0,c.Ht)(o[0]-n[0]),s=(0,c.Ht)(n[1]),u=(0,c.Ht)(o[1]),h=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(u);return(0,c.DL)(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),r.units)};var f=class{constructor(){this.node=document.createElement("div"),this.node.classList.add("mapboxgl-ctrl"),this.node.classList.add("mapboxgl-ctrl-group"),this.node.classList.add("mapbox-control")}addButton(t){this.node.appendChild(t.node)}addClassName(t){this.node.classList.add(t)}removeClassName(t){this.node.classList.remove(t)}onAddControl(){}onRemoveControl(){}onAdd(t){return this.map=t,this.onAddControl(),this.node}onRemove(){this.onRemoveControl(),this.node.parentNode.removeChild(this.node),this.map=void 0}};var p=class{constructor(){this.node=document.createElement("button"),this.node.type="button",this.icon=null}setIcon(t){this.icon=t,this.node.appendChild(t)}setText(t){this.node.textContent=t}onClick(t){this.node.addEventListener("click",t)}addClassName(t){this.node.classList.add(t)}removeClassName(t){this.node.classList.remove(t)}};function d(t){return t<1?`${(1e3*t).toFixed()} m`:`${t.toFixed(2)} km`}function g(t){return{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}}function y(t=[],e=[]){return{type:"FeatureCollection",features:t.map(((t,r)=>({type:"Feature",properties:{text:e[r]},geometry:{type:"Point",coordinates:t}})))}}const m="controls-layer-line",v="controls-layer-symbol",b="controls-source-line",x="controls-source-symbol";class w extends f{constructor(t){var e,r,n,o,i,a,s,u,l;super(),this.isMeasuring=!1,this.markers=[],this.coordinates=[],this.labels=[],this.units=null!==(e=null===t||void 0===t?void 0:t.units)&&void 0!==e?e:"kilometers",this.font=null!==(r=null===t||void 0===t?void 0:t.font)&&void 0!==r?r:["Roboto Medium"],this.fontSize=null!==(n=null===t||void 0===t?void 0:t.fontSize)&&void 0!==n?n:12,this.fontHalo=null!==(o=null===t||void 0===t?void 0:t.fontHalo)&&void 0!==o?o:1,this.textVariableAnchor=(null===t||void 0===t?void 0:t.textVariableAnchor)||["top"],this.textAllowOverlap=(null===t||void 0===t?void 0:t.textAllowOverlap)||!1,this.markerNodeSize=`${null!==(i=null===t||void 0===t?void 0:t.markerNodeSize)&&void 0!==i?i:12}px`,this.markerNodeBorderWidth=`${null!==(a=null===t||void 0===t?void 0:t.markerNodeBorderWidth)&&void 0!==a?a:2}px`,this.labelFormat=null!==(s=null===t||void 0===t?void 0:t.labelFormat)&&void 0!==s?s:d,this.mainColor=null!==(u=null===t||void 0===t?void 0:t.mainColor)&&void 0!==u?u:"#263238",this.secondaryColor=null!==(l=null===t||void 0===t?void 0:t.secondaryColor)&&void 0!==l?l:"#fff",this.button=new p,this.mapClickListener=this.mapClickListener.bind(this),this.styleLoadListener=this.styleLoadListener.bind(this)}insert(){this.addClassName("mapbox-control-ruler"),this.button.setIcon((new DOMParser).parseFromString('\n<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="22" height="22" fill="#505050">\n    <rect fill="none" height="24" width="24"/>\n    <path d="M20,6H4C2.9,6,2,6.9,2,8v8c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,16H4V8h3v3c0,0.55,0.45,1,1,1h0 c0.55,0,1-0.45,1-1V8h2v3c0,0.55,0.45,1,1,1h0c0.55,0,1-0.45,1-1V8h2v3c0,0.55,0.45,1,1,1h0c0.55,0,1-0.45,1-1V8h3V16z"/>\n</svg>\n',"image/svg+xml").firstChild),this.button.onClick((()=>{this.isMeasuring?this.measuringOff():this.measuringOn()})),this.addButton(this.button)}draw(){this.map.addSource(b,{type:"geojson",data:g(this.coordinates)}),this.map.addSource(x,{type:"geojson",data:y(this.coordinates,this.labels)}),this.map.addLayer({id:m,type:"line",source:b,paint:{"line-color":this.mainColor,"line-width":2}}),this.map.addLayer({id:v,type:"symbol",source:x,layout:{"text-field":"{text}","text-font":this.font,"text-anchor":"top","text-size":this.fontSize,"text-offset":[0,.8]},paint:{"text-color":this.mainColor,"text-halo-color":this.secondaryColor,"text-halo-width":this.fontHalo}})}measuringOn(){this.isMeasuring=!0,this.markers=[],this.coordinates=[],this.labels=[],this.map.getCanvas().style.cursor="crosshair",this.button.addClassName("-active"),this.draw(),this.map.on("click",this.mapClickListener),this.map.on("style.load",this.styleLoadListener),this.map.fire("ruler.on")}measuringOff(){this.isMeasuring=!1,this.map.getCanvas().style.cursor="",this.button.removeClassName("-active"),this.map.removeLayer(m),this.map.removeLayer(v),this.map.removeSource(b),this.map.removeSource(x),this.markers.forEach((t=>t.remove())),this.map.off("click",this.mapClickListener),this.map.off("style.load",this.styleLoadListener),this.map.fire("ruler.off")}mapClickListener(t){const e=this.getMarkerNode(),r=new(s().Marker)({element:e,draggable:!0}).setLngLat(t.lngLat).addTo(this.map),n=[t.lngLat.lng,t.lngLat.lat];this.coordinates.push(n),this.updateLabels(),this.updateSource(),this.markers.push(r),this.map.fire("ruler.change",{coordinates:this.coordinates}),r.on("drag",(()=>{const t=this.markers.indexOf(r),e=r.getLngLat();this.coordinates[t]=[e.lng,e.lat],this.updateLabels(),this.updateSource()})),r.on("dragend",(()=>{this.map.fire("ruler.change",{coordinates:this.coordinates})}))}updateSource(){const t=this.map.getSource(b),e=this.map.getSource(x);t.setData(g(this.coordinates)),e.setData(y(this.coordinates,this.labels))}updateLabels(){const{coordinates:t,units:e,labelFormat:r}=this;let n=0;this.labels=t.map(((o,i)=>0===i?r(0):(n+=h(t[i-1],t[i],{units:e}),r(n))))}getMarkerNode(){const t=document.createElement("div");return t.style.width="12px",t.style.height="12px",t.style.borderRadius="50%",t.style.background=this.secondaryColor,t.style.boxSizing="border-box",t.style.border=`2px solid ${this.mainColor}`,t}styleLoadListener(){this.draw()}onAddControl(){this.insert()}onRemoveControl(){this.isMeasuring&&this.measuringOff(),this.map.off("click",this.mapClickListener)}}class M extends f{constructor(t){var e;super(),this.styles=null!==(e=null===t||void 0===t?void 0:t.styles)&&void 0!==e?e:this.defaultOptions,this.onChange=null===t||void 0===t?void 0:t.onChange,this.buttons=[]}insert(){this.addClassName("mapbox-control-styles"),this.styles.forEach((t=>{const e=new p;e.setText(t.label),e.onClick((()=>{e.node.classList.contains("-active")||(this.map.setStyle(t.styleUrl),this.onChange&&this.onChange(t))})),this.buttons.push(e),this.addButton(e)})),this.map.on("styledata",(()=>{this.buttons.forEach((t=>{t.removeClassName("-active")}));const t=this.styles.map((t=>t.styleName)).indexOf(this.map.getStyle().name);if(-1!==t){this.buttons[t].addClassName("-active")}}))}get defaultOptions(){return[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v11"},{label:"Satellite",styleName:"Mapbox Satellite Streets",styleUrl:"mapbox://sprites/mapbox/satellite-streets-v11"}]}onAddControl(){this.insert()}}class E extends f{constructor(){super(),this.zoomIn=new p,this.zoomOut=new p}insert(){this.addClassName("mapbox-zoom"),this.zoomIn.setIcon((new DOMParser).parseFromString('\n<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="#505050" width="20" height="20">\n    <rect fill="none" height="24" width="24"/>\n    <path d="M18,13h-5v5c0,0.55-0.45,1-1,1l0,0c-0.55,0-1-0.45-1-1v-5H6c-0.55,0-1-0.45-1-1l0,0c0-0.55,0.45-1,1-1h5V6 c0-0.55,0.45-1,1-1l0,0c0.55,0,1,0.45,1,1v5h5c0.55,0,1,0.45,1,1l0,0C19,12.55,18.55,13,18,13z"/>\n</svg>\n',"image/svg+xml").firstChild),this.zoomIn.onClick((()=>this.map.zoomIn())),this.zoomOut.setIcon((new DOMParser).parseFromString('\n<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="#505050" width="20" height="20">\n    <rect fill="none" height="24" width="24"/>\n    <path d="M18,13H6c-0.55,0-1-0.45-1-1l0,0c0-0.55,0.45-1,1-1h12c0.55,0,1,0.45,1,1l0,0C19,12.55,18.55,13,18,13z"/>\n</svg>\n',"image/svg+xml").firstChild),this.zoomOut.onClick((()=>this.map.zoomOut())),this.addButton(this.zoomIn),this.addButton(this.zoomOut)}onAddControl(){this.insert()}}},9817:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){n(t,e,r[e])}))}return t}e.default=function(t,e){var r=i.default,n={loading:function(t){t.error,t.isLoading;return t.pastDelay,null}};a=t,u=Promise,(null!=u&&"undefined"!==typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](a):a instanceof u)?n.loader=function(){return t}:"function"===typeof t?n.loader=t:"object"===typeof t&&(n=o({},n,t));var a,u;var l=n=o({},n,e);if(l.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(l.suspense)return r(l);n.loadableGenerated&&delete(n=o({},n,n.loadableGenerated)).loadableGenerated;if("boolean"===typeof n.ssr){if(!n.ssr)return delete n.ssr,s(r,n);delete n.ssr}return r(n)};a(r(9901));var i=a(r(8776));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return delete e.webpack,delete e.modules,t(e)}},7381:function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var o=((n=r(9901))&&n.__esModule?n:{default:n}).default.createContext(null);e.LoadableContext=o},8776:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){o(t,e,r[e])}))}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,s=(a=r(9901))&&a.__esModule?a:{default:a},u=r(3121),l=r(7381);var c=[],h=[],f=!1;function p(t){var e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then((function(t){return r.loading=!1,r.loaded=t,t})).catch((function(t){throw r.loading=!1,r.error=t,t})),r}var d=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loadFn=e,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}var e,r,o;return e=t,(r=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,r=this._opts;if(e.loading){if("number"===typeof r.delay)if(0===r.delay)this._state.pastDelay=!0;else{var n=this;this._delay=setTimeout((function(){n._update({pastDelay:!0})}),r.delay)}if("number"===typeof r.timeout){var o=this;this._timeout=setTimeout((function(){o._update({timedOut:!0})}),r.timeout)}}this._res.promise.then((function(){t._update({}),t._clearTimeouts()})).catch((function(e){t._update({}),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=i({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks.delete(t)}}}])&&n(e.prototype,r),o&&n(e,o),t}();function g(t){return function(t,e){var r=function(){if(!o){var e=new d(t,n);o={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return o.promise()},n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},e);n.suspense&&(n.lazy=s.default.lazy(n.loader));var o=null;if(!f&&"function"===typeof n.webpack&&!n.suspense){var a=n.webpack();h.push((function(t){var e=!0,n=!1,o=void 0;try{for(var i,s=a[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var u=i.value;if(-1!==t.indexOf(u))return r()}}catch(l){n=!0,o=l}finally{try{e||null==s.return||s.return()}finally{if(n)throw o}}}))}var c=n.suspense?function(t,e){return s.default.createElement(n.lazy,i({},t,{ref:e}))}:function(t,e){r();var i=s.default.useContext(l.LoadableContext),a=u.useSubscription(o);return s.default.useImperativeHandle(e,(function(){return{retry:o.retry}}),[]),i&&Array.isArray(n.modules)&&n.modules.forEach((function(t){i(t)})),s.default.useMemo((function(){return a.loading||a.error?s.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:o.retry}):a.loaded?s.default.createElement(function(t){return t&&t.__esModule?t.default:t}(a.loaded),t):null}),[t,a])};return c.preload=function(){return!n.suspense&&r()},c.displayName="LoadableComponent",s.default.forwardRef(c)}(p,t)}function y(t,e){for(var r=[];t.length;){var n=t.pop();r.push(n(e))}return Promise.all(r).then((function(){if(t.length)return y(t,e)}))}g.preloadAll=function(){return new Promise((function(t,e){y(c).then(t,e)}))},g.preloadReady=function(t){var e=void 0===t?[]:t;return new Promise((function(t){var r=function(){return f=!0,t()};y(h,e).then(r,r)}))},window.__NEXT_PRELOADREADY=g.preloadReady;var m=g;e.default=m},9672:function(t,e,r){t.exports=r(9817)},6434:function(t){"use strict";var e=function(t){return t!==t};t.exports=function(t,r){return 0===t&&0===r?1/t===1/r:t===r||!(!e(t)||!e(r))}},2641:function(t,e,r){"use strict";var n=r(5597),o=r(5592),i=r(6434),a=r(5669),s=r(9525),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},5669:function(t,e,r){"use strict";var n=r(6434);t.exports=function(){return"function"===typeof Object.is?Object.is:n}},9525:function(t,e,r){"use strict";var n=r(5669),o=r(5597);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},3032:function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(9473),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{h(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(t){var e=null!==t&&"object"===typeof t,r="[object Function]"===i.call(t),n=a(t),s=e&&"[object String]"===i.call(t),f=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=l&&r;if(s&&t.length>0&&!o.call(t,0))for(var g=0;g<t.length;++g)f.push(String(g));if(n&&t.length>0)for(var y=0;y<t.length;++y)f.push(String(y));else for(var m in t)d&&"prototype"===m||!o.call(t,m)||f.push(String(m));if(u)for(var v=function(t){if("undefined"===typeof window||!p)return h(t);try{return h(t)}catch(e){return!1}}(t),b=0;b<c.length;++b)v&&"constructor"===c[b]||!o.call(t,c[b])||f.push(c[b]);return f}}t.exports=n},3571:function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(9473),i=Object.keys,a=i?function(t){return i(t)}:r(3032),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?s(n.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},9473:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},2980:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var s=(n-r)/2,u=0,l=s-1;u<s;l=u++){var c=e[r+2*u+0],h=e[r+2*u+1],f=e[r+2*l+0],p=e[r+2*l+1];h>i!==p>i&&o<(f-c)*(i-h)/(p-h)+c&&(a=!a)}return a}},1807:function(t,e,r){var n=r(2980),o=r(375);t.exports=function(t,e,r,i){return e.length>0&&Array.isArray(e[0])?o(t,e,r,i):n(t,e,r,i)},t.exports.nested=o,t.exports.flat=n},375:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var s=n-r,u=0,l=s-1;u<s;l=u++){var c=e[u+r][0],h=e[u+r][1],f=e[l+r][0],p=e[l+r][1];h>i!==p>i&&o<(f-c)*(i-h)/(p-h)+c&&(a=!a)}return a}},7516:function(t,e,r){var n=r(3656);t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}var o=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function i(t,e){return t>e?1:t<e?-1:0}function a(t,e,r){for(var n=new o(null,null),i=n,a=n;;){var s=r(t,e.key);if(s<0){if(null===e.left)break;if(r(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}a.left=e,a=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(r(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,a.left=e.right,e.left=n.right,e.right=n.left,e}function s(t,e,r,n){var i=new o(t,e);if(null===r)return i.left=i.right=null,i;var s=n(t,(r=a(t,r,n)).key);return s<0?(i.left=r.left,i.right=r,r.left=null):s>=0&&(i.right=r.right,i.left=r,r.right=null),i}function u(t,e,r){var n=null,o=null;if(e){var i=r((e=a(t,e,r)).key,t);0===i?(n=e.left,o=e.right):i<0?(o=e.right,e.right=null,n=e):(n=e.left,e.left=null,o=e)}return{left:n,right:o}}function l(t,e,r){return null===e?t:(null===t||((e=a(t.key,e,r)).left=t),e)}function c(t,e,r,n,o){if(t){n(e+(r?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+o(t)+"\n");var i=e+(r?"    ":"\u2502   ");t.left&&c(t.left,i,!1,n,o),t.right&&c(t.right,i,!0,n,o)}}var h=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new o(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var n=this._comparator,i=a(t,this._root,n),s=n(t,i.key);return 0===s?this._root=i:(s<0?(r.left=i.left,r.right=i,i.left=null):s>0&&(r.right=i.right,r.left=i,i.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:0===r(t,(e=a(t,e,r)).key)?(null===e.left?n=e.right:(n=a(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=a(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=a(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],o=!1;!o;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):o=!0;return this},t.prototype.range=function(t,e,r,n){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,e)>0)break;if(i(a.key,t)>=0&&r.call(n,a))return this;a=a.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var r=e.key;return t.push(r)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var r=e.data;return t.push(r)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,o=[];!r;)if(e)o.push(e),e=e.left;else if(o.length>0){if(e=o.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return d(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var n=t.length,o=this._comparator;if(r&&m(t,e,0,n-1,o),null===this._root)this._root=f(t,e,0,n),this._size=n;else{var i=y(this.toList(),p(t,e),o);n=this._size+n,this._root=g({head:i},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return c(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,r){var n=this._comparator,o=u(t,this._root,n),i=o.left,a=o.right;n(t,e)<0?a=s(e,r,a,n):i=s(e,r,i,n),this._root=l(i,a,n)},t.prototype.split=function(t){return u(t,this._root,this._comparator)},t}();function f(t,e,r,n){var i=n-r;if(i>0){var a=r+Math.floor(i/2),s=t[a],u=e[a],l=new o(s,u);return l.left=f(t,e,r,a),l.right=f(t,e,a+1,n),l}return null}function p(t,e){for(var r=new o(null,null),n=r,i=0;i<t.length;i++)n=n.next=new o(t[i],e[i]);return n.next=null,r.next}function d(t){for(var e=t,r=[],n=!1,i=new o(null,null),a=i;!n;)e?(r.push(e),e=e.left):r.length>0?e=(e=a=a.next=r.pop()).right:n=!0;return a.next=null,i.next}function g(t,e,r){var n=r-e;if(n>0){var o=e+Math.floor(n/2),i=g(t,e,o),a=t.head;return a.left=i,t.head=t.head.next,a.right=g(t,o+1,r),a}return null}function y(t,e,r){for(var n=new o(null,null),i=n,a=t,s=e;null!==a&&null!==s;)r(a.key,s.key)<0?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),n.next}function m(t,e,r,n,o){if(!(r>=n)){for(var i=t[r+n>>1],a=r-1,s=n+1;;){do{a++}while(o(t[a],i)<0);do{s--}while(o(t[s],i)>0);if(a>=s)break;var u=t[a];t[a]=t[s],t[s]=u,u=e[a],e[a]=e[s],e[s]=u}m(t,e,r,s,o),m(t,e,s+1,n,o)}}var v=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},b=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},x=Number.EPSILON;void 0===x&&(x=Math.pow(2,-52));var w=x*x,M=function(t,e){if(-x<t&&t<x&&-x<e&&e<x)return 0;var r=t-e;return r*r<w*t*e?0:t<e?-1:1},E=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new _,this.yRounder=new _}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),_=function(){function e(){t(this,e),this.tree=new h,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===M(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===M(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),e}(),S=new E,P=function(t,e){return t.x*e.y-t.y*e.x},C=function(t,e){return t.x*e.x+t.y*e.y},k=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y},i=P(n,o);return M(i,0)},O=function(t){return Math.sqrt(C(t,t))},L=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return P(o,n)/O(o)/O(n)},A=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return C(o,n)/O(o)/O(n)},j=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},R=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},I=function(t,e,r,n){if(0===e.x)return R(r,n,t.x);if(0===n.x)return R(t,e,r.x);if(0===e.y)return j(r,n,t.y);if(0===n.y)return j(t,e,r.y);var o=P(e,n);if(0==o)return null;var i={x:r.x-t.x,y:r.y-t.y},a=P(i,e)/o,s=P(i,n)/o;return{x:(t.x+s*e.x+(r.x+a*n.x))/2,y:(t.y+s*e.y+(r.y+a*n.y))/2}},D=function(){function e(r,n){t(this,e),void 0===r.events?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=n}return r(e,null,[{key:"compare",value:function(t,r){var n=e.comparePoints(t.point,r.point);return 0!==n?n:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:F.compare(t.segment,r.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var o=e[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var o=this.point.events[n];void 0===o.consumedBy&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var o=n.otherSE;r.set(n,{sine:L(e.point,t.point,o.point),cosine:A(e.point,t.point,o.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var o=r.get(t),i=o.sine,a=o.cosine,s=r.get(e),u=s.sine,l=s.cosine;return i>=0&&u>=0?a<l?1:a>l?-1:0:i<0&&u<0?a<l?-1:a>l?1:0:u<i?-1:u>i?1:0}}}]),e}(),N=0,F=function(){function e(r,n,o,i){t(this,e),this.id=++N,this.leftSE=r,r.segment=this,r.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=r,this.rings=o,this.windings=i}return r(e,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,o=t.rightSE.point.x,i=e.rightSE.point.x;if(i<r)return 1;if(o<n)return-1;var a=t.leftSE.point.y,s=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(r<n){if(s<a&&s<u)return 1;if(s>a&&s>u)return-1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=e.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(r>n){if(a<s&&a<l)return-1;if(a>s&&a>l)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(o<i){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(o>i){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(o!==i){var y=u-a,m=o-r,v=l-s,b=i-n;if(y>m&&v<b)return 1;if(y<m&&v>b)return-1}return o>i?1:o<i||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var o=(t.y-e.y)/n.y,i=e.x+o*n.x;if(t.x===i)return 0;var a=(t.x-e.x)/n.x,s=e.y+a*n.y;return t.y===s?0:t.y<s?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=b(e,r);if(null===n)return null;var o=this.leftSE.point,i=this.rightSE.point,a=t.leftSE.point,s=t.rightSE.point,u=v(e,a)&&0===this.comparePoint(a),l=v(r,o)&&0===t.comparePoint(o),c=v(e,s)&&0===this.comparePoint(s),h=v(r,i)&&0===t.comparePoint(i);if(l&&u)return h&&!c?i:!h&&c?s:null;if(l)return c&&o.x===s.x&&o.y===s.y?null:o;if(u)return h&&i.x===a.x&&i.y===a.y?null:a;if(h&&c)return null;if(h)return i;if(c)return s;var f=I(o,this.vector(),a,t.vector());return null===f?null:v(n,f)?S.round(f.x,f.y):null}},{key:"split",value:function(t){var r=[],n=void 0!==t.events,o=new D(t,!0),i=new D(t,!1),a=this.rightSE;this.replaceRightSE(i),r.push(i),r.push(o);var s=new e(o,a,this.rings.slice(),this.windings.slice());return D.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),D.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(o.checkForConsuming(),i.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var r=this,n=t;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var o=e.compare(r,n);if(0!==o){if(o>0){var i=r;r=n,n=i}if(r.prev===n){var a=r;r=n,n=a}for(var s=0,u=n.rings.length;s<u;s++){var l=n.rings[s],c=n.windings[s],h=r.rings.indexOf(l);-1===h?(r.rings.push(l),r.windings.push(c)):r.windings[h]+=c}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var a=this.rings[o],s=this.windings[o],u=e.indexOf(a);-1===u?(e.push(a),r.push(s)):r[u]+=s}for(var l=[],c=[],h=0,f=e.length;h<f;h++)if(0!==r[h]){var p=e[h],d=p.poly;if(-1===c.indexOf(d))if(p.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var g=l.indexOf(p.poly);-1!==g&&l.splice(g,1)}}for(var y=0,m=l.length;y<m;y++){var v=l[y].multiPoly;-1===n.indexOf(v)&&n.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(G.type){case"union":var r=0===t.length,n=0===e.length;this._isInResult=r!==n;break;case"intersection":var o,i;t.length<e.length?(o=t.length,i=e.length):(o=e.length,i=t.length),this._isInResult=i===G.numMultiPolys&&o<i;break;case"xor":var a=Math.abs(t.length-e.length);this._isInResult=a%2===1;break;case"difference":var s=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=s(t)!==s(e);break;default:throw new Error("Unrecognized operation type found ".concat(G.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,r,n){var o,i,a,s=D.comparePoints(t,r);if(s<0)o=t,i=r,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));o=r,i=t,a=-1}return new e(new D(o,!0),new D(i,!1),[n],[a])}}]),e}(),T=function(){function e(r,n,o){if(t(this,e),!Array.isArray(r)||0===r.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=o,this.segments=[],"number"!==typeof r[0][0]||"number"!==typeof r[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=S.round(r[0][0],r[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var a=i,s=1,u=r.length;s<u;s++){if("number"!==typeof r[s][0]||"number"!==typeof r[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=S.round(r[s][0],r[s][1]);l.x===a.x&&l.y===a.y||(this.segments.push(F.fromRing(a,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),a=l)}i.x===a.x&&i.y===a.y||this.segments.push(F.fromRing(a,i,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),e}(),z=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new T(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,i=r.length;o<i;o++){var a=new T(r[o],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),B=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof r[0][0][0]&&(r=[r])}catch(s){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,i=r.length;o<i;o++){var a=new z(r[o],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),U=function(){function e(r){t(this,e),this.events=r;for(var n=0,o=r.length;n<o;n++)r[n].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var r=[],n=0,o=t.length;n<o;n++){var i=t[n];if(i.isInResult()&&!i.ringOut){for(var a=null,s=i.leftSE,u=i.rightSE,l=[s],c=s.point,h=[];a=s,s=u,l.push(s),s.point!==c;)for(;;){var f=s.getAvailableLinkedEvents();if(0===f.length){var p=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var g=null,y=0,m=h.length;y<m;y++)if(h[y].point===s.point){g=y;break}if(null===g){h.push({index:l.length,point:s.point});var v=s.getLeftmostComparator(a);u=f.sort(v)[0].otherSE;break}var b=h.splice(g)[0],x=l.splice(b.index);x.unshift(x[0].otherSE),r.push(new e(x.reverse()))}r.push(new e(l))}}return r}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var o=this.events[r].point,i=this.events[r+1].point;0!==k(o,t,i)&&(e.push(o),t=o)}if(1===e.length)return null;var a=e[0],s=e[1];0===k(a,t,s)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,c=this.isExteriorRing()?e.length:-1,h=[],f=l;f!=c;f+=u)h.push([e[f].x,e[f].y]);return h}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];D.compare(t,n)>0&&(t=n)}for(var o=t.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut)return i.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=i.prevInResult(),i=o?o.prevInResult():null}}}]),e}(),Y=function(){function e(r){t(this,e),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),e}(),X=function(){function e(r){t(this,e),this.rings=r,this.polys=this._composePolys(r)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];if(!o.poly)if(o.isExteriorRing())e.push(new Y(o));else{var i=o.enclosingRing();i.poly||e.push(new Y(i)),i.poly.addInterior(o)}}return e}}]),e}(),q=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.compare;t(this,e),this.queue=r,this.tree=new h(n),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=n,i=n,a=void 0,s=void 0;void 0===a;)null===(o=this.tree.prev(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);for(;void 0===s;)null===(i=this.tree.next(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);if(t.isLeft){var u=null;if(a){var l=a.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!a.isAnEndpoint(l)))for(var c=this._splitSafely(a,l),h=0,f=c.length;h<f;h++)r.push(c[h])}var p=null;if(s){var d=s.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!s.isAnEndpoint(d)))for(var g=this._splitSafely(s,d),y=0,m=g.length;y<m;y++)r.push(g[y])}if(null!==u||null!==p){var v=null;v=null===u?p:null===p||D.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),r.push(e.rightSE);for(var b=e.split(v),x=0,w=b.length;x<w;x++)r.push(b[x])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=a)}else{if(a&&s){var M=a.getIntersection(s);if(null!==M){if(!a.isAnEndpoint(M))for(var E=this._splitSafely(a,M),_=0,S=E.length;_<S;_++)r.push(E[_]);if(!s.isAnEndpoint(M))for(var P=this._splitSafely(s,M),C=0,k=P.length;C<k;C++)r.push(P[C])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),e}(),Z="undefined"!==typeof n&&n.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,W="undefined"!==typeof n&&n.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,G=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,r){G.type=t,S.reset();for(var n=[new B(e,!0)],o=0,i=r.length;o<i;o++)n.push(new B(r[o],!1));if(G.numMultiPolys=n.length,"difference"===G.type)for(var a=n[0],s=1;s<n.length;)null!==b(n[s].bbox,a.bbox)?s++:n.splice(s,1);if("intersection"===G.type)for(var u=0,l=n.length;u<l;u++)for(var c=n[u],f=u+1,p=n.length;f<p;f++)if(null===b(c.bbox,n[f].bbox))return[];for(var d=new h(D.compare),g=0,y=n.length;g<y;g++)for(var m=n[g].getSweepEvents(),v=0,x=m.length;v<x;v++)if(d.insert(m[v]),d.size>Z)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new q(d),M=d.size,E=d.pop();E;){var _=E.key;if(d.size===M){var P=_.segment;throw new Error("Unable to pop() ".concat(_.isLeft?"left":"right"," SweepEvent ")+"[".concat(_.point.x,", ").concat(_.point.y,"] from segment #").concat(P.id," ")+"[".concat(P.leftSE.point.x,", ").concat(P.leftSE.point.y,"] -> ")+"[".concat(P.rightSE.point.x,", ").concat(P.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>Z)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>W)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var C=w.process(_),k=0,O=C.length;k<O;k++){var L=C[k];void 0===L.consumedBy&&d.insert(L)}M=d.size,E=d.pop()}S.reset();var A=U.factory(w.segments);return new X(A).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return G.run("union",t,r)},intersection:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return G.run("intersection",t,r)},xor:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return G.run("xor",t,r)},difference:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return G.run("difference",t,r)}}}()},9499:function(t){t.exports=function(){"use strict";function t(t,r,o,i,a){e(t,r,o||0,i||t.length-1,a||n)}function e(t,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,Math.max(o,Math.floor(n-u*c/s+h)),Math.min(i,Math.floor(n+(s-u)*c/s+h)),a)}var f=t[n],p=o,d=i;for(r(t,o,n),a(t[i],f)>0&&r(t,o,i);p<d;){for(r(t,p,d),p++,d--;a(t[p],f)<0;)p++;for(;a(t[d],f)>0;)d--}0===a(t[o],f)?r(t,o,d):r(t,++d,i),d<=n&&(o=d+1),n<=d&&(i=d-1)}}function r(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function n(t,e){return t<e?-1:t>e?1:0}return t}()},6690:function(t,e,r){"use strict";t.exports=o,t.exports.default=o;var n=r(9499);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,n,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=e;a<r;a++)i=t.children[a],u(o,t.leaf?n(i):i);return o}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,o-r)*Math.max(0,i-n)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,r,o,i){for(var a,s=[e,r];s.length;)(r=s.pop())-(e=s.pop())<=o||(a=e+Math.ceil((r-e)/o/2)*o,n(t,a,e,r,i),s.push(e,a,a,r))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!g(t,e))return r;for(var o,i,a,s,u=[];e;){for(o=0,i=e.children.length;o<i;o++)a=e.children[o],g(t,s=e.leaf?n(a):a)&&(e.leaf?r.push(a):d(t,s)?this._all(a,r):u.push(a));e=u.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!g(t,e))return!1;for(var n,o,i,a,s=[];e;){for(n=0,o=e.children.length;n<o;n++)if(i=e.children[n],g(t,a=e.leaf?r(i):i)){if(e.leaf||d(t,a))return!0;s.push(i)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var r,n,o,a,s=this.data,u=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],r=c.pop(),a=!0),s.leaf&&-1!==(o=i(t,s.children,e)))return s.children.splice(o,1),l.push(s),this._condense(l),this;a||s.leaf||!d(s,u)?n?(r++,s=n.children[r],a=!1):s=null:(l.push(s),c.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var o,i=r-e+1,s=this._maxEntries;if(i<=s)return a(o=y(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,n-1))),(o=y([])).leaf=!1,o.height=n;var u,l,c,h,f=Math.ceil(i/s),p=f*Math.ceil(Math.sqrt(s));for(m(t,e,r,p,this.compareMinX),u=e;u<=r;u+=p)for(m(t,u,c=Math.min(u+p-1,r),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),o.children.push(this._build(t,l,h,n-1));return a(o,this.toBBox),o},_chooseSubtree:function(t,e,r,n){for(var o,i,a,s,u,l,c,f,p,d;n.push(e),!e.leaf&&n.length-1!==r;){for(c=f=1/0,o=0,i=e.children.length;o<i;o++)u=h(a=e.children[o]),p=t,d=a,(l=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u)<f?(f=l,c=u<c?u:c,s=a):l===f&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,o=r?t:n(t),i=[],a=this._chooseSubtree(o,this.data,e,i);for(a.children.push(t),u(a,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var i=this._chooseSplitIndex(r,o,n),s=y(r.children.splice(i,r.children.length-i));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,o,i,a,u,l,c,f;for(l=c=1/0,n=e;n<=r-e;n++)a=p(o=s(t,0,n,this.toBBox),i=s(t,n,r,this.toBBox)),u=h(o)+h(i),a<l?(l=a,f=n,c=u<c?u:c):a===l&&u<c&&(c=u,f=n);return f},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var o,i,a=this.toBBox,l=s(t,0,e,a),c=s(t,r-e,r,a),h=f(l)+f(c);for(o=e;o<r-e;o++)i=t.children[o],u(l,t.leaf?a(i):i),h+=f(l);for(o=r-e-1;o>=e;o--)i=t.children[o],u(c,t.leaf?a(i):i),h+=f(c);return h},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)u(e[n],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():a(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},8346:function(t){t.exports=function(){"use strict";function t(t,n,o,i,a){!function t(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(r,n,Math.max(o,Math.floor(n-u*c/s+h)),Math.min(i,Math.floor(n+(s-u)*c/s+h)),a)}var f=r[n],p=o,d=i;for(e(r,o,n),a(r[i],f)>0&&e(r,o,i);p<d;){for(e(r,p,d),p++,d--;a(r[p],f)<0;)p++;for(;a(r[d],f)>0;)d--}0===a(r[o],f)?e(r,o,d):e(r,++d,i),d<=n&&(o=d+1),n<=d&&(i=d-1)}}(t,n,o||0,i||t.length-1,a||r)}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<r;i++){var a=t.children[i];s(o,t.leaf?n(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,r,n,o,i){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=o)){var s=r+Math.ceil((n-r)/o/2)*o;t(e,s,r,n,i),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,r=[];if(!p(t,e))return r;for(var n=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?n(a):a;p(t,s)&&(e.leaf?r.push(a):f(t,s)?this._all(a,r):o.push(a))}e=o.pop()}return r},n.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],i=e.leaf?this.toBBox(o):o;if(p(t,i)){if(e.leaf||f(t,i))return!0;r.push(o)}}e=r.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var r,n,i,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],r=l.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}i||a.leaf||!f(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(u.push(a),l.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},n.prototype._build=function(t,e,r,n){var o,a=r-e+1,s=this._maxEntries;if(a<=s)return i(o=d(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=d([])).leaf=!1,o.height=n;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));g(t,e,r,l,this.compareMinX);for(var c=e;c<=r;c+=l){var h=Math.min(c+l-1,r);g(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);o.children.push(this._build(t,f,p,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<i?(i=h,o=l<o?l:o,a=u):h===i&&l<o&&(o=l,a=u)}e=a||e.children[0]}var f,p;return e},n.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),o=[],i=this._chooseSubtree(n,this.data,e,o);for(i.children.push(t),s(i,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},n.prototype._split=function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=d(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,r){for(var n,o,i,s,u,l,h,f=1/0,p=1/0,d=e;d<=r-e;d++){var g=a(t,0,d,this.toBBox),y=a(t,d,r,this.toBBox),m=(o=g,i=y,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),h=Math.min(o.maxY,i.maxY),Math.max(0,l-s)*Math.max(0,h-u)),v=c(g)+c(y);m<f?(f=m,n=d,p=v<p?v:p):m===f&&v<p&&(p=v,n=d)}return n||r-e},n.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var o=this.toBBox,i=a(t,0,e,o),u=a(t,r-e,r,o),l=h(i)+h(u),c=e;c<r-e;c++){var f=t.children[c];s(i,t.leaf?o(f):f),l+=h(i)}for(var p=r-e-1;p>=e;p--){var d=t.children[p];s(u,t.leaf?o(d):d),l+=h(u)}return l},n.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)s(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},n}()},4279:function(t,e,r){"use strict";r.d(e,{Wy:function(){return N},GI:function(){return ht},ZP:function(){return ae}});var n=r(6528),o=r(9901),i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},s=function(t,e,r){return Object.keys(t).reduce((function(n,o){var i=e[o];if(i){var a=function(t){i(r,t)};r.on(t[o],a),n[o]=a}return n}),{})},u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=o.createContext(void 0);function c(t){return function(e){return o.createElement(l.Consumer,null,(function(r){return o.createElement(t,u({map:r},e))}))}}var h=r(571),f=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=r(4667),g=[11],y="flyTo",m=[-.2416815,51.5285582],v=function(t){var e,r=t.accessToken,u=t.apiUrl,c=t.minZoom,v=void 0===c?0:c,b=t.maxZoom,x=void 0===b?20:b,w=t.hash,M=void 0!==w&&w,E=t.preserveDrawingBuffer,_=void 0!==E&&E,S=t.scrollZoom,P=void 0===S||S,C=t.interactive,k=void 0===C||C,O=t.dragRotate,L=void 0===O||O,A=t.pitchWithRotate,j=void 0===A||A,R=t.attributionControl,I=void 0===R||R,D=t.customAttribution,N=t.logoPosition,F=void 0===N?"bottom-left":N,T=t.renderWorldCopies,z=void 0===T||T,B=t.trackResize,U=void 0===B||B,Y=t.touchZoomRotate,X=void 0===Y||Y,q=t.doubleClickZoom,Z=void 0===q||q,W=t.keyboard,G=void 0===W||W,J=t.dragPan,H=void 0===J||J,$=t.boxZoom,Q=void 0===$||$,V=t.refreshExpiredTiles,K=void 0===V||V,tt=t.failIfMajorPerformanceCaveat,et=void 0!==tt&&tt,rt=t.bearingSnap,nt=void 0===rt?7:rt,ot=t.antialias,it=void 0!==ot&&ot,at=t.mapInstance,st=t.transformRequest;return(e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={map:at,ready:!1},e.listeners={},e._isMounted=!0,e.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},e.setRef=function(t){e.container=t},e}return f(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,o=e.style,i=e.onStyleLoad,l=e.center,c=e.pitch,h=e.zoom,f=e.fitBounds,p=e.fitBoundsOptions,d=e.bearing,g=e.maxBounds;if(n.accessToken=r,u&&(n.config.API_URL=u),!Array.isArray(h))throw new Error("zoom need to be an array type of length 1 for reliable update");var y={preserveDrawingBuffer:_,hash:M,zoom:h[0],minZoom:v,maxZoom:x,maxBounds:g,container:this.container,center:f&&l===m?this.calcCenter(f):l,style:o,scrollZoom:P,attributionControl:I,customAttribution:D,interactive:k,dragRotate:L,pitchWithRotate:j,renderWorldCopies:z,trackResize:U,touchZoomRotate:X,doubleClickZoom:Z,keyboard:G,dragPan:H,boxZoom:Q,refreshExpiredTiles:K,logoPosition:F,bearingSnap:nt,failIfMajorPerformanceCaveat:et,antialias:it,transformRequest:st};if(d){if(!Array.isArray(d))throw new Error("bearing need to be an array type of length 1 for reliable update");y.bearing=d[0]}if(c){if(!Array.isArray(c))throw new Error("pitch need to be an array type of length 1 for reliable update");y.pitch=c[0]}var b=this.state.map;b||(b=new n.Map(y),this.setState({map:b})),f&&b.fitBounds(f,p,{fitboundUpdate:!0}),b.on("load",(function(e){t._isMounted&&t.setState({ready:!0}),i&&i(b,e)})),this.listeners=s(a,this.props,b)},e.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},e.prototype.componentDidUpdate=function(t){var e=this,r=this.state.map;if(!r)return null;this.listeners=function(t,e,r){Object.keys(a).filter((function(r){return t[r]&&"function"!==typeof e[r]})).forEach((function(e){r.off(a[e],t[e]),delete t[e]}));var n=Object.keys(a).filter((function(r){return!t[r]&&"function"===typeof e[r]})).reduce((function(t,e){return t[e]=a[e],t}),{}),o=s(n,e,r);return i({},t,o)}(this.listeners,this.props,r);var n=r.getCenter(),o=r.getZoom(),u=r.getBearing(),l=r.getPitch(),c=t.zoom!==this.props.zoom&&(this.props.zoom&&this.props.zoom[0])!==o,h=t.center!==this.props.center&&((this.props.center&&this.props.center[0])!==n.lng||(this.props.center&&this.props.center[1])!==n.lat),f=t.bearing!==this.props.bearing&&(this.props.bearing&&this.props.bearing[0])!==u,g=t.pitch!==this.props.pitch&&(this.props.pitch&&this.props.pitch[0])!==l;this.props.maxBounds&&(t.maxBounds!==this.props.maxBounds&&r.setMaxBounds(this.props.maxBounds));if(this.props.fitBounds){var m=t.fitBounds;!(m!==this.props.fitBounds||this.props.fitBounds.length!==(m&&m.length)||!!m.filter((function(t,r){var n=e.props.fitBounds&&e.props.fitBounds[r];return t[0]!==(n&&n[0])||t[1]!==(n&&n[1])}))[0])&&d(t.fitBoundsOptions,this.props.fitBoundsOptions)||r.fitBounds(this.props.fitBounds,this.props.fitBoundsOptions,{fitboundUpdate:!0})}if(c||h||f||g){var v=this.props.movingMethod||y,b=this.props,x=b.flyToOptions,w=b.animationOptions;r[v](p({},w,x,{zoom:c&&this.props.zoom?this.props.zoom[0]:o,center:h?this.props.center:n,bearing:f?this.props.bearing:u,pitch:g?this.props.pitch:l}))}return d(t.style,this.props.style)||r.setStyle(this.props.style),null},e.prototype.render=function(){var t=this.props,e=t.containerStyle,r=t.className,n=t.children,i=t.renderChildrenInPortal,a=this.state,s=a.ready,u=a.map;if(i){var c=s&&u&&"function"===typeof u.getCanvasContainer?u.getCanvasContainer():void 0;return o.createElement(l.Provider,{value:u},o.createElement("div",{ref:this.setRef,className:r,style:p({},e)},s&&c&&(0,h.createPortal)(n,c)))}return o.createElement(l.Provider,{value:u},o.createElement("div",{ref:this.setRef,className:r,style:p({},e)},s&&n))},e}(o.Component)).defaultProps={onStyleLoad:function(t,e){return null},center:m,zoom:g,bearing:0,movingMethod:y,pitch:0,containerStyle:{textAlign:"left"}},e},b=function(t,e){var r={};return Array.from(new Set(Object.keys(t).concat(Object.keys(e)))).map((function(n){t[n]!==e[n]&&(r[n]=e[n])})),r},x=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(){return(w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},M=r(4667),E={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.source=w({type:"geojson"},e.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),e.geometry=function(t){switch(e.props.type){case"symbol":case"circle":return{type:"Point",coordinates:t};case"fill":return Array.isArray(t[0][0][0])?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t};default:return{type:"Point",coordinates:t}}},e.makeFeature=function(t,r){return{type:"Feature",geometry:e.geometry(t.coordinates),properties:w({},t.properties,{id:r})}},e.initialize=function(){var t=e.props,r=t.type,n=t.layout,o=t.paint,i=t.sourceId,a=t.before,s=t.images,u=t.id,l=t.metadata,c=t.sourceLayer,h=t.minZoom,f=t.maxZoom,p=t.filter,d=e.props.map,g={id:u,source:i||u,type:r,layout:n,paint:o,metadata:l};(c&&(g["source-layer"]=c),h&&(g.minzoom=h),f&&(g.maxzoom=f),p&&(g.filter=p),s)&&(Array.isArray(s[0])?s:[s]).filter((function(t){return!d.hasImage(t[0])})).forEach((function(t){d.addImage(t[0],t[1],t[2])}));i||d.getSource(u)||d.addSource(u,e.source),d.getLayer(u)||d.addLayer(g,a),Object.entries(E).forEach((function(t){var r=t[0],n=t[1],o=e.props[n];o&&d.on(r,u,o)}))},e.onStyleDataChange=function(){e.props.map.getLayer(e.props.id)||(e.initialize(),e.forceUpdate())},e.getChildren=function(){var t=e.props.children;return t?Array.isArray(t)?t.reduce((function(t,e){return t.concat(e)}),[]):[t]:[]},e}return x(e,t),e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this,e=this.props.map,r=this.props,n=r.images,o=r.id;e&&e.getStyle()&&(e.off("styledata",this.onStyleDataChange),Object.entries(E).forEach((function(r){var n=r[0],i=r[1],a=t.props[i];a&&e.off(n,o,a)})),e.getLayer(o)&&e.removeLayer(o),this.props.sourceId||e.removeSource(o),n&&(Array.isArray(n[0])?n:[n]).map((function(t){var e=t[0];t.slice(1);return e})).forEach(e.removeImage.bind(e)))},e.prototype.componentDidUpdate=function(t){var e=this,r=t.paint,n=t.layout,o=t.before,i=t.filter,a=t.id,s=t.minZoom,u=t.maxZoom,l=t.map;if(!M(this.props.paint,r)){var c=b(r,this.props.paint);Object.keys(c).forEach((function(t){l.setPaintProperty(a,t,c[t])}))}if(!M(this.props.layout,n)){var h=b(n,this.props.layout);Object.keys(h).forEach((function(t){l.setLayoutProperty(a,t,h[t])}))}M(this.props.filter,i)||l.setFilter(a,this.props.filter),o!==this.props.before&&l.moveLayer(a,this.props.before),s===this.props.minZoom&&u===this.props.maxZoom||l.setLayerZoomRange(a,this.props.minZoom,this.props.maxZoom),Object.entries(E).forEach((function(r){var n=r[0],o=r[1],i=t[o],s=e.props[o];i!==s&&(i&&l.off(n,a,i),s&&l.on(n,a,s))}))},e.prototype.render=function(){var t=this,e=this.props.map,r=this.props,n=r.sourceId,o=r.draggedChildren,i=this.getChildren();if(o){var a=o.map((function(t){return t.key}));i=i.map((function(t){var e=a.indexOf(t.key);return-1!==e?o[e]:t}))}var s=i.map((function(e,r){var n=e.props;return t.makeFeature(n,r)})).filter(Boolean),u=e.getSource(n||this.props.id);return u&&!n&&u.setData&&u.setData({type:"FeatureCollection",features:s}),null},e.defaultProps={type:"symbol",layout:{},paint:{}},e}(o.Component),S=0,P=function(){return S+=1},C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=function(){return(k=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var O=function(t){return function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.hover=[],t.draggedChildren=void 0,t.id=t.props.id||"layer-"+P(),t.getChildren=function(){return[].concat(t.props.children).filter((function(t){return"undefined"!==typeof t}))},t.getChildFromId=function(t,e){return t[e]},t.areFeaturesDraggable=function(e,r){return void 0===r&&(r=t.hover),!!r.map((function(r){return!!t.getChildFromId(e,r)&&t.getChildFromId(e,r).props.draggable})).filter(Boolean).length},t.onClick=function(e){var r=e.features,n=t.getChildren(),o=t.props.map;r&&r.forEach((function(r){var i=r.properties.id;if(n){var a=t.getChildFromId(n,i),s=a&&a.props.onClick;s&&s(k({},e,{feature:r,map:o}))}}))},t.onMouseEnter=function(e){var r=t.getChildren(),n=t.props.map;t.hover=[],e.features.forEach((function(o){var i=o.properties.id,a=t.getChildFromId(r,i);t.hover.push(i);var s=a&&a.props.onMouseEnter;s&&s(k({},e,{feature:o,map:n}))})),t.areFeaturesDraggable(r)&&n.dragPan.disable()},t.onMouseLeave=function(e){var r=t.getChildren(),n=t.props.map;t.areFeaturesDraggable(r)&&n.dragPan.enable(),t.hover.forEach((function(o){var i=t.getChildFromId(r,o),a=i&&i.props.onMouseLeave;a&&a(k({},e,{map:n}))})),t.draggedChildren||(t.hover=[])},t.onMouseDown=function(){t.hover.length&&t.onFeatureDown("mousedown")},t.onTouchStart=function(e){t.hover=e.features.map((function(t){return t.properties.id})),t.hover.length&&t.onFeatureDown("touchstart")},t.onFeatureDown=function(e){var r="mousedown"===e?"mousemove":"touchmove",n="mousedown"===e?"mouseup":"touchend",o=t.props.map;o.once(r,t.onFeatureDragStart),o.on(r,t.onFeatureDrag),o.once(n,(function(e){o.off(r,t.onFeatureDragStart),o.off(r,t.onFeatureDrag),t.onFeatureDragEnd(e)}))},t.onFeatureDragStart=function(e){var r=t.props.map,n=t.getChildren();t.hover.forEach((function(o){var i=t.getChildFromId(n,o);if(!i||i.props.draggable){var a=i&&i.props.onDragStart;a&&a(k({},e,{map:r}))}}))},t.onFeatureDrag=function(e){var r=t.getChildren(),n=t.props.map,i=e.lngLat,a=i.lng,s=i.lat;t.draggedChildren=[],t.hover.forEach((function(i){var u=t.getChildFromId(r,i),l=u&&u.props.onDrag;u&&u.props.draggable&&(t.draggedChildren.push(o.cloneElement(u,{coordinates:[a,s]})),l&&l(k({},e,{map:n})))})),t.forceUpdate()},t.onFeatureDragEnd=function(e){var r=t.props.map,n=t.getChildren();t.hover.forEach((function(o){var i=t.getChildFromId(n,o),a=i&&i.props.onDragEnd;a&&i.props.draggable&&t.draggedChildren&&a(k({},e,{map:r}))})),t.draggedChildren=void 0},t}return C(r,e),r.prototype.componentDidMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},r.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},r.prototype.render=function(){return o.createElement(t,k({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},r}(o.Component)},L=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(){return(A=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},j=r(4667),R=["symbol","line","fill","fill-extrusion","circle"],I=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/[\s+]|-/g,"")},D={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"},N=c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id||"geojson-"+P(),e.source=A({type:"geojson"},e.props.sourceOptions,{data:e.props.data}),e.layerIds=[],e.buildLayerId=function(t){return e.id+"-"+t},e.createLayer=function(t){var r=e.props,n=r.before,o=r.layerOptions,i=r.map,a=e.buildLayerId(t);e.layerIds.push(a);var s=e.props[I(t)+"Paint"]||{},u=Object.keys(s).length?"visible":"none",l=e.props[I(t)+"Layout"]||{visibility:u},c=A({id:a,source:e.id,type:t,paint:s,layout:l},o);i.addLayer(c,n),e.mapLayerMouseHandlers(t)},e.mapLayerMouseHandlers=function(t){var r=e.props.map,n=e.buildLayerId(t);Object.keys(D).forEach((function(o){var i=e.props[""+I(t)+D[o]]||null;i&&r.on(o,n,i)}))},e.onStyleDataChange=function(){e.props.map.getSource(e.id)||(e.unbind(),e.initialize(),e.forceUpdate())},e.isGeoJSONSource=function(t){return!!t&&"function"===typeof t.setData},e}return L(e,t),e.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},e.prototype.unbind=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var r=e.getStyle().layers;r&&r.filter((function(e){return e.source===t.id})).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id)}R.forEach((function(r){Object.keys(D).forEach((function(n){var o=I(r)+D[n];t.props[o]&&e.off(n,t.buildLayerId(r),t.props[o])}))})),this.layerIds.forEach((function(t){e.getLayer(t)&&e.removeLayer(t)}))},e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},e.prototype.componentDidUpdate=function(t){var e=this,r=t.data,n=t.before,o=t.layerOptions,i=t.map,a=i.getSource(this.id);if(this.isGeoJSONSource(a)){this.props.data!==r&&(a.setData(this.props.data),this.source=A({type:"geojson"},this.props.sourceOptions,{data:this.props.data}));var s=this.props.layerOptions&&o&&!j(this.props.layerOptions.filter,o.filter);R.forEach((function(r){var o=e.buildLayerId(r);e.props.layerOptions&&s&&i.setFilter(o,e.props.layerOptions.filter||[]);var a=I(r)+"Paint";if(!j(t[a],e.props[a])){var u=b(t[a],e.props[a]);Object.keys(u).forEach((function(t){i.setPaintProperty(o,t,u[t])}))}var l=I(r)+"Layout";if(!j(t[l],e.props[l])){var c=b(t[l],e.props[l]);Object.keys(c).forEach((function(t){i.setLayoutProperty(o,t,c[t])}))}Object.keys(D).forEach((function(n){var a=I(r)+D[n];t[a]!==e.props[a]&&(t[a]&&i.off(n,o,t[a]),e.props[a]&&i.on(n,o,e.props[a]))})),n!==e.props.before&&i.moveLayer(o,e.props.before)}))}},e.prototype.render=function(){return null},e}(o.Component)),F=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}F(e,t),e.prototype.render=function(){return null}}(o.Component),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),z=function(){return(z=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},B={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},U={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},Y={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},X={backgroundColor:"#fff",opacity:1},q={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},Z={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},W=[0,1],G=W[0],J=W[1],H=Object.keys(U),$=(c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.onMouseOut=function(){e.setState({hover:void 0})},e.plusOver=function(){G!==e.state.hover&&e.setState({hover:G})},e.minusOver=function(){J!==e.state.hover&&e.setState({hover:J})},e.onClickPlus=function(){e.props.onControlClick(e.props.map,e.props.zoomDiff)},e.onClickMinus=function(){e.props.onControlClick(e.props.map,-e.props.zoomDiff)},e}return T(e,t),e.prototype.render=function(){var t=this.props,e=t.position,r=t.style,n=t.className,i=t.tabIndex,a=this.state.hover,s=z({},Y,q,a===G?X:{}),u=z({},Y,Z,a===J?X:{});return o.createElement("div",{className:n,tabIndex:i,style:z({},B,U[e],r)},o.createElement("button",{id:"zoomIn",type:"button",style:s,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),o.createElement("button",{id:"zoomOut",type:"button",style:u,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},e.defaultProps={position:H[0],zoomDiff:.5,onControlClick:function(t,e){t.zoomTo(t.getZoom()+e)}},e}(o.Component)),["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]),Q={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"},V={offsetWidth:0,offsetHeight:0},K=[0,0],tt=function(t){if(!t)return tt(new n.Point(0,0));if("number"===typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new n.Point(t,t),top:new n.Point(0,t),bottom:new n.Point(0,-t),left:new n.Point(t,0),right:new n.Point(-t,0),"top-left":new n.Point(e,e),"top-right":new n.Point(-e,e),"bottom-left":new n.Point(e,-e),"bottom-right":new n.Point(-e,-e)}}return t instanceof n.Point||Array.isArray(t)?$.reduce((function(e,r){return e[r]=n.Point.convert(t),e}),{}):$.reduce((function(e,r){return e[r]=n.Point.convert(t[r]||K),e}),{})},et=function(t,e,r){var o=function(t,e){return t.project(n.LngLat.convert(e))}(e,t.coordinates),i=tt(t.offset),a=t.anchor||function(t,e,r,n){var o=void 0===n?V:n,i=o.offsetHeight,a=o.offsetWidth,s=[];return r.y+e.bottom.y-i<0?s=[$[1]]:r.y+e.top.y+i>t.transform.height&&(s=[$[2]]),r.x<a/2?s.push($[3]):r.x>t.transform.width-a/2&&s.push($[4]),0===s.length?$[2]:s.join("-")}(e,i,o,r);return{anchor:a,position:o,offset:i[a]}},rt=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""},nt=function(t){var e=t.anchor,r=t.position,n=t.offset,o=[];return r&&o.push(rt(r)),n&&void 0!==n.x&&void 0!==n.y&&o.push(rt(n)),e&&o.push(Q[e]),o},ot=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(){return(it=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},at={zIndex:3},st=c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=void 0,e.prevent=!1,e.state={},e.setContainer=function(t){t&&(e.container=t)},e.handleMapMove=function(){e.prevent||e.setState(et(e.props,e.props.map,e.container))},e}return ot(e,t),e.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},e.prototype.havePropsChanged=function(t,e){return t.coordinates[0]!==e.coordinates[0]||t.coordinates[1]!==e.coordinates[1]||t.offset!==e.offset||t.anchor!==e.anchor},e.prototype.componentDidUpdate=function(t){this.havePropsChanged(this.props,t)&&this.setState(et(this.props,this.props.map,this.container))},e.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},e.prototype.render=function(){var t=this.props,e=t.style,r=t.children,n=t.className,i=t.onClick,a=t.onDoubleClick,s=t.onMouseEnter,u=t.onMouseLeave,l=t.onScroll,c=t.onWheel,h=t.type,f=t.tabIndex,p=this.state.anchor,d=it({},at,e,{transform:nt(this.state).join(" ")}),g=p&&"popup"===h?"mapboxgl-popup-anchor-"+p:"";return o.createElement("div",{className:n+" "+g,onClick:i,onDoubleClick:a,onMouseEnter:s,onMouseLeave:u,onScroll:l,onWheel:c,style:d,ref:this.setContainer,tabIndex:f},r)},e.defaultProps={offset:0,onClick:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},e}(o.Component)),ut=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(){return(lt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ct=["mapboxgl-popup"],ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.render=function(){var t=this.props,e=t.children,r=t.className,n=lt({},this.props,{children:void 0}),i=function(t,e){return e?e.split(" ").concat(t).join(" "):t.join(" ")}(ct,r);return o.createElement(st,lt({},n,{type:"popup",className:i}),o.createElement("div",{className:"mapboxgl-popup-tip"}),o.createElement("div",{className:"mapboxgl-popup-content"},e))},e}(o.Component),ft=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt=function(){return(pt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dt=["moveend","touchend","zoomend"],gt=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],yt={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},mt={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},vt={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},bt=Object.keys(yt),xt=["km","mi"],wt=(c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={chosenScale:0,scaleWidth:60},e.setScale=function(){var t=e.props,r=t.measurement,n=t.map,o=n._canvas.clientWidth,i=n.getBounds(),a=i._ne,s=i._sw,u=e._getDistanceTwoPoints([s.lng,a.lat],[a.lng,a.lat],r),l=u/o*60,c=gt.reduce((function(t,e){return!t&&e>l?e:t}),0),h=c/u*o;e.setState({chosenScale:c,scaleWidth:h})},e}return ft(e,t),e.prototype.componentDidMount=function(){var t=this;this.setScale(),dt.forEach((function(e){t.props.map.on(e,t.setScale)}))},e.prototype.componentWillUnmount=function(){var t=this;this.props.map&&dt.forEach((function(e){t.props.map.off(e,t.setScale)}))},e.prototype._getDistanceTwoPoints=function(t,e,r){void 0===r&&(r="km");var n=t[0],o=t[1],i=e[0],a=e[1],s="km"===r?6371:6371/1.60934,u=this._deg2rad(a-o),l=this._deg2rad(i-n),c=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this._deg2rad(o))*Math.cos(this._deg2rad(a))*Math.sin(l/2)*Math.sin(l/2);return s*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},e.prototype._deg2rad=function(t){return t*(Math.PI/180)},e.prototype._displayMeasurement=function(t,e){return e>=1?e+" "+t:"mi"===t?Math.floor(5280*e)+" ft":Math.floor(1e3*e)+" m"},e.prototype.render=function(){var t=this.props,e=t.measurement,r=t.style,n=t.position,i=t.className,a=t.tabIndex,s=this.state,u=s.chosenScale,l=s.scaleWidth;return o.createElement("div",{tabIndex:a,style:pt({},mt,yt[n],r),className:i},o.createElement("div",{style:pt({},vt,{width:l})}),o.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(e,u)))},e.defaultProps={measurement:xt[0],position:bt[2]},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Mt=function(){return(Mt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id,e.onStyleDataChange=function(){e.props.map.getLayer(e.id)||(e.initialize(),e.forceUpdate())},e.initialize=function(){var t=e.props.map,r=e.props,n=r.geoJsonSource,o=r.tileJsonSource,i=r.onSourceAdded;t.getSource(e.id)||!n&&!o||(n?t.addSource(e.id,n):o&&t.addSource(e.id,o),t.on("sourcedata",e.onData),i&&i(t.getSource(e.id)))},e.onData=function(){var t=e.props.map,r=t.getSource(e.props.id);if(r&&t.isSourceLoaded(e.props.id)){var n=e.props.onSourceLoaded;r&&n&&n(r),r&&e.props.geoJsonSource&&e.props.geoJsonSource.data&&r.setData(e.props.geoJsonSource.data),t.off("sourcedata",e.onData)}},e}return wt(e,t),e.prototype.componentDidMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},e.prototype.removeSource=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var r=e.getStyle().layers,n=void 0===r?[]:r;return(n=n.map((function(t,e){var r=(n[e+1]||{id:void 0}).id;return Mt({},t,{before:r})})).filter((function(e){return e.source===t.id}))).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id),n.reverse()}return[]},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},e.prototype.componentDidUpdate=function(t){var e=t.geoJsonSource,r=t.tileJsonSource,n=t.map,o=n.getSource(this.id);if(r&&this.props.tileJsonSource){var i=!1,a=!1;if(o&&"vector"===o.type)r.url!==this.props.tileJsonSource.url&&void 0!==this.props.tileJsonSource.url&&(o.setUrl(this.props.tileJsonSource.url),i=!0),r.tiles!==this.props.tileJsonSource.tiles&&void 0!==this.props.tileJsonSource.tiles&&(o.setTiles(this.props.tileJsonSource.tiles),a=!0);if(!i&&r.url!==this.props.tileJsonSource.url||!a&&r.tiles!==this.props.tileJsonSource.tiles||r.minzoom!==this.props.tileJsonSource.minzoom||r.maxzoom!==this.props.tileJsonSource.maxzoom){var s=this.removeSource();n.addSource(this.id,this.props.tileJsonSource),s.forEach((function(t){return n.addLayer(t,t.before)}))}}e&&this.props.geoJsonSource&&this.props.geoJsonSource.data!==e.data&&this.props.geoJsonSource.data&&o&&"geojson"===o.type&&o.setData(this.props.geoJsonSource.data)},e.prototype.render=function(){return null},e}(o.Component));function Et(t,e,r,n,o,i){if(o-n<=r)return;const a=n+o>>1;_t(t,e,a,n,o,i%2),Et(t,e,r,n,a-1,i+1),Et(t,e,r,a+1,o,i+1)}function _t(t,e,r,n,o,i){for(;o>n;){if(o-n>600){const a=o-n+1,s=r-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);_t(t,e,r,Math.max(n,Math.floor(r-s*l/a+c)),Math.min(o,Math.floor(r+(a-s)*l/a+c)),i)}const a=e[2*r+i];let s=n,u=o;for(St(t,e,n,r),e[2*o+i]>a&&St(t,e,n,o);s<u;){for(St(t,e,s,u),s++,u--;e[2*s+i]<a;)s++;for(;e[2*u+i]>a;)u--}e[2*n+i]===a?St(t,e,n,u):(u++,St(t,e,u,o)),u<=r&&(n=u+1),r<=u&&(o=u-1)}}function St(t,e,r,n){Pt(t,r,n),Pt(e,2*r,2*n),Pt(e,2*r+1,2*n+1)}function Pt(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ct(t,e,r,n){const o=t-r,i=e-n;return o*o+i*i}const kt=t=>t[0],Ot=t=>t[1];class Lt{constructor(t,e=kt,r=Ot,n=64,o=Float64Array){this.nodeSize=n,this.points=t;const i=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(t.length),s=this.coords=new o(2*t.length);for(let u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=r(t[u]);Et(a,s,n,0,a.length-1,0)}range(t,e,r,n){return function(t,e,r,n,o,i,a){const s=[0,t.length-1,0],u=[];let l,c;for(;s.length;){const h=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a){for(let a=p;a<=f;a++)l=e[2*a],c=e[2*a+1],l>=r&&l<=o&&c>=n&&c<=i&&u.push(t[a]);continue}const d=Math.floor((p+f)/2);l=e[2*d],c=e[2*d+1],l>=r&&l<=o&&c>=n&&c<=i&&u.push(t[d]);const g=(h+1)%2;(0===h?r<=l:n<=c)&&(s.push(p),s.push(d-1),s.push(g)),(0===h?o>=l:i>=c)&&(s.push(d+1),s.push(f),s.push(g))}return u}(this.ids,this.coords,t,e,r,n,this.nodeSize)}within(t,e,r){return function(t,e,r,n,o,i){const a=[0,t.length-1,0],s=[],u=o*o;for(;a.length;){const l=a.pop(),c=a.pop(),h=a.pop();if(c-h<=i){for(let o=h;o<=c;o++)Ct(e[2*o],e[2*o+1],r,n)<=u&&s.push(t[o]);continue}const f=Math.floor((h+c)/2),p=e[2*f],d=e[2*f+1];Ct(p,d,r,n)<=u&&s.push(t[f]);const g=(l+1)%2;(0===l?r-o<=p:n-o<=d)&&(a.push(h),a.push(f-1),a.push(g)),(0===l?r+o>=p:n+o>=d)&&(a.push(f+1),a.push(c),a.push(g))}return s}(this.ids,this.coords,t,e,r,this.nodeSize)}}const At={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},jt=Math.fround||(Rt=new Float32Array(1),t=>(Rt[0]=+t,Rt[0]));var Rt;class It{constructor(t){this.options=Yt(Object.create(At),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:r,maxZoom:n,nodeSize:o}=this.options;e&&console.time("total time");const i=`prepare ${t.length} points`;e&&console.time(i),this.points=t;let a=[];for(let s=0;s<t.length;s++)t[s].geometry&&a.push(Nt(t[s],s));this.trees[n+1]=new Lt(a,Xt,qt,o,Float32Array),e&&console.timeEnd(i);for(let s=n;s>=r;s--){const t=+Date.now();a=this._cluster(a,s),this.trees[s]=new Lt(a,Xt,qt,o,Float32Array),e&&console.log("z%d: %d clusters in %dms",s,a.length,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,i],e),a=this.getClusters([-180,n,o,i],e);return t.concat(a)}const a=this.trees[this._limitZoom(e)],s=a.range(zt(r),Bt(i),zt(o),Bt(n)),u=[];for(const l of s){const t=a.points[l];u.push(t.numPoints?Ft(t):this.points[t.index])}return u}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.points[e];if(!i)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=o.within(i.x,i.y,a),u=[];for(const l of s){const e=o.points[l];e.parentId===t&&u.push(e.numPoints?Ft(e):this.points[e.index])}if(0===u.length)throw new Error(n);return u}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:a}=this.options,s=a/i,u=(r-s)/o,l=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((e-s)/o,u,(e+1+s)/o,l),n.points,e,r,o,c),0===e&&this._addTileFeatures(n.range(1-s/o,u,1,l),n.points,o,r,o,c),e===o-1&&this._addTileFeatures(n.range(0,u,s/o,l),n.points,-1,r,o,c),c.features.length?c:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const i=this.getChildren(e);for(const a of i){const e=a.properties;if(e&&e.cluster?o+e.point_count<=n?o+=e.point_count:o=this._appendLeaves(t,e.cluster_id,r,n,o):o<n?o++:t.push(a),t.length===r)break}return o}_addTileFeatures(t,e,r,n,o,i){for(const a of t){const t=e[a],s=t.numPoints;let u,l,c;if(s)u=Tt(t),l=t.x,c=t.y;else{const e=this.points[t.index];u=e.properties,l=zt(e.geometry.coordinates[0]),c=Bt(e.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(l*o-r)),Math.round(this.options.extent*(c*o-n))]],tags:u};let f;s?f=t.id:this.options.generateId?f=t.index:this.points[t.index].id&&(f=this.points[t.index].id),void 0!==f&&(h.id=f),i.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const r=[],{radius:n,extent:o,reduce:i,minPoints:a}=this.options,s=n/(o*Math.pow(2,e));for(let u=0;u<t.length;u++){const n=t[u];if(n.zoom<=e)continue;n.zoom=e;const o=this.trees[e+1],l=o.within(n.x,n.y,s),c=n.numPoints||1;let h=c;for(const t of l){const r=o.points[t];r.zoom>e&&(h+=r.numPoints||1)}if(h>c&&h>=a){let t=n.x*c,a=n.y*c,s=i&&c>1?this._map(n,!0):null;const f=(u<<5)+(e+1)+this.points.length;for(const r of l){const u=o.points[r];if(u.zoom<=e)continue;u.zoom=e;const l=u.numPoints||1;t+=u.x*l,a+=u.y*l,u.parentId=f,i&&(s||(s=this._map(n,!0)),i(s,this._map(u)))}n.parentId=f,r.push(Dt(t/h,a/h,f,h,s))}else if(r.push(n),h>1)for(const t of l){const n=o.points[t];n.zoom<=e||(n.zoom=e,r.push(n))}}return r}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?Yt({},t.properties):t.properties;const r=this.points[t.index].properties,n=this.options.map(r);return e&&n===r?Yt({},n):n}}function Dt(t,e,r,n,o){return{x:jt(t),y:jt(e),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function Nt(t,e){const[r,n]=t.geometry.coordinates;return{x:jt(zt(r)),y:jt(Bt(n)),zoom:1/0,index:e,parentId:-1}}function Ft(t){return{type:"Feature",id:t.id,properties:Tt(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),Ut(t.y)]}};var e}function Tt(t){const e=t.numPoints,r=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?Math.round(e/100)/10+"k":e;return Yt(Yt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function zt(t){return t/360+.5}function Bt(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Ut(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Yt(t,e){for(const r in e)t[r]=e[r];return t}function Xt(t){return t.x}function qt(t){return t.y}var Zt=r(5490),Wt=r.n(Zt),Gt=r(2251),Jt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ht=(c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={superC:new It({radius:e.props.radius,maxZoom:e.props.maxZoom,minZoom:e.props.minZoom,extent:e.props.extent,nodeSize:e.props.nodeSize,log:e.props.log}),clusterPoints:[]},e.featureClusterMap=new WeakMap,e.childrenChange=function(t){var r=e.state.superC;e.featureClusterMap=new WeakMap;var n=e.childrenToFeatures(t);r.load(n)},e.mapChange=function(t){void 0===t&&(t=!1);var r=e.props.map,n=e.state,o=n.superC,i=n.clusterPoints,a=r.getZoom(),s=r.getCanvas(),u=s.width,l=s.height,c=r.unproject([0,0]).toArray(),h=r.unproject([u,0]).toArray(),f=r.unproject([u,l]).toArray(),p=r.unproject([0,l]).toArray(),d=o.getClusters(Wt()((0,Gt.polygon)([[c,h,f,p,c]])),Math.round(a));(d.length!==i.length||t)&&e.setState({clusterPoints:d})},e.childrenToFeatures=function(t){return t.map((function(t){var r=e.feature(t&&t.props.coordinates);return e.featureClusterMap.set(r,t),r}))},e.getLeaves=function(t,r,n){return e.state.superC.getLeaves(t.properties&&t.properties.cluster_id,r||1/0,n).map((function(t){return e.featureClusterMap.get(t)}))},e.zoomToClusterBounds=function(t){var r=Array.prototype.slice.call(t.currentTarget.children),o=e.findMarkerElement(t.currentTarget,t.target),i=r.indexOf(o),a=e.state.clusterPoints[i];if(a.properties&&a.properties.cluster_id){var s=e.state.superC.getLeaves(a.properties&&a.properties.cluster_id,1/0),u=Wt()((0,Gt.featureCollection)(s));e.props.map.fitBounds(n.LngLatBounds.convert(u),{padding:e.props.zoomOnClickPadding})}},e}return Jt(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.children,r=t.map;e&&this.childrenChange(e),r.on("move",this.mapChange),r.on("zoom",this.mapChange),this.mapChange()},e.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},e.prototype.componentDidUpdate=function(t){t.children!==this.props.children&&this.props.children&&(this.childrenChange(this.props.children),this.mapChange(!0))},e.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},e.prototype.findMarkerElement=function(t,e){return e.parentElement===t?e:this.findMarkerElement(t,e.parentElement)},e.prototype.render=function(){var t=this,e=this.props,r=e.ClusterMarkerFactory,n=e.style,i=e.className,a=e.tabIndex,s=this.state.clusterPoints;return o.createElement("div",{style:n,className:i,tabIndex:a,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},s.map((function(e){return e.properties&&e.properties.cluster?r(e.geometry.coordinates,e.properties.point_count,t.getLeaves.bind(t,e)):t.featureClusterMap.get(e)})))},e.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),$t=function(){return($t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qt={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},Vt={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},Kt={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},te={backgroundColor:"#fff",opacity:1},ee={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},re=function(){return o.createElement("svg",{viewBox:"0 0 20 20"},o.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),o.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},ne={width:20,height:20,display:"inline-block"},oe=Object.keys(Vt),ie=(c(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.compassIcon=null,e.onMouseOut=function(){e.state.hover||e.setState({hover:void 0})},e.onMouseIn=function(){0!==e.state.hover&&e.setState({hover:0})},e.onClickCompass=function(){e.props.map.resetNorth()},e.onMapRotate=function(){var t="rotate("+e.props.map.transform.angle*(180/Math.PI)+"deg)";e.compassIcon&&(e.compassIcon.style.transform=t)},e.assignRef=function(t){e.compassIcon=t},e}return Ht(e,t),e.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},e.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},e.prototype.render=function(){var t=this.props,e=t.position,r=t.style,n=t.className,i=t.tabIndex,a=this.state.hover,s=$t({},Kt,ee,0===a?te:{});return o.createElement("div",{className:n,tabIndex:i,style:$t({},Qt,Vt[e],r)},o.createElement("button",{style:s,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},o.createElement("span",{ref:this.assignRef,style:ne},o.createElement(re,null))))},e.defaultProps={position:oe[0]},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ae=(c(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ie(e,t),e.prototype.componentDidMount=function(){this.loadImage(this.props)},e.prototype.componentWillUnmount=function(){e.removeImage(this.props)},e.prototype.componentDidUpdate=function(t){var r=t.id;t.map!==this.props.map&&e.removeImage(this.props),this.props.map&&!this.props.map.hasImage(r)&&this.loadImage(this.props)},e.prototype.render=function(){return null},e.prototype.loadImage=function(t){var e=this,r=t.map,n=t.id,o=t.url,i=t.data,a=t.options,s=t.onError;i?(r.addImage(n,i,a),this.loaded()):o&&r.loadImage(o,(function(t,o){t?s&&s(t):(r.addImage(n,o,a),e.loaded())}))},e.removeImage=function(t){var e=t.id,r=t.map;r&&r.getStyle()&&r.removeImage(e)},e.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},e}(o.Component)),c(O(_)),v)},9842:function(t){"use strict";var e=Object,r=TypeError;t.exports=function(){if(null!=this&&this!==e(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},1222:function(t,e,r){"use strict";var n=r(5597),o=r(5592),i=r(9842),a=r(7968),s=r(3967),u=o(i);n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},7968:function(t,e,r){"use strict";var n=r(9842),o=r(5597).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"===typeof t.get&&"boolean"===typeof/a/.dotAll)return t.get}return n}},3967:function(t,e,r){"use strict";var n=r(5597).supportsDescriptors,o=r(7968),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(l),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},8935:function(t,e){!function(t){"use strict";const e=134217729,r=33306690738754706e-32;function n(t,e,r,n,o){let i,a,s,u,l=e[0],c=n[0],h=0,f=0;c>l==c>-l?(i=l,l=e[++h]):(i=c,c=n[++f]);let p=0;if(h<t&&f<r)for(c>l==c>-l?(s=i-((a=l+i)-l),l=e[++h]):(s=i-((a=c+i)-c),c=n[++f]),i=a,0!==s&&(o[p++]=s);h<t&&f<r;)c>l==c>-l?(s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++h]):(s=i-((a=i+c)-(u=a-i))+(c-u),c=n[++f]),i=a,0!==s&&(o[p++]=s);for(;h<t;)s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++h],i=a,0!==s&&(o[p++]=s);for(;f<r;)s=i-((a=i+c)-(u=a-i))+(c-u),c=n[++f],i=a,0!==s&&(o[p++]=s);return 0===i&&0!==p||(o[p++]=i),p}function o(t){return new Float64Array(t)}const i=33306690738754716e-32,a=22204460492503146e-32,s=11093356479670487e-47,u=o(4),l=o(8),c=o(12),h=o(16),f=o(4);t.orient2d=function(t,o,p,d,g,y){const m=(o-y)*(p-g),v=(t-g)*(d-y),b=m-v;if(0===m||0===v||m>0!=v>0)return b;const x=Math.abs(m+v);return Math.abs(b)>=i*x?b:-function(t,o,i,p,d,g,y){let m,v,b,x,w,M,E,_,S,P,C,k,O,L,A,j,R,I;const D=t-d,N=i-d,F=o-g,T=p-g;w=(A=(_=D-(E=(M=e*D)-(M-D)))*(P=T-(S=(M=e*T)-(M-T)))-((L=D*T)-E*S-_*S-E*P))-(C=A-(R=(_=F-(E=(M=e*F)-(M-F)))*(P=N-(S=(M=e*N)-(M-N)))-((j=F*N)-E*S-_*S-E*P))),u[0]=A-(C+w)+(w-R),w=(O=L-((k=L+C)-(w=k-L))+(C-w))-(C=O-j),u[1]=O-(C+w)+(w-j),w=(I=k+C)-k,u[2]=k-(I-w)+(C-w),u[3]=I;let z=function(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}(4,u),B=a*y;if(z>=B||-z>=B)return z;if(m=t-(D+(w=t-D))+(w-d),b=i-(N+(w=i-N))+(w-d),v=o-(F+(w=o-F))+(w-g),x=p-(T+(w=p-T))+(w-g),0===m&&0===v&&0===b&&0===x)return z;if(B=s*y+r*Math.abs(z),(z+=D*x+T*m-(F*b+N*v))>=B||-z>=B)return z;w=(A=(_=m-(E=(M=e*m)-(M-m)))*(P=T-(S=(M=e*T)-(M-T)))-((L=m*T)-E*S-_*S-E*P))-(C=A-(R=(_=v-(E=(M=e*v)-(M-v)))*(P=N-(S=(M=e*N)-(M-N)))-((j=v*N)-E*S-_*S-E*P))),f[0]=A-(C+w)+(w-R),w=(O=L-((k=L+C)-(w=k-L))+(C-w))-(C=O-j),f[1]=O-(C+w)+(w-j),w=(I=k+C)-k,f[2]=k-(I-w)+(C-w),f[3]=I;const U=n(4,u,4,f,l);w=(A=(_=D-(E=(M=e*D)-(M-D)))*(P=x-(S=(M=e*x)-(M-x)))-((L=D*x)-E*S-_*S-E*P))-(C=A-(R=(_=F-(E=(M=e*F)-(M-F)))*(P=b-(S=(M=e*b)-(M-b)))-((j=F*b)-E*S-_*S-E*P))),f[0]=A-(C+w)+(w-R),w=(O=L-((k=L+C)-(w=k-L))+(C-w))-(C=O-j),f[1]=O-(C+w)+(w-j),w=(I=k+C)-k,f[2]=k-(I-w)+(C-w),f[3]=I;const Y=n(U,l,4,f,c);w=(A=(_=m-(E=(M=e*m)-(M-m)))*(P=x-(S=(M=e*x)-(M-x)))-((L=m*x)-E*S-_*S-E*P))-(C=A-(R=(_=v-(E=(M=e*v)-(M-v)))*(P=b-(S=(M=e*b)-(M-b)))-((j=v*b)-E*S-_*S-E*P))),f[0]=A-(C+w)+(w-R),w=(O=L-((k=L+C)-(w=k-L))+(C-w))-(C=O-j),f[1]=O-(C+w)+(w-j),w=(I=k+C)-k,f[2]=k-(I-w)+(C-w),f[3]=I;const X=n(Y,c,4,f,h);return h[X-1]}(t,o,p,d,g,y,x)},t.orient2dfast=function(t,e,r,n,o,i){return(e-i)*(r-o)-(t-o)*(n-i)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},382:function(t){"use strict";t.exports={eudist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++){var a=(t[i]||0)-(e[i]||0);o+=a*a}return r?Math.sqrt(o):o},mandist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++)o+=Math.abs((t[i]||0)-(e[i]||0));return r?Math.sqrt(o):o},dist:function(t,e,r){var n=Math.abs(t-e);return r?n:n*n}}},5040:function(t,e,r){"use strict";var n=r(382),o=n.eudist,i=n.dist;t.exports={kmrand:function(t,e){for(var r={},n=[],o=e<<2,i=t.length,a=t[0].length>0;n.length<e&&o-- >0;){var s=t[Math.floor(Math.random()*i)],u=a?s.join("_"):""+s;r[u]||(r[u]=!0,n.push(s))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e){var r=t[0].length?o:i,n=[],a=t.length,s=t[0].length>0,u=t[Math.floor(Math.random()*a)];s&&u.join("_");for(n.push(u);n.length<e;){for(var l=[],c=n.length,h=0,f=[],p=0;p<a;p++){for(var d=1/0,g=0;g<c;g++){var y=r(t[p],n[g]);y<=d&&(d=y)}l[p]=d}for(var m=0;m<a;m++)h+=l[m];for(var v=0;v<a;v++)f[v]={i:v,v:t[v],pr:l[v]/h,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var b=1;b<a;b++)f[b].cs=f[b-1].cs+f[b].pr;for(var x=Math.random(),w=0;w<a-1&&f[w++].cs<x;);n.push(f[w-1].v)}return n}}},2087:function(t,e,r){"use strict";var n=r(382),o=r(5040),i=n.eudist,a=(n.mandist,n.dist,o.kmrand),s=o.kmpp;function u(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}t.exports=function(t,e,r,n){var o=[],l=[],c=[],h=[],f=!1,p=n||1e4,d=t.length,g=t[0].length,y=g>0,m=[];if(r)o="kmrand"==r?a(t,e):"kmpp"==r?s(t,e):r;else for(var v={};o.length<e;){var b=Math.floor(Math.random()*d);v[b]||(v[b]=!0,o.push(t[b]))}do{u(e,0,m);for(var x=0;x<d;x++){for(var w=1/0,M=0,E=0;E<e;E++){(h=y?i(t[x],o[E]):Math.abs(t[x]-o[E]))<=w&&(w=h,M=E)}c[x]=M,m[M]++}for(var _=[],S=(l=[],0);S<e;S++)_[S]=y?u(g,0,_[S]):0,l[S]=o[S];if(y){for(var P=0;P<e;P++)o[P]=[];for(var C=0;C<d;C++)for(var k=_[c[C]],O=t[C],L=0;L<g;L++)k[L]+=O[L];f=!0;for(var A=0;A<e;A++){for(var j=o[A],R=_[A],I=l[A],D=m[A],N=0;N<g;N++)j[N]=R[N]/D||0;if(f)for(var F=0;F<g;F++)if(I[F]!=j[F]){f=!1;break}}}else{for(var T=0;T<d;T++){_[c[T]]+=t[T]}for(var z=0;z<e;z++)o[z]=_[z]/m[z]||0;f=!0;for(var B=0;B<e;B++)if(l[B]!=o[B]){f=!1;break}}f=f||--p<=0}while(!f);return{it:1e4-p,k:e,idxs:c,centroids:o}}},1048:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return n}});class n{constructor(t=[],e=o){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const o=t-1>>1,i=e[o];if(r(n,i)>=0)break;e[t]=i,t=o}e[t]=n}_down(t){const{data:e,compare:r}=this,n=this.length>>1,o=e[t];for(;t<n;){let n=1+(t<<1),i=e[n];const a=n+1;if(a<this.length&&r(e[a],i)<0&&(n=a,i=e[a]),r(i,o)>=0)break;e[t]=i,t=n}e[t]=o}}function o(t,e){return t<e?-1:t>e?1:0}},3959:function(t,e,r){"use strict";r.d(e,{zL:function(){return i},xm:function(){return a},yu:function(){return s},Tu:function(){return u},ot:function(){return l},DL:function(){return c},Ht:function(){return h}});var n=6371008.8,o={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*n,kilometers:6371.0088,kilometres:6371.0088,meters:n,metres:n,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:n/1852,radians:1,yards:6967335.223679999};function i(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function a(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!f(t[0])||!f(t[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:t},e,r)}function s(t,e,r){void 0===r&&(r={});for(var n=0,o=t;n<o.length;n++){var a=o[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e,r)}function u(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),i({type:"MultiPoint",coordinates:t},e,r)}function c(t,e){void 0===e&&(e="kilometers");var r=o[e];if(!r)throw new Error(e+" units is invalid");return t*r}function h(t){return t%360*Math.PI/180}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}},601:function(t,e,r){"use strict";r.d(e,{c9:function(){return n},nK:function(){return o},wA:function(){return i}});r(3959);function n(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function o(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function i(t){return"Feature"===t.type?t.geometry:t}},2106:function(t,e,r){"use strict";r.d(e,{VWR:function(){return u}});var n=r(3959);function o(t,e,r){if(null!==t)for(var n,i,a,s,u,l,c,h,f=0,p=0,d=t.type,g="FeatureCollection"===d,y="Feature"===d,m=g?t.features.length:1,v=0;v<m;v++){u=(h=!!(c=g?t.features[v].geometry:y?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<u;b++){var x=0,w=0;if(null!==(s=h?c.geometries[b]:c)){l=s.coordinates;var M=s.type;switch(f=!r||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===e(l,p,v,x,w))return!1;p++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],p,v,x,w))return!1;p++,"MultiPoint"===M&&x++}"LineString"===M&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-f;i++){if(!1===e(l[n][i],p,v,x,w))return!1;p++}"MultiLineString"===M&&x++,"Polygon"===M&&w++}"Polygon"===M&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(w=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-f;a++){if(!1===e(l[n][i][a],p,v,x,w))return!1;p++}w++}x++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var r,n,o,i,a,s,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(r=0;r<g;r++){for(s=p?t.features[r].geometry:d?t.geometry:t,l=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,h=p?t.features[r].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,f,l,c,h))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function a(t,e){i(t,(function(t,r,o,i,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e((0,n.zL)(t,o,{bbox:i,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:s,coordinates:t.coordinates[l]};if(!1===e((0,n.zL)(c,o),r,l))return!1}}))}function s(t){var e=[1/0,1/0,-1/0,-1/0];return o(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}s.default=s;var u=s,l=r(601);r(1618);r(4674);function c(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=(0,l.c9)(t),o=(0,l.wA)(e),i=o.type,a=e.bbox,s=o.coordinates;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(n,a))return!1;"Polygon"===i&&(s=[s]);for(var u=!1,c=0;c<s.length&&!u;c++)if(h(n,s[c][0],r.ignoreBoundary)){for(var f=!1,p=1;p<s[c].length&&!f;)h(n,s[c][p],!r.ignoreBoundary)&&(f=!0),p++;f||(u=!0)}return u}function h(t,e,r){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,i=e.length-1;o<e.length;i=o++){var a=e[o][0],s=e[o][1],u=e[i][0],l=e[i][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)===0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!r;s>t[1]!==l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(n=!n)}return n}Object.prototype.hasOwnProperty;var f=new ArrayBuffer(16);new Float64Array(f),new Uint32Array(f);r(6690);!function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var r=this.points[e],n=this.points[e+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],r=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var o=this.pos(n);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>t&&(e.push(n),r=o)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var r=e/this.duration;if(r>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*r);return function(t,e,r,n,o){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*i[0]+n.x*i[1]+r.x*i[2]+e.x*i[3],y:o.y*i[0]+n.y*i[1]+r.y*i[2]+e.y*i[3],z:o.z*i[0]+n.z*i[1]+r.z*i[2]+e.z*i[3]}}((this.length-1)*r-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}}();var p=function(t){return function(t,e){void 0===e&&(e={});var r=Number(t[0]),o=Number(t[1]),i=Number(t[2]),a=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[r,o],u=[r,a],l=[i,a],c=[i,o];return(0,n.yu)([[s,c,l,u,s]],e.properties,{bbox:t,id:e.id})}(u(t))};r(9829);r(9562);var d=Math.PI/180,g=180/Math.PI,y=function(t,e){this.lon=t,this.lat=e,this.x=d*t,this.y=d*e};y.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},y.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new y(e,t)};var m=function(){this.coords=[],this.length=0};m.prototype.move_to=function(t){this.length++,this.coords.push(t)};var v=function(t){this.properties=t||{},this.geometries=[]};v.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},v.prototype.wkt=function(){for(var t="",e="LINESTRING(",r=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),t+=e.substring(0,e.length-1)+")"}return t};var b=function(t,e,r){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new y(t.x,t.y),this.end=new y(e.x,e.y),this.properties=r||{};var n=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};b.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),r=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),i=e*Math.sin(this.start.y)+r*Math.sin(this.end.y),a=g*Math.atan2(i,Math.sqrt(Math.pow(n,2)+Math.pow(o,2)));return[g*Math.atan2(o,n),a]},b.prototype.Arc=function(t,e){var r=[];if(!t||t<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),o=0;o<t;++o){var i=n*o,a=this.interpolate(i);r.push(a)}for(var s=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,h=-180+l,f=360-l,p=1;p<r.length;++p){var d=r[p-1][0],g=r[p][0],y=Math.abs(g-d);y>f&&(g>c&&d<h||d>c&&g<h)?s=!0:y>u&&(u=y)}var b=[];if(s&&u<l){var x=[];b.push(x);for(var w=0;w<r.length;++w){var M=parseFloat(r[w][0]);if(w>0&&Math.abs(M-r[w-1][0])>f){var E=parseFloat(r[w-1][0]),_=parseFloat(r[w-1][1]),S=parseFloat(r[w][0]),P=parseFloat(r[w][1]);if(E>-180&&E<h&&180===S&&w+1<r.length&&r[w-1][0]>-180&&r[w-1][0]<h){x.push([-180,r[w][1]]),w++,x.push([r[w][0],r[w][1]]);continue}if(E>c&&E<180&&-180===S&&w+1<r.length&&r[w-1][0]>c&&r[w-1][0]<180){x.push([180,r[w][1]]),w++,x.push([r[w][0],r[w][1]]);continue}if(E<h&&S>c){var C=E;E=S,S=C;var k=_;_=P,P=k}if(E>c&&S<h&&(S+=360),E<=180&&S>=180&&E<S){var O=(180-E)/(S-E),L=O*P+(1-O)*_;x.push([r[w-1][0]>c?180:-180,L]),(x=[]).push([r[w-1][0]>c?-180:180,L]),b.push(x)}else x=[],b.push(x);x.push([M,r[w][1]])}else x.push([r[w][0],r[w][1]])}}else{var A=[];b.push(A);for(var j=0;j<r.length;++j)A.push([r[j][0],r[j][1]])}for(var R=new v(this.properties),I=0;I<b.length;++I){var D=new m;R.geometries.push(D);for(var N=b[I],F=0;F<N.length;++F)D.move_to(N[F])}return R};r(1374);var x=[],w=[],M=[],E=[],_=[],S=[],P=[],C=[],k=[],O=[],L=[],A=[],j=[],R=[],I=[],D=[],N=[],F=[],T=[],z=[],B=[],U=[],Y=[],X=[];P[85]=O[85]=-1,C[85]=L[85]=0,k[85]=A[85]=1,T[85]=U[85]=1,z[85]=Y[85]=0,B[85]=X[85]=1,x[85]=E[85]=0,w[85]=_[85]=-1,M[85]=I[85]=0,D[85]=j[85]=0,N[85]=R[85]=1,S[85]=F[85]=1,U[1]=U[169]=0,Y[1]=Y[169]=-1,X[1]=X[169]=0,j[1]=j[169]=-1,R[1]=R[169]=0,I[1]=I[169]=0,O[4]=O[166]=0,L[4]=L[166]=-1,A[4]=A[166]=1,D[4]=D[166]=1,N[4]=N[166]=0,F[4]=F[166]=0,P[16]=P[154]=0,C[16]=C[154]=1,k[16]=k[154]=1,E[16]=E[154]=1,_[16]=_[154]=0,S[16]=S[154]=1,T[64]=T[106]=0,z[64]=z[106]=1,B[64]=B[106]=0,x[64]=x[106]=-1,w[64]=w[106]=0,M[64]=M[106]=1,T[2]=T[168]=0,z[2]=z[168]=-1,B[2]=B[168]=1,U[2]=U[168]=0,Y[2]=Y[168]=-1,X[2]=X[168]=0,j[2]=j[168]=-1,R[2]=R[168]=0,I[2]=I[168]=0,D[2]=D[168]=-1,N[2]=N[168]=0,F[2]=F[168]=1,P[8]=P[162]=0,C[8]=C[162]=-1,k[8]=k[162]=0,O[8]=O[162]=0,L[8]=L[162]=-1,A[8]=A[162]=1,j[8]=j[162]=1,R[8]=R[162]=0,I[8]=I[162]=1,D[8]=D[162]=1,N[8]=N[162]=0,F[8]=F[162]=0,P[32]=P[138]=0,C[32]=C[138]=1,k[32]=k[138]=1,O[32]=O[138]=0,L[32]=L[138]=1,A[32]=A[138]=0,x[32]=x[138]=1,w[32]=w[138]=0,M[32]=M[138]=0,E[32]=E[138]=1,_[32]=_[138]=0,S[32]=S[138]=1,U[128]=U[42]=0,Y[128]=Y[42]=1,X[128]=X[42]=1,T[128]=T[42]=0,z[128]=z[42]=1,B[128]=B[42]=0,x[128]=x[42]=-1,w[128]=w[42]=0,M[128]=M[42]=1,E[128]=E[42]=-1,_[128]=_[42]=0,S[128]=S[42]=0,O[5]=O[165]=-1,L[5]=L[165]=0,A[5]=A[165]=0,U[5]=U[165]=1,Y[5]=Y[165]=0,X[5]=X[165]=0,D[20]=D[150]=0,N[20]=N[150]=1,F[20]=F[150]=1,E[20]=E[150]=0,_[20]=_[150]=-1,S[20]=S[150]=1,P[80]=P[90]=-1,C[80]=C[90]=0,k[80]=k[90]=1,T[80]=T[90]=1,z[80]=z[90]=0,B[80]=B[90]=1,j[65]=j[105]=0,R[65]=R[105]=1,I[65]=I[105]=0,x[65]=x[105]=0,w[65]=w[105]=-1,M[65]=M[105]=0,P[160]=P[10]=-1,C[160]=C[10]=0,k[160]=k[10]=1,O[160]=O[10]=-1,L[160]=L[10]=0,A[160]=A[10]=0,U[160]=U[10]=1,Y[160]=Y[10]=0,X[160]=X[10]=0,T[160]=T[10]=1,z[160]=z[10]=0,B[160]=B[10]=1,D[130]=D[40]=0,N[130]=N[40]=1,F[130]=F[40]=1,j[130]=j[40]=0,R[130]=R[40]=1,I[130]=I[40]=0,x[130]=x[40]=0,w[130]=w[40]=-1,M[130]=M[40]=0,E[130]=E[40]=0,_[130]=_[40]=-1,S[130]=S[40]=1,O[37]=O[133]=0,L[37]=L[133]=1,A[37]=A[133]=1,U[37]=U[133]=0,Y[37]=Y[133]=1,X[37]=X[133]=0,x[37]=x[133]=-1,w[37]=w[133]=0,M[37]=M[133]=0,E[37]=E[133]=1,_[37]=_[133]=0,S[37]=S[133]=0,D[148]=D[22]=-1,N[148]=N[22]=0,F[148]=F[22]=0,U[148]=U[22]=0,Y[148]=Y[22]=-1,X[148]=X[22]=1,T[148]=T[22]=0,z[148]=z[22]=1,B[148]=B[22]=1,E[148]=E[22]=-1,_[148]=_[22]=0,S[148]=S[22]=1,P[82]=P[88]=0,C[82]=C[88]=-1,k[82]=k[88]=1,D[82]=D[88]=1,N[82]=N[88]=0,F[82]=F[88]=1,j[82]=j[88]=-1,R[82]=R[88]=0,I[82]=I[88]=1,T[82]=T[88]=0,z[82]=z[88]=-1,B[82]=B[88]=0,P[73]=P[97]=0,C[73]=C[97]=1,k[73]=k[97]=0,O[73]=O[97]=0,L[73]=L[97]=-1,A[73]=A[97]=0,j[73]=j[97]=1,R[73]=R[97]=0,I[73]=I[97]=0,x[73]=x[97]=1,w[73]=w[97]=0,M[73]=M[97]=1,P[145]=P[25]=0,C[145]=C[25]=-1,k[145]=k[25]=0,j[145]=j[25]=1,R[145]=R[25]=0,I[145]=I[25]=1,U[145]=U[25]=0,Y[145]=Y[25]=1,X[145]=X[25]=1,E[145]=E[25]=-1,_[145]=_[25]=0,S[145]=S[25]=0,O[70]=O[100]=0,L[70]=L[100]=1,A[70]=A[100]=0,D[70]=D[100]=-1,N[70]=N[100]=0,F[70]=F[100]=1,T[70]=T[100]=0,z[70]=z[100]=-1,B[70]=B[100]=1,x[70]=x[100]=1,w[70]=w[100]=0,M[70]=M[100]=0,O[101]=O[69]=0,L[101]=L[69]=1,A[101]=A[69]=0,x[101]=x[69]=1,w[101]=w[69]=0,M[101]=M[69]=0,U[149]=U[21]=0,Y[149]=Y[21]=1,X[149]=X[21]=1,E[149]=E[21]=-1,_[149]=_[21]=0,S[149]=S[21]=0,D[86]=D[84]=-1,N[86]=N[84]=0,F[86]=F[84]=1,T[86]=T[84]=0,z[86]=z[84]=-1,B[86]=B[84]=1,P[89]=P[81]=0,C[89]=C[81]=-1,k[89]=k[81]=0,j[89]=j[81]=1,R[89]=R[81]=0,I[89]=I[81]=1,P[96]=P[74]=0,C[96]=C[74]=1,k[96]=k[74]=0,O[96]=O[74]=-1,L[96]=L[74]=0,A[96]=A[74]=1,T[96]=T[74]=1,z[96]=z[74]=0,B[96]=B[74]=0,x[96]=x[74]=1,w[96]=w[74]=0,M[96]=M[74]=1,P[24]=P[146]=0,C[24]=C[146]=-1,k[24]=k[146]=1,D[24]=D[146]=1,N[24]=N[146]=0,F[24]=F[146]=1,j[24]=j[146]=0,R[24]=R[146]=1,I[24]=I[146]=1,E[24]=E[146]=0,_[24]=_[146]=-1,S[24]=S[146]=0,O[6]=O[164]=-1,L[6]=L[164]=0,A[6]=A[164]=1,D[6]=D[164]=-1,N[6]=N[164]=0,F[6]=F[164]=0,U[6]=U[164]=0,Y[6]=Y[164]=-1,X[6]=X[164]=1,T[6]=T[164]=1,z[6]=z[164]=0,B[6]=B[164]=0,j[129]=j[41]=0,R[129]=R[41]=1,I[129]=I[41]=1,U[129]=U[41]=0,Y[129]=Y[41]=1,X[129]=X[41]=0,x[129]=x[41]=-1,w[129]=w[41]=0,M[129]=M[41]=0,E[129]=E[41]=0,_[129]=_[41]=-1,S[129]=S[41]=0,D[66]=D[104]=0,N[66]=N[104]=1,F[66]=F[104]=0,j[66]=j[104]=-1,R[66]=R[104]=0,I[66]=I[104]=1,T[66]=T[104]=0,z[66]=z[104]=-1,B[66]=B[104]=0,x[66]=x[104]=0,w[66]=w[104]=-1,M[66]=M[104]=1,P[144]=P[26]=-1,C[144]=C[26]=0,k[144]=k[26]=0,U[144]=U[26]=1,Y[144]=Y[26]=0,X[144]=X[26]=1,T[144]=T[26]=0,z[144]=z[26]=1,B[144]=B[26]=1,E[144]=E[26]=-1,_[144]=_[26]=0,S[144]=S[26]=1,O[36]=O[134]=0,L[36]=L[134]=1,A[36]=A[134]=1,D[36]=D[134]=0,N[36]=N[134]=1,F[36]=F[134]=0,x[36]=x[134]=0,w[36]=w[134]=-1,M[36]=M[134]=1,E[36]=E[134]=1,_[36]=_[134]=0,S[36]=S[134]=0,P[9]=P[161]=-1,C[9]=C[161]=0,k[9]=k[161]=0,O[9]=O[161]=0,L[9]=L[161]=-1,A[9]=A[161]=0,j[9]=j[161]=1,R[9]=R[161]=0,I[9]=I[161]=0,U[9]=U[161]=1,Y[9]=Y[161]=0,X[9]=X[161]=1,P[136]=0,C[136]=1,k[136]=1,O[136]=0,L[136]=1,A[136]=0,D[136]=-1,N[136]=0,F[136]=1,j[136]=-1,R[136]=0,I[136]=0,U[136]=0,Y[136]=-1,X[136]=0,T[136]=0,z[136]=-1,B[136]=1,x[136]=1,w[136]=0,M[136]=0,E[136]=1,_[136]=0,S[136]=1,P[34]=0,C[34]=-1,k[34]=0,O[34]=0,L[34]=-1,A[34]=1,D[34]=1,N[34]=0,F[34]=0,j[34]=1,R[34]=0,I[34]=1,U[34]=0,Y[34]=1,X[34]=1,T[34]=0,z[34]=1,B[34]=0,x[34]=-1,w[34]=0,M[34]=1,E[34]=-1,_[34]=0,S[34]=0,P[35]=0,C[35]=1,k[35]=1,O[35]=0,L[35]=-1,A[35]=1,D[35]=1,N[35]=0,F[35]=0,j[35]=-1,R[35]=0,I[35]=0,U[35]=0,Y[35]=-1,X[35]=0,T[35]=0,z[35]=1,B[35]=0,x[35]=-1,w[35]=0,M[35]=1,E[35]=1,_[35]=0,S[35]=1,P[153]=0,C[153]=1,k[153]=1,j[153]=-1,R[153]=0,I[153]=0,U[153]=0,Y[153]=-1,X[153]=0,E[153]=1,_[153]=0,S[153]=1,O[102]=0,L[102]=-1,A[102]=1,D[102]=1,N[102]=0,F[102]=0,T[102]=0,z[102]=1,B[102]=0,x[102]=-1,w[102]=0,M[102]=1,P[155]=0,C[155]=-1,k[155]=0,j[155]=1,R[155]=0,I[155]=1,U[155]=0,Y[155]=1,X[155]=1,E[155]=-1,_[155]=0,S[155]=0,O[103]=0,L[103]=1,A[103]=0,D[103]=-1,N[103]=0,F[103]=1,T[103]=0,z[103]=-1,B[103]=1,x[103]=1,w[103]=0,M[103]=0,P[152]=0,C[152]=1,k[152]=1,D[152]=-1,N[152]=0,F[152]=1,j[152]=-1,R[152]=0,I[152]=0,U[152]=0,Y[152]=-1,X[152]=0,T[152]=0,z[152]=-1,B[152]=1,E[152]=1,_[152]=0,S[152]=1,P[156]=0,C[156]=-1,k[156]=1,D[156]=1,N[156]=0,F[156]=1,j[156]=-1,R[156]=0,I[156]=0,U[156]=0,Y[156]=-1,X[156]=0,T[156]=0,z[156]=1,B[156]=1,E[156]=-1,_[156]=0,S[156]=1,P[137]=0,C[137]=1,k[137]=1,O[137]=0,L[137]=1,A[137]=0,j[137]=-1,R[137]=0,I[137]=0,U[137]=0,Y[137]=-1,X[137]=0,x[137]=1,w[137]=0,M[137]=0,E[137]=1,_[137]=0,S[137]=1,P[139]=0,C[139]=1,k[139]=1,O[139]=0,L[139]=-1,A[139]=0,j[139]=1,R[139]=0,I[139]=0,U[139]=0,Y[139]=1,X[139]=0,x[139]=-1,w[139]=0,M[139]=0,E[139]=1,_[139]=0,S[139]=1,P[98]=0,C[98]=-1,k[98]=0,O[98]=0,L[98]=-1,A[98]=1,D[98]=1,N[98]=0,F[98]=0,j[98]=1,R[98]=0,I[98]=1,T[98]=0,z[98]=1,B[98]=0,x[98]=-1,w[98]=0,M[98]=1,P[99]=0,C[99]=1,k[99]=0,O[99]=0,L[99]=-1,A[99]=1,D[99]=1,N[99]=0,F[99]=0,j[99]=-1,R[99]=0,I[99]=1,T[99]=0,z[99]=-1,B[99]=0,x[99]=1,w[99]=0,M[99]=1,O[38]=0,L[38]=-1,A[38]=1,D[38]=1,N[38]=0,F[38]=0,U[38]=0,Y[38]=1,X[38]=1,T[38]=0,z[38]=1,B[38]=0,x[38]=-1,w[38]=0,M[38]=1,E[38]=-1,_[38]=0,S[38]=0,O[39]=0,L[39]=1,A[39]=1,D[39]=-1,N[39]=0,F[39]=0,U[39]=0,Y[39]=-1,X[39]=1,T[39]=0,z[39]=1,B[39]=0,x[39]=-1,w[39]=0,M[39]=1,E[39]=1,_[39]=0,S[39]=0;var q=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Z=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},W=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},G=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},J=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},H=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},$=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Q=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},V=[],K=[],tt=[],et=[],rt=[],nt=[],ot=[],it=[];et[1]=rt[1]=18,et[169]=rt[169]=18,tt[4]=K[4]=12,tt[166]=K[166]=12,V[16]=it[16]=4,V[154]=it[154]=4,nt[64]=ot[64]=22,nt[106]=ot[106]=22,tt[2]=nt[2]=17,et[2]=rt[2]=18,tt[168]=nt[168]=17,et[168]=rt[168]=18,V[8]=et[8]=9,K[8]=tt[8]=12,V[162]=et[162]=9,K[162]=tt[162]=12,V[32]=it[32]=4,K[32]=ot[32]=1,V[138]=it[138]=4,K[138]=ot[138]=1,rt[128]=it[128]=21,nt[128]=ot[128]=22,rt[42]=it[42]=21,nt[42]=ot[42]=22,K[5]=rt[5]=14,K[165]=rt[165]=14,tt[20]=it[20]=6,tt[150]=it[150]=6,V[80]=nt[80]=11,V[90]=nt[90]=11,et[65]=ot[65]=3,et[105]=ot[105]=3,V[160]=nt[160]=11,K[160]=rt[160]=14,V[10]=nt[10]=11,K[10]=rt[10]=14,tt[130]=it[130]=6,et[130]=ot[130]=3,tt[40]=it[40]=6,et[40]=ot[40]=3,K[101]=ot[101]=1,K[69]=ot[69]=1,rt[149]=it[149]=21,rt[21]=it[21]=21,tt[86]=nt[86]=17,tt[84]=nt[84]=17,V[89]=et[89]=9,V[81]=et[81]=9,V[96]=ot[96]=0,K[96]=nt[96]=15,V[74]=ot[74]=0,K[74]=nt[74]=15,V[24]=tt[24]=8,et[24]=it[24]=7,V[146]=tt[146]=8,et[146]=it[146]=7,K[6]=nt[6]=15,tt[6]=rt[6]=16,K[164]=nt[164]=15,tt[164]=rt[164]=16,et[129]=it[129]=7,rt[129]=ot[129]=20,et[41]=it[41]=7,rt[41]=ot[41]=20,tt[66]=ot[66]=2,et[66]=nt[66]=19,tt[104]=ot[104]=2,et[104]=nt[104]=19,V[144]=rt[144]=10,nt[144]=it[144]=23,V[26]=rt[26]=10,nt[26]=it[26]=23,K[36]=it[36]=5,tt[36]=ot[36]=2,K[134]=it[134]=5,tt[134]=ot[134]=2,V[9]=rt[9]=10,K[9]=et[9]=13,V[161]=rt[161]=10,K[161]=et[161]=13,K[37]=it[37]=5,rt[37]=ot[37]=20,K[133]=it[133]=5,rt[133]=ot[133]=20,tt[148]=rt[148]=16,nt[148]=it[148]=23,tt[22]=rt[22]=16,nt[22]=it[22]=23,V[82]=tt[82]=8,et[82]=nt[82]=19,V[88]=tt[88]=8,et[88]=nt[88]=19,V[73]=ot[73]=0,K[73]=et[73]=13,V[97]=ot[97]=0,K[97]=et[97]=13,V[145]=et[145]=9,rt[145]=it[145]=21,V[25]=et[25]=9,rt[25]=it[25]=21,K[70]=ot[70]=1,tt[70]=nt[70]=17,K[100]=ot[100]=1,tt[100]=nt[100]=17,V[34]=et[34]=9,K[34]=tt[34]=12,rt[34]=it[34]=21,nt[34]=ot[34]=22,V[136]=it[136]=4,K[136]=ot[136]=1,tt[136]=nt[136]=17,et[136]=rt[136]=18,V[35]=it[35]=4,K[35]=tt[35]=12,et[35]=rt[35]=18,nt[35]=ot[35]=22,V[153]=it[153]=4,et[153]=rt[153]=18,K[102]=tt[102]=12,nt[102]=ot[102]=22,V[155]=et[155]=9,rt[155]=it[155]=23,K[103]=ot[103]=1,tt[103]=nt[103]=17,V[152]=it[152]=4,tt[152]=nt[152]=17,et[152]=rt[152]=18,V[156]=tt[156]=8,et[156]=rt[156]=18,nt[156]=it[156]=23,V[137]=it[137]=4,K[137]=ot[137]=1,et[137]=rt[137]=18,V[139]=it[139]=4,K[139]=et[139]=13,rt[139]=ot[139]=20,V[98]=et[98]=9,K[98]=tt[98]=12,nt[98]=ot[98]=22,V[99]=ot[99]=0,K[99]=tt[99]=12,et[99]=nt[99]=19,K[38]=tt[38]=12,rt[38]=it[38]=21,nt[38]=ot[38]=22,K[39]=it[39]=5,tt[39]=rt[39]=16,nt[39]=ot[39]=22;var at=[];at[1]=at[169]=q,at[4]=at[166]=Z,at[16]=at[154]=W,at[64]=at[106]=G,at[168]=at[2]=J,at[162]=at[8]=H,at[138]=at[32]=$,at[42]=at[128]=Q,at[5]=at[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},at[20]=at[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},at[80]=at[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},at[65]=at[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},at[160]=at[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},at[130]=at[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},at[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},at[101]=at[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},at[149]=at[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},at[86]=at[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},at[89]=at[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},at[96]=at[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},at[24]=at[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},at[6]=at[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},at[129]=at[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},at[66]=at[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},at[144]=at[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},at[36]=at[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},at[9]=at[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},at[37]=at[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},at[148]=at[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},at[82]=at[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},at[73]=at[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},at[145]=at[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},at[70]=at[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},at[34]=function(t){return[Q(t),H(t)]},at[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},at[136]=function(t){return[$(t),J(t)]},at[153]=function(t){return[W(t),q(t)]},at[102]=function(t){return[Z(t),G(t)]},at[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},at[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},at[152]=function(t){return[W(t),J(t)]},at[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},at[137]=function(t){return[$(t),q(t)]},at[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},at[98]=function(t){return[H(t),G(t)]},at[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},at[38]=function(t){return[Z(t),Q(t)]},at[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};function st(t,e,r){var n,o=e[0]-t[0],i=e[1]-t[1],a=r[0]-e[0],s=r[1]-e[1];return((n=o*s-a*i)>0)-(n<0)||+n}function ut(t,e){return e.geometry.coordinates[0].every((function(e){return c((0,n.xm)(e),t)}))}var lt=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,r){var n=e.to,o=r.to;if(n.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(n.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(n.coordinates[0]-t.coordinates[0]===0&&o.coordinates[0]-t.coordinates[0]===0)return n.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?n.coordinates[1]-o.coordinates[1]:o.coordinates[1]-n.coordinates[1];var i=st(t.coordinates,n.coordinates,o.coordinates);return i<0?1:i>0?-1:Math.pow(n.coordinates[0]-t.coordinates[0],2)+Math.pow(n.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),ct=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return(0,n.Tu)([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return st(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),ht=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,r,n){return r.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e}),0),r=(0===e?this.length:e)-1,n=(e+1)%this.length,o=st(this.edges[r].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===o?this.edges[r].from.coordinates[0]>this.edges[n].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return(0,n.ot)(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=(0,n.yu)([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=p(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var r,o,i=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(o&&(r=o.getEnvelope()),!function(t,e){var r=t.geometry.coordinates[0].map((function(t){return t[0]})),n=t.geometry.coordinates[0].map((function(t){return t[1]})),o=e.geometry.coordinates[0].map((function(t){return t[0]})),i=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)}(a,i)&&ut(a,i)){for(var s=t.map((function(t){return t.from.coordinates})),u=void 0,l=function(t){e.some((function(e){return r=t,n=e.from.coordinates,r[0]===n[0]&&r[1]===n[1];var r,n}))||(u=t)},c=0,h=s;c<h.length;c++){l(h[c])}u&&e.inside((0,n.xm)(u))&&(o&&!ut(r,a)||(o=e))}})),o},t.prototype.inside=function(t){return c(t,this.toPolygon())},t}();!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var r=new t;return a(e,(function(t){(0,l.nK)(t,"LineString","Graph::fromGeoJson"),function(t,e,r,n){var i=r;o(t,(function(t,n,o,a,s){i=0===n&&void 0===r?t:e(i,t,n,o,a,s)}),n)}(t,(function(t,e){if(t){var n=r.getNode(t),o=r.getNode(e);r.addEdge(n,o)}return e}))})),r},t.prototype.getNode=function(t){var e=lt.buildId(t),r=this.nodes[e];return r||(r=this.nodes[e]=new lt(t)),r},t.prototype.addEdge=function(t,e){var r=new ct(t,e),n=r.getSymetric();this.edges.push(r),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),r.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;"undefined"===typeof t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,r){t.getOuterEdge((0===r?t.getOuterEdges().length:r)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var r,n,o=t.getOuterEdges(),i=o.length-1;i>=0;--i){var a=o[i],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(n=l),u&&(n&&(n.next=u,n=void 0),r||(r=u)))}n&&(n.next=r)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(r){if(!(r.label>=0)){t.push(r);var n=r;do{n.label=e,n=n.next}while(!r.isEqual(n));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(r){t._computeNextCCWEdges(r,e.label)}))}));var e=[];return this.edges.forEach((function(r){r.ring||e.push(t._findEdgeRing(r))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],r=t,n=function(){var n=0;r.from.getOuterEdges().forEach((function(e){e.label===t.label&&++n})),n>1&&e.push(r.from),r=r.next};do{n()}while(!t.isEqual(r));return e},t.prototype._findEdgeRing=function(t){var e=t,r=new ht;do{r.push(e),e.ring=r,e=e.next}while(!t.isEqual(e));return r},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}();r(2950);r(8788);r(2087);function ft(t){for(var e=t,r=[];e.parent;)r.unshift(e),e=e.parent;return r}var pt={search:function(t,e,r,n){t.cleanDirty();var o=(n=n||{}).heuristic||pt.heuristics.manhattan,i=n.closest||!1,a=new yt((function(t){return t.f})),s=e;for(e.h=o(e,r),a.push(e);a.size()>0;){var u=a.pop();if(u===r)return ft(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||o(f,r),f.g=p,f.f=f.g+f.h,t.markDirty(f),i&&(f.h<s.h||f.h===s.h&&f.g<s.g)&&(s=f),d?a.rescoreElement(f):a.push(f))}}}return i?ft(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var r=Math.sqrt(2),n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return 1*(n+o)+(r-2)*Math.min(n,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function dt(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var r=0;r<t.length;r++){this.grid[r]=[];for(var n=0,o=t[r];n<o.length;n++){var i=new gt(r,n,o[n]);this.grid[r][n]=i,this.nodes.push(i)}}this.init()}function gt(t,e,r){this.x=t,this.y=e,this.weight=r}function yt(t){this.content=[],this.scoreFunction=t}dt.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)pt.cleanNode(this.nodes[t])},dt.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)pt.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},dt.prototype.markDirty=function(t){this.dirtyNodes.push(t)},dt.prototype.neighbors=function(t){var e=[],r=t.x,n=t.y,o=this.grid;return o[r-1]&&o[r-1][n]&&e.push(o[r-1][n]),o[r+1]&&o[r+1][n]&&e.push(o[r+1][n]),o[r]&&o[r][n-1]&&e.push(o[r][n-1]),o[r]&&o[r][n+1]&&e.push(o[r][n+1]),this.diagonal&&(o[r-1]&&o[r-1][n-1]&&e.push(o[r-1][n-1]),o[r+1]&&o[r+1][n-1]&&e.push(o[r+1][n-1]),o[r-1]&&o[r-1][n+1]&&e.push(o[r-1][n+1]),o[r+1]&&o[r+1][n+1]&&e.push(o[r+1][n+1])),e},dt.prototype.toString=function(){for(var t,e,r,n,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(t=[],r=0,n=(e=i[a]).length;r<n;r++)t.push(e[r].weight);o.push(t.join(" "))}return o.join("\n")},gt.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},gt.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},gt.prototype.isWall=function(){return 0===this.weight},yt.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var r=(t+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[r]=e,this.content[t]=n,t=r}},bubbleUp:function(t){for(var e=this.content.length,r=this.content[t],n=this.scoreFunction(r);;){var o,i=t+1<<1,a=i-1,s=null;if(a<e){var u=this.content[a];(o=this.scoreFunction(u))<n&&(s=a)}if(i<e){var l=this.content[i];this.scoreFunction(l)<(null===s?n:o)&&(s=i)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=r,t=s}}};function mt(){this._=null}function vt(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function bt(t,e){var r=e,n=e.R,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function xt(t,e){var r=e,n=e.L,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function wt(t){for(;t.L;)t=t.L;return t}mt.prototype={constructor:mt,insert:function(t,e){var r,n,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=wt(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(o=n.R)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.R&&(bt(this,r),r=(t=r).U),r.C=!1,n.C=!0,xt(this,n)):(o=n.L)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.L&&(xt(this,r),r=(t=r).U),r.C=!1,n.C=!0,bt(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,o=t.U,i=t.L,a=t.R;if(r=i?a?wt(a):i:a,o?o.L===t?o.L=r:o.R=r:this._=r,i&&a?(n=r.C,r.C=t.C,r.L=i,i.U=r,r!==a?(o=r.U,r.U=t.U,t=r.R,o.L=t,r.R=a,a.U=r):(r.U=o,o=r,t=r.R)):(n=t.C,t=r),t&&(t.U=o),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,bt(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,xt(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,bt(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,xt(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,bt(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,xt(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var Mt=mt;function Et(t,e,r,n){var o=[null,null],i=Gt.push(o)-1;return o.left=t,o.right=e,r&&St(o,t,e,r),n&&St(o,e,t,n),Zt[t.index].halfedges.push(i),Zt[e.index].halfedges.push(i),o}function _t(t,e,r){var n=[e,r];return n.left=t,n}function St(t,e,r,n){t[0]||t[1]?t.left===r?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=r)}function Pt(t,e,r,n,o){var i,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,p=s[1]-l;if(i=e-u,f||!(i>0)){if(i/=f,f<0){if(i<c)return;i<h&&(h=i)}else if(f>0){if(i>h)return;i>c&&(c=i)}if(i=n-u,f||!(i<0)){if(i/=f,f<0){if(i>h)return;i>c&&(c=i)}else if(f>0){if(i<c)return;i<h&&(h=i)}if(i=r-l,p||!(i>0)){if(i/=p,p<0){if(i<c)return;i<h&&(h=i)}else if(p>0){if(i>h)return;i>c&&(c=i)}if(i=o-l,p||!(i<0)){if(i/=p,p<0){if(i>h)return;i>c&&(c=i)}else if(p>0){if(i<c)return;i<h&&(h=i)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Ct(t,e,r,n,o){var i=t[1];if(i)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],g=(h+p)/2,y=(f+d)/2;if(d===f){if(g<e||g>=n)return;if(h>p){if(u){if(u[1]>=o)return}else u=[g,r];i=[g,o]}else{if(u){if(u[1]<r)return}else u=[g,o];i=[g,r]}}else if(s=y-(a=(h-p)/(d-f))*g,a<-1||a>1)if(h>p){if(u){if(u[1]>=o)return}else u=[(r-s)/a,r];i=[(o-s)/a,o]}else{if(u){if(u[1]<r)return}else u=[(o-s)/a,o];i=[(r-s)/a,r]}else if(f<d){if(u){if(u[0]>=n)return}else u=[e,a*e+s];i=[n,a*n+s]}else{if(u){if(u[0]<e)return}else u=[n,a*n+s];i=[e,a*e+s]}return t[0]=u,t[1]=i,!0}function kt(t,e){var r=t.site,n=e.left,o=e.right;return r===o&&(o=n,n=r),o?Math.atan2(o[1]-n[1],o[0]-n[0]):(r===n?(n=e[1],o=e[0]):(n=e[0],o=e[1]),Math.atan2(n[0]-o[0],o[1]-n[1]))}function Ot(t,e){return e[+(e.left!==t.site)]}function Lt(t,e){return e[+(e.left===t.site)]}var At,jt=[];function Rt(){vt(this),this.x=this.y=this.arc=this.site=this.cy=null}function It(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,o=t.site,i=r.site;if(n!==i){var a=o[0],s=o[1],u=n[0]-a,l=n[1]-s,c=i[0]-a,h=i[1]-s,f=2*(u*h-l*c);if(!(f>=-Ht)){var p=u*u+l*l,d=c*c+h*h,g=(h*p-l*d)/f,y=(u*d-c*p)/f,m=jt.pop()||new Rt;m.arc=t,m.site=o,m.x=g+a,m.y=(m.cy=y+s)+Math.sqrt(g*g+y*y),t.circle=m;for(var v=null,b=Wt._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Wt.insert(v,m),v||(At=m)}}}}function Dt(t){var e=t.circle;e&&(e.P||(At=e.N),Wt.remove(e),jt.push(e),vt(e),t.circle=null)}var Nt=[];function Ft(){vt(this),this.edge=this.site=this.circle=null}function Tt(t){var e=Nt.pop()||new Ft;return e.site=t,e}function zt(t){Dt(t),qt.remove(t),Nt.push(t),vt(t)}function Bt(t){var e=t.circle,r=e.x,n=e.cy,o=[r,n],i=t.P,a=t.N,s=[t];zt(t);for(var u=i;u.circle&&Math.abs(r-u.circle.x)<Jt&&Math.abs(n-u.circle.cy)<Jt;)i=u.P,s.unshift(u),zt(u),u=i;s.unshift(u),Dt(u);for(var l=a;l.circle&&Math.abs(r-l.circle.x)<Jt&&Math.abs(n-l.circle.cy)<Jt;)a=l.N,s.push(l),zt(l),l=a;s.push(l),Dt(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],St(l.edge,u.site,l.site,o);u=s[0],(l=s[h-1]).edge=Et(u.site,l.site,null,o),It(u),It(l)}function Ut(t){for(var e,r,n,o,i=t[0],a=t[1],s=qt._;s;)if((n=Yt(s,a)-i)>Jt)s=s.L;else{if(!((o=i-Xt(s,a))>Jt)){n>-Jt?(e=s.P,r=s):o>-Jt?(e=s,r=s.N):e=r=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Zt[t.index]={site:t,halfedges:[]}}(t);var u=Tt(t);if(qt.insert(e,u),e||r){if(e===r)return Dt(e),r=Tt(e.site),qt.insert(u,r),u.edge=r.edge=Et(e.site,u.site),It(e),void It(r);if(r){Dt(e),Dt(r);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=r.site,g=d[0]-c,y=d[1]-h,m=2*(f*y-p*g),v=f*f+p*p,b=g*g+y*y,x=[(y*v-p*b)/m+c,(f*b-g*v)/m+h];St(r.edge,l,d,x),u.edge=Et(l,t,null,x),r.edge=Et(t,d,null,x),It(e),It(r)}else u.edge=Et(e.site,u.site)}}function Yt(t,e){var r=t.site,n=r[0],o=r[1],i=o-e;if(!i)return n;var a=t.P;if(!a)return-1/0;var s=(r=a.site)[0],u=r[1],l=u-e;if(!l)return s;var c=s-n,h=1/i-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+o-i/2)))/h+n:(n+s)/2}function Xt(t,e){var r=t.N;if(r)return Yt(r,e);var n=t.site;return n[1]===e?n[0]:1/0}var qt,Zt,Wt,Gt,Jt=1e-6,Ht=1e-12;function $t(t,e){return e[1]-t[1]||e[0]-t[0]}function Qt(t,e){var r,n,o,i=t.sort($t).pop();for(Gt=[],Zt=new Array(t.length),qt=new Mt,Wt=new Mt;;)if(o=At,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===r&&i[1]===n||(Ut(i),r=i[0],n=i[1]),i=t.pop();else{if(!o)break;Bt(o.arc)}if(function(){for(var t,e,r,n,o=0,i=Zt.length;o<i;++o)if((t=Zt[o])&&(n=(e=t.halfedges).length)){var a=new Array(n),s=new Array(n);for(r=0;r<n;++r)a[r]=r,s[r]=kt(t,Gt[e[r]]);for(a.sort((function(t,e){return s[e]-s[t]})),r=0;r<n;++r)s[r]=e[a[r]];for(r=0;r<n;++r)e[r]=s[r]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,r,n){for(var o,i=Gt.length;i--;)Ct(o=Gt[i],t,e,r,n)&&Pt(o,t,e,r,n)&&(Math.abs(o[0][0]-o[1][0])>Jt||Math.abs(o[0][1]-o[1][1])>Jt)||delete Gt[i]}(a,s,u,l),function(t,e,r,n){var o,i,a,s,u,l,c,h,f,p,d,g,y=Zt.length,m=!0;for(o=0;o<y;++o)if(i=Zt[o]){for(a=i.site,s=(u=i.halfedges).length;s--;)Gt[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=Lt(i,Gt[u[s]]))[0],g=p[1],h=(c=Ot(i,Gt[u[++s%l]]))[0],f=c[1],(Math.abs(d-h)>Jt||Math.abs(g-f)>Jt)&&(u.splice(s,0,Gt.push(_t(a,p,Math.abs(d-t)<Jt&&n-g>Jt?[t,Math.abs(h-t)<Jt?f:n]:Math.abs(g-n)<Jt&&r-d>Jt?[Math.abs(f-n)<Jt?h:r,n]:Math.abs(d-r)<Jt&&g-e>Jt?[r,Math.abs(h-r)<Jt?f:e]:Math.abs(g-e)<Jt&&d-t>Jt?[Math.abs(f-e)<Jt?h:t,e]:null))-1),++l);l&&(m=!1)}if(m){var v,b,x,w=1/0;for(o=0,m=null;o<y;++o)(i=Zt[o])&&(x=(v=(a=i.site)[0]-t)*v+(b=a[1]-e)*b)<w&&(w=x,m=i);if(m){var M=[t,e],E=[t,n],_=[r,n],S=[r,e];m.halfedges.push(Gt.push(_t(a=m.site,M,E))-1,Gt.push(_t(a,E,_))-1,Gt.push(_t(a,_,S))-1,Gt.push(_t(a,S,M))-1)}}for(o=0;o<y;++o)(i=Zt[o])&&(i.halfedges.length||delete Zt[o])}(a,s,u,l)}this.edges=Gt,this.cells=Zt,qt=Wt=Gt=Zt=null}Qt.prototype={constructor:Qt,polygons:function(){var t=this.edges;return this.cells.map((function(e){var r=e.halfedges.map((function(r){return Ot(e,t[r])}));return r.data=e.site.data,r}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(r,n){if(i=(o=r.halfedges).length)for(var o,i,a,s,u,l,c=r.site,h=-1,f=e[o[i-1]],p=f.left===c?f.right:f.left;++h<i;)a=p,p=(f=e[o[h]]).left===c?f.right:f.left,a&&p&&n<a.index&&n<p.index&&(u=a,l=p,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([c.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,r){for(var n,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var u=t-o.site[0],l=e-o.site[1],c=u*u+l*l;do{o=i.cells[n=a],a=null,o.halfedges.forEach((function(r){var n=i.edges[r],s=n.left;if(s!==o.site&&s||(s=n.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}}))}while(null!==a);return i._found=n,null==r||c<=r*r?o.site:null}};r(7516);r(9055);function Vt(){return new Kt}function Kt(){this.reset()}Kt.prototype={constructor:Kt,reset:function(){this.s=this.t=0},add:function(t){ee(te,t,this.t),ee(this,te.s,this.s),this.s?this.t+=te.t:this.s=te.t},valueOf:function(){return this.s}};var te=new Kt;function ee(t,e,r){var n=t.s=e+r,o=n-e,i=n-o;t.t=e-i+(r-o)}var re=1e-6,ne=Math.PI,oe=ne/2,ie=ne/4,ae=2*ne,se=ne/180,ue=Math.abs,le=Math.atan,ce=Math.atan2,he=Math.cos,fe=(Math.ceil,Math.exp),pe=(Math.floor,Math.log),de=(Math.pow,Math.sin),ge=(Math.sign,Math.sqrt),ye=Math.tan;function me(t){return t>1?oe:t<-1?-oe:Math.asin(t)}function ve(){}Vt(),Vt();function be(t){var e=t[0],r=t[1],n=he(r);return[n*he(e),n*de(e),de(r)]}function xe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function we(t){var e=ge(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Vt();function Me(t,e){return[t>ne?t-ae:t<-ne?t+ae:t,e]}function Ee(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function _e(t,e,r,n,o){var i,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,r,n=t[0],a=t[e];if(c=a,ue((l=n)[0]-c[0])<re&&ue(l[1]-c[1])<re){for(o.lineStart(),i=0;i<e;++i)o.point((n=t[i])[0],n[1]);o.lineEnd()}else{var l,c;s.push(r=new Ee(n,t,null,!0)),u.push(r.o=new Ee(n,null,r,!1)),s.push(r=new Ee(a,t,null,!1)),u.push(r.o=new Ee(a,null,r,!0))}}})),s.length){for(u.sort(e),Se(s),Se(u),i=0,a=u.length;i<a;++i)u[i].e=r=!r;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(i=0,a=l.length;i<a;++i)o.point((c=l[i])[0],c[1]);else n(f.x,f.n.x,1,o);f=f.n}else{if(p)for(l=f.p.z,i=l.length-1;i>=0;--i)o.point((c=l[i])[0],c[1]);else n(f.x,f.p.x,-1,o);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);o.lineEnd()}}}function Se(t){if(e=t.length){for(var e,r,n=0,o=t[0];++n<e;)o.n=r=t[n],r.p=o,o=r;o.n=r=t[0],r.p=o}}function Pe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Me.invert=Me;var Ce=function(t){var e;return 1===t.length&&(e=t,t=function(t,r){return Pe(e(t),r)}),{left:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)<0?n=i+1:o=i}return n},right:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)>0?o=i:n=i+1}return n}}}(Pe),ke=(Ce.right,Ce.left,Array.prototype);ke.slice,ke.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Oe=Vt();function Le(t,e){var r=e[0],n=e[1],o=[de(r),-he(r),0],i=0,a=0;Oe.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+ie,d=de(p),g=he(p),y=0;y<c;++y,f=v,d=x,g=w,h=m){var m=l[y],v=m[0],b=m[1]/2+ie,x=de(b),w=he(b),M=v-f,E=M>=0?1:-1,_=E*M,S=_>ne,P=d*x;if(Oe.add(ce(P*E*de(_),g*w+P*he(_))),i+=S?M+E*ae:M,S^f>=r^v>=r){var C=xe(be(h),be(m));we(C);var k=xe(o,C);we(k);var O=(S^M>=0?-1:1)*me(k[2]);(n>O||n===O&&(C[0]||C[1]))&&(a+=S^M>=0?1:-1)}}return(i<-1e-6||i<re&&Oe<-1e-6)^1&a}Vt();Vt(),Vt();Vt();function Ae(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function je(t){return t.length>1}function Re(t,e){return((t=t.x)[0]<0?t[1]-oe-re:oe-t[1])-((e=e.x)[0]<0?e[1]-oe-re:oe-e[1])}Ae(4.5);function Ie(t){return function(e){var r=new De;for(var n in t)r[n]=t[n];return r.stream=e,r}}function De(){}De.prototype={constructor:De,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};he(30*se);Ie({point:function(t,e){this.stream.point(t*se,e*se)}});function Ne(t){return function(e,r){var n=he(e),o=he(r),i=t(n*o);return[i*o*de(e),i*de(r)]}}function Fe(t){return function(e,r){var n=ge(e*e+r*r),o=t(n),i=de(o),a=he(o);return[ce(e*i,n*a),me(n&&r*i/n)]}}var Te=Ne((function(t){return ge(2/(1+t))}));Te.invert=Fe((function(t){return 2*me(t/2)}));var ze=Ne((function(t){return(t=(e=t)>1?0:e<-1?ne:Math.acos(e))&&t/de(t);var e}));function Be(t,e){return[t,pe(ye((oe+e)/2))]}function Ue(t,e){return[t,e]}function Ye(t,e){var r=he(e),n=he(t)*r;return[r*de(t)/n,de(e)/n]}function Xe(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791)),e*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))]}function qe(t,e){return[he(e)*de(t),de(e)]}function Ze(t,e){var r=he(e),n=1+he(t)*r;return[r*de(t)/n,de(e)/n]}function We(t,e){return[pe(ye((oe+e)/2)),-t]}ze.invert=Fe((function(t){return t})),Be.invert=function(t,e){return[t,2*le(fe(e))-oe]},Ue.invert=Ue,Ye.invert=Fe(le),Xe.invert=function(t,e){var r,n=e,o=25;do{var i=n*n,a=i*i;n-=r=(n*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-e)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(ue(r)>re&&--o>0);return[t/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},qe.invert=Fe(me),Ze.invert=Fe((function(t){return 2*le(t)})),We.invert=function(t,e){return[-e,2*le(fe(t))-oe]}}}]);