(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{4903:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/convert",function(){return e(5184)}])},5184:function(n,t,e){"use strict";e.r(t);var r=e(4235),o=e.n(r),c=e(1250),u=e(4168),a=e(9507);function i(n,t,e,r,o,c,u){try{var a=n[c](u),i=a.value}catch(s){return void e(s)}a.done?t(i):Promise.resolve(i).then(r,o)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function u(n){i(c,r,o,u,a,"next",n)}function a(n){i(c,r,o,u,a,"throw",n)}u(void 0)}))}}function p(n){!function(n,t,e){var r=document.createElement("a"),o=new Blob([n],{type:t}),c=URL.createObjectURL(o);r.setAttribute("href",c),r.setAttribute("download",e),r.click()}('<?xml version="1.0" encoding="UTF-8"?>\n<gpx creator="StravaGPX iPhone" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd" version="1.1" xmlns="http://www.topografix.com/GPX/1/1">\n  <metadata>\n    <time'.concat(n[0].date.toISOString(),"</time>\n  </metadata>\n  <trk>\n    <name>Walk</name>\n    <type>10</type>\n    <trkseg>\n").concat(n.map((function(n){return'\n<trkpt lat="'.concat(n.lat,'" lon="').concat(n.lon,'">\n  <ele>0</ele>\n  <time>').concat(n.date.toISOString(),"</time>\n</trkpt>\n").trim()})).join("\n"),"\n    </trkseg>\n  </trk>\n</gpx>\n"),"text","converted.gpx")}t.default=function(){function n(){return(n=s(o().mark((function n(t){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.SR)();case 2:return e=n.sent,n.next=5,e.stream.parse(t.stream().getReader());case 5:p(n.sent.records.map((function(n){return{lat:n.latitude,lon:n.longitude,date:n.date}})));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"PocketLabs to GPX"}),(0,c.jsx)(a.b,{handleChange:function(t){return n.apply(this,arguments)}})]})}},4168:function(n,t,e){"use strict";e.d(t,{SR:function(){return s},pW:function(){return p},rk:function(){return f}});var r=e(4235),o=e.n(r),c=e(1371),u=e(6529);function a(n,t,e,r,o,c,u){try{var a=n[c](u),i=a.value}catch(s){return void e(s)}a.done?t(i):Promise.resolve(i).then(r,o)}function i(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function u(n){a(c,r,o,u,i,"next",n)}function i(n){a(c,r,o,u,i,"throw",n)}u(void 0)}))}}var s=function(){return e.e(368).then(e.bind(e,6368)).then((function(n){return n.getResources()}))},p=function(){return e.e(849).then(e.bind(e,7849)).then(i(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.getResources());case 1:case"end":return n.stop()}}),n)}))))},f=function(n){return(0,c.useQuery)({queryKey:"get-mapping-".concat(n),queryFn:i(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n===u.p4?s():n===u.OS?e.e(339).then(e.bind(e,339)).then(i(o().mark((function n(t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(87),e.e(910)]).then(e.bind(e,2910));case 2:return r=n.sent.closestTo,n.abrupt("return",t.getResources({closestTo:r}));case 4:case"end":return n.stop()}}),n)})))):n===u.R3?p():n===u.xV?e.e(981).then(e.bind(e,5981)).then(i(o().mark((function n(t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(87),e.e(910)]).then(e.bind(e,2910));case 2:return r=n.sent.closestTo,n.abrupt("return",t.getResources({closestTo:r}));case 4:case"end":return n.stop()}}),n)})))):function(){throw new Error("unsupported sensor type ".concat(n))}();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),cacheTime:1e9})}}},function(n){n.O(0,[507,774,888,179],(function(){return t=4903,n(n.s=t);var t}));var t=n.O();_N_E=t}]);