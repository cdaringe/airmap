"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{60502:(e,t,r)=>{r.d(t,{zB:()=>o,k8:()=>u,DM:()=>s});var n=r(12551),a=r(61760),i=r(69152);function o(e){try{var t=new URL(e),r=(0,n._)(t.pathname.substr(1).split("/"),3),a=r[0],i=r[1],o=r[2];if("spreadsheets"===a&&"d"===i&&o&&t.host.match("google.com"))return!0}catch(e){}return!1}function s(e){var t=new URL(e);return t.pathname=(0,a._)(t.pathname.substr(1).split("/").splice(0,3)).concat(["export"]).join("/"),String(t)}var u=function(e){var t=new URL(e),r=new URLSearchParams(t.search);return r.has("format")||r.set("format","csv"),t.search=r.toString(),fetch(s(t.toString()),{mode:"cors",redirect:"follow",headers:{accept:"text"}}).then(function(e){return e.body}).then(function(e){var t=null==e?void 0:e.getReader();return(0,i.V)(t,"missing stream body"),t})}},38109:(e,t,r)=>{r.r(t),r.d(t,{getResources:()=>_});var n={};r.r(n),r.d(n,{getLevels:()=>v});var a=r(48967),i=r(14952),o=r(34618),s=r(92831),u=r(12551),c=r(65959),l=r(60502),d=r(69152),p=function(){var e,t=(e=(0,a._)(function(e){var t;return(0,c.YH)(this,function(r){switch(r.label){case 0:return t=(0,u._)(e,1)[0],(0,d.V)(t,"missing airmap gps url"),[4,Promise.all([(0,l.k8)(t).then(function(){var e=(0,a._)(function(e){var r,n,a,u,l,p,f=arguments;return(0,c.YH)(this,function(c){switch(c.label){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{records:[],partial:""},[4,e.read()];case 1:return a=(n=c.sent()).done,((u=n.value)||a)&&(r.partial+="string"==typeof u?u:u?new TextDecoder().decode(u):"",p=(l=r.partial.split(/\n/g)).length-1,l.forEach(function(e,t){if(p!==t||a){var n=e.split(",");if(r.headerIndiciesByName){var u=n[r.headerIndiciesByName.latitude],c=n[r.headerIndiciesByName.timestamp],l=n[r.headerIndiciesByName.longitude];(0,d.V)(u,"lat :("),(0,d.V)(l,"long :("),(0,d.V)(c,"timestamp :("),r.records.push({latitude:parseFloat(u),longitude:parseFloat(l),timestamp:new Date(c),_:0}),a&&(r.partial="")}else r.headerIndiciesByName=n.reduce(function(e,t,r){return(0,s._)((0,o._)({},e),(0,i._)({},t.trim(),r))},{})}else r.partial=e})),[2,a?r:t(e,r)]}})});function t(t){return e.apply(this,arguments)}return t}())])];case 1:return[2,u._.apply(void 0,[r.sent(),1])[0].records]}})}),function(t){return e.apply(this,arguments)}),r=function(e){return{type:"FeatureCollection",features:e.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.longitude,e.latitude]},properties:(0,o._)({},e)}})}};return{download:t,downloadGeoJSON:function(e){return t(e).then(r)},dateField:"date",toGeoJSON:r}},f=r(56347),h=["#6fc400"],m=[[0,2e3]],g=["get","_"],v=function(e){return e.isMinMaxDynamicRange,e.geojson,h.length,{circleCases:m.map((0,f.t)(g)).flatMap(function(e,t){return[e,h[t]]}),colors:h,fieldName:"_",ranges:m}},_=function(){return{download:p(),mapbox:n}}},56347:(e,t,r)=>{r.d(t,{t:()=>a});var n=r(12551),a=function(e){return function(t){var r=(0,n._)(t,2);return["all",[">=",e,r[0]],["<",e,r[1]]]}}},69152:(e,t,r)=>{r.d(t,{V:()=>n});function n(e,t){if(null==e)throw Error(t)}}}]);