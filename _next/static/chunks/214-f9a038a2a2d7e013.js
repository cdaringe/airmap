(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{829:function(t,e,r){var n=r(5193).pZ;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return n(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},2196:function(t,e,r){"use strict";var n=r(8123);function o(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}o.default=o,e.Z=o},8690:function(t){function e(t,e,r,n){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var o={type:"Feature"};return n&&(o.id=n),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function r(t,r,n,o){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!f(t[0])||!f(t[1]))throw new Error("Coordinates must contain numbers");return e({type:"Point",coordinates:t},r,n,o)}function n(t,r,n,o){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var s=t[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++){if(0===i&&0===a&&!f(s[0][0])||!f(s[0][1]))throw new Error("Coordinates must contain numbers");if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},r,n,o)}function o(t,r,n,o){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!f(t[0][1])||!f(t[0][1]))throw new Error("Coordinates must contain numbers");return e({type:"LineString",coordinates:t},r,n,o)}function i(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiLineString",coordinates:t},r,n,o)}function s(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPoint",coordinates:t},r,n,o)}function a(t,r,n,o){if(!t)throw new Error("No coordinates passed");return e({type:"MultiPolygon",coordinates:t},r,n,o)}var u={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},l={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function h(t,e){if(void 0===t||null===t)throw new Error("radians is required");var r=u[e||"kilometers"];if(!r)throw new Error("units is invalid");return t*r}function c(t,e){if(void 0===t||null===t)throw new Error("distance is required");var r=u[e||"kilometers"];if(!r)throw new Error("units is invalid");return t/r}function p(t){if(null===t||void 0===t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:e,geometry:function(t,e,u){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(u&&4!==u.length)throw new Error("bbox must be an Array of 4 numbers");var l;switch(t){case"Point":l=r(e).geometry;break;case"LineString":l=o(e).geometry;break;case"Polygon":l=n(e).geometry;break;case"MultiPoint":l=s(e).geometry;break;case"MultiLineString":l=i(e).geometry;break;case"MultiPolygon":l=a(e).geometry;break;default:throw new Error(t+" is invalid")}return u&&(l.bbox=u),l},featureCollection:function(t,e,r){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"FeatureCollection"};return r&&(n.id=r),e&&(n.bbox=e),n.features=t,n},geometryCollection:function(t,r,n,o){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},r,n,o)},point:r,multiPoint:s,lineString:o,multiLineString:i,polygon:n,multiPolygon:a,radiansToDistance:h,distanceToRadians:c,distanceToDegrees:function(t,e){return p(c(t,e))},radians2degrees:p,degrees2radians:function(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},convertDistance:function(t,e,r){if(null===t||void 0===t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return h(c(t,e),r||"kilometers")},convertArea:function(t,e,r){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var n=l[e||"meters"];if(!n)throw new Error("invalid original units");var o=l[r||"kilometers"];if(!o)throw new Error("invalid final units");return t/n*o},round:function(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},isNumber:f}},6769:function(t,e){"use strict";function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!f(t[0])||!f(t[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function o(t,e,n){void 0===n&&(n={});for(var o=0,i=t;o<i.length;o++){var s=i[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function i(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function s(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function a(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function h(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t*n}function c(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t/n}function p(t){return 180*(t%(2*Math.PI))/Math.PI}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return i(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return n(t,e)})),r)},e.polygon=o,e.polygons=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return o(t,e)})),r)},e.lineString=i,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return i(t,e)})),r)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=h,e.lengthToRadians=c,e.lengthToDegrees=function(t,e){return p(c(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=p,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return h(c(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var o=e.areaFactors[r];if(!o)throw new Error("invalid original units");var i=e.areaFactors[n];if(!i)throw new Error("invalid final units");return t/o*i},e.isNumber=f,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!f(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},5193:function(t,e,r){"use strict";function n(t,e,r){if(null!==t){var o,i,s,a,u,l,h,c,p,f,d=0,y=0,g=t.type,m="FeatureCollection"===g,v="Feature"===g,b=m?t.features.length:1;for(o=0;o<b;o++)for(h=(f=!!(p=m?t.features[o].geometry:v?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1,i=0;i<h;i++){var x=0;if(null!==(l=f?p.geometries[i]:p)){c=l.coordinates;var w=l.type;switch(d=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(c,y,o,x),y++,x++;break;case"LineString":case"MultiPoint":for(s=0;s<c.length;s++)e(c[s],y,o,x),y++,"MultiPoint"===w&&x++;"LineString"===w&&x++;break;case"Polygon":case"MultiLineString":for(s=0;s<c.length;s++){for(a=0;a<c[s].length-d;a++)e(c[s][a],y,o,x),y++;"MultiLineString"===w&&x++}"Polygon"===w&&x++;break;case"MultiPolygon":for(s=0;s<c.length;s++){for(a=0;a<c[s].length;a++)for(u=0;u<c[s][a].length-d;u++)e(c[s][a][u],y,o,x),y++;x++}break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)n(l.geometries[s],e,r);break;default:throw new Error("Unknown Geometry Type")}}}}}r.d(e,{pZ:function(){return n}})},8123:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6769);function o(t,e,r){if(null!==t)for(var n,i,s,a,u,l,h,c,p=0,f=0,d=t.type,y="FeatureCollection"===d,g="Feature"===d,m=y?t.features.length:1,v=0;v<m;v++){u=(c=!!(h=y?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var b=0;b<u;b++){var x=0,w=0;if(null!==(a=c?h.geometries[b]:h)){l=a.coordinates;var _=a.type;switch(p=!r||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(l,f,v,x,w))return!1;f++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],f,v,x,w))return!1;f++,"MultiPoint"===_&&x++}"LineString"===_&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-p;i++){if(!1===e(l[n][i],f,v,x,w))return!1;f++}"MultiLineString"===_&&x++,"Polygon"===_&&w++}"Polygon"===_&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(w=0,i=0;i<l[n].length;i++){for(s=0;s<l[n][i].length-p;s++){if(!1===e(l[n][i][s],f,v,x,w))return!1;f++}w++}x++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===o(a.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function a(t,e){var r,n,o,i,s,a,u,l,h,c,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,y=f?t.features.length:1;for(r=0;r<y;r++){for(a=f?t.features[r].geometry:d?t.geometry:t,l=f?t.features[r].properties:d?t.properties:{},h=f?t.features[r].bbox:d?t.bbox:void 0,c=f?t.features[r].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(i=u?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,p,l,h,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],p,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,h,c))return!1;p++}}function u(t,e){a(t,(function(t,r,o,i,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,o,{bbox:i,id:s}),r,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var h={type:a,coordinates:t.coordinates[l]};if(!1===e(n.feature(h,o),r,l))return!1}}))}function l(t,e){u(t,(function(t,r,i){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,l=0,h=0,c=0;return!1!==o(t,(function(o,a,p,f,d){if(void 0===u||r>l||f>h||d>c)return u=o,l=r,h=f,c=d,void(s=0);var y=n.lineString([u,o],t.properties);if(!1===e(y,r,i,d,s))return!1;s++,u=o}))&&void 0}}}))}function h(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,r,o){if(null!==t.geometry){var i=t.geometry.type,s=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,o,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(n.lineString(s[a],t.properties),r,o,a))return!1}}}))}e.coordAll=function(t){var e=[];return o(t,(function(t){e.push(t)})),e},e.coordEach=o,e.coordReduce=function(t,e,r,n){var i=r;return o(t,(function(t,n,o,s,a){i=0===n&&void 0===r?t:e(i,t,n,o,s,a)}),n),i},e.featureEach=s,e.featureReduce=function(t,e,r){var n=r;return s(t,(function(t,o){n=0===o&&void 0===r?t:e(n,t,o)})),n},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return n.point(l,u,e);case"MultiPoint":return i<0&&(i=l.length+i),n.point(l[i],u,e);case"LineString":return a<0&&(a=l.length+a),n.point(l[a],u,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a),n.point(l[s][a],u,e);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),n.point(l[i][a],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),a<0&&(a=l[i][s].length-a),n.point(l[i][s][a],u,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),n.lineString([l[a],l[a+1]],u,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a-1),n.lineString([l[s][a],l[s][a+1]],u,e);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a-1),n.lineString([l[i][a],l[i][a+1]],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),a<0&&(a=l[i][s].length-a-1),n.lineString([l[i][s][a],l[i][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,r){var n=r;return u(t,(function(t,o,i){n=0===o&&0===i&&void 0===r?t:e(n,t,o,i)})),n},e.geomEach=a,e.geomReduce=function(t,e,r){var n=r;return a(t,(function(t,o,i,s,a){n=0===o&&void 0===r?t:e(n,t,o,i,s,a)})),n},e.lineEach=h,e.lineReduce=function(t,e,r){var n=r;return h(t,(function(t,o,i,s){n=0===o&&void 0===r?t:e(n,t,o,i,s)})),n},e.propEach=i,e.propReduce=function(t,e,r){var n=r;return i(t,(function(t,o){n=0===o&&void 0===r?t:e(n,t,o)})),n},e.segmentEach=l,e.segmentReduce=function(t,e,r){var n=r,o=!1;return l(t,(function(t,i,s,a,u){n=!1===o&&void 0===r?t:e(n,t,i,s,a,u),o=!0})),n}},3099:function(t,e,r){"use strict";var n=r(665),o=r(2755),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"===typeof r&&i(t,".prototype.")>-1?o(r):r}},2755:function(t,e,r){"use strict";var n=r(3569),o=r(665),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),u=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),h=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(p){l=null}t.exports=function(t){var e=a(n,s,arguments);if(u&&l){var r=u(e,"length");r.configurable&&l(e,"length",{value:1+h(0,t.length-(arguments.length-1))})}return e};var c=function(){return a(n,i,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c},3291:function(t,e,r){"use strict";var n=r(9204),o=r(7235),i=r(5789);const s=r(8809).orient2d;function a(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;var o=function(t){for(var e=t[0],r=t[0],n=t[0],o=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>n[0]&&(n=a),a[1]<r[1]&&(r=a),a[1]>o[1]&&(o=a)}var u=[e,r,n,o],l=u.slice();for(s=0;s<t.length;s++)i(t[s],u)||l.push(t[s]);return function(t){t.sort(b);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&f(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var n=[],o=t.length-1;o>=0;o--){for(;n.length>=2&&f(n[n.length-2],n[n.length-1],t[o])<=0;)n.pop();n.push(t[o])}return n.pop(),e.pop(),e.concat(n)}(l)}(t),s=new n(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,l=[],h=0;h<o.length;h++){var c=o[h];s.remove(c),a=y(c,a),l.push(a)}var p=new n(16);for(h=0;h<l.length;h++)p.insert(d(l[h]));for(var m=e*e,v=r*r;l.length;){var x=l.shift(),w=x.p,_=x.next.p,E=g(w,_);if(!(E<v)){var M=E/m;(c=u(s,x.prev.p,w,_,x.next.next.p,M,p))&&Math.min(g(c,w),g(c,_))<=M&&(l.push(x),l.push(y(c,x)),s.remove(c),p.remove(x),p.insert(d(x)),p.insert(d(x.next)))}}x=a;var S=[];do{S.push(x.p),x=x.next}while(x!==a);return S.push(x.p),S}function u(t,e,r,n,i,s,a){for(var u=new o([],l),c=t.data;c;){for(var f=0;f<c.children.length;f++){var d=c.children[f],y=c.leaf?m(d,r,n):h(r,n,d);y>s||u.push({node:d,dist:y})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),v=g.node,b=m(v,e,r),x=m(v,n,i);if(g.dist<b&&g.dist<x&&p(r,v,a)&&p(n,v,a))return v}(c=u.pop())&&(c=c.node)}return null}function l(t,e){return t.dist-e.dist}function h(t,e,r){if(c(t,r)||c(e,r))return 0;var n=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var o=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===o)return 0;var i=v(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===i)return 0;var s=v(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===s?0:Math.min(n,o,i,s)}function c(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function p(t,e,r){for(var n,o,i,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),h=Math.max(t[1],e[1]),c=r.search({minX:a,minY:u,maxX:l,maxY:h}),p=0;p<c.length;p++)if(n=c[p].p,o=c[p].next.p,i=t,n!==(s=e)&&o!==i&&f(n,o,i)>0!==f(n,o,s)>0&&f(i,s,n)>0!==f(i,s,o)>0)return!1;return!0}function f(t,e,r){return s(t[0],t[1],e[0],e[1],r[0],r[1])}function d(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function y(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function g(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function m(t,e,r){var n=e[0],o=e[1],i=r[0]-n,s=r[1]-o;if(0!==i||0!==s){var a=((t[0]-n)*i+(t[1]-o)*s)/(i*i+s*s);a>1?(n=r[0],o=r[1]):a>0&&(n+=i*a,o+=s*a)}return(i=t[0]-n)*i+(s=t[1]-o)*s}function v(t,e,r,n,o,i,s,a){var u,l,h,c,p=r-t,f=n-e,d=s-o,y=a-i,g=t-o,m=e-i,v=p*p+f*f,b=p*d+f*y,x=d*d+y*y,w=p*g+f*m,_=d*g+y*m,E=v*x-b*b,M=E,S=E;0===E?(l=0,M=1,c=_,S=x):(c=v*_-b*w,(l=b*_-x*w)<0?(l=0,c=_,S=x):l>M&&(l=M,c=_+b,S=x)),c<0?(c=0,-w<0?l=0:-w>v?l=M:(l=-w,M=v)):c>S&&(c=S,-w+b<0?l=0:-w+b>v?l=M:(l=-w+b,M=v));var P=(1-(h=0===c?0:c/S))*o+h*s-((1-(u=0===l?0:l/M))*t+u*r),O=(1-h)*i+h*a-((1-u)*e+u*n);return P*P+O*O}function b(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}t.exports=a,t.exports.default=a},8305:function(t,e,r){var n=Array.prototype.slice,o=r(9326),i=r(9902),s=t.exports=function(t,e,r){return r||(r={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:function(t,e,r){var l,h;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=n.call(t),e=n.call(e),s(t,e,r));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}try{var c=o(t),p=o(e)}catch(f){return!1}if(c.length!=p.length)return!1;for(c.sort(),p.sort(),l=c.length-1;l>=0;l--)if(c[l]!=p[l])return!1;for(l=c.length-1;l>=0;l--)if(h=c[l],!s(t[h],e[h],r))return!1;return typeof t===typeof e}(t,e,r))};function a(t){return null===t||void 0===t}function u(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}},9902:function(t,e){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=r?n:o).supported=n,e.unsupported=o},9326:function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}(t.exports="function"===typeof Object.keys?Object.keys:r).shim=r},3779:function(t,e,r){var n=r(2051),o=r(5250),i=r(2373),s=r(5734),a=r(6696),u=r(5705),l=Date.prototype.getTime;function h(t,e,r){var f=r||{};return!!(f.strict?i(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?f.strict?i(t,e):t==e:function(t,e,r){var i,f;if(typeof t!==typeof e)return!1;if(c(t)||c(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t)!==o(e))return!1;var d=s(t),y=s(e);if(d!==y)return!1;if(d||y)return t.source===e.source&&a(t)===a(e);if(u(t)&&u(e))return l.call(t)===l.call(e);var g=p(t),m=p(e);if(g!==m)return!1;if(g||m){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}if(typeof t!==typeof e)return!1;try{var v=n(t),b=n(e)}catch(x){return!1}if(v.length!==b.length)return!1;for(v.sort(),b.sort(),i=v.length-1;i>=0;i--)if(v[i]!=b[i])return!1;for(i=v.length-1;i>=0;i--)if(!h(t[f=v[i]],e[f],r))return!1;return!0}(t,e,f))}function c(t){return null===t||void 0===t}function p(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}t.exports=h},722:function(t,e,r){"use strict";var n=r(2051),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(r){return!1}}(),l=function(t,e,r,n){var o;(!(e in t)||"function"===typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},h=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var a=0;a<i.length;a+=1)l(t,i[a],e[i[a]],r[i[a]])};h.supportsDescriptors=!!u,t.exports=h},1017:function(t){function e(t,e,r,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,r,n)}e.prototype.run=function(t,e,r,n){this._init(t,e,r,n);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(o,s),this._expandCluster(s,i)}}return this.clusters},e.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},e.prototype._expandCluster=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(1!==this._visited[n]){this._visited[n]=1;var o=this._regionQuery(n);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[n]&&this._addToCluster(n,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],r=0;r<this._datasetLength;r++){this.distance(this.dataset[t],this.dataset[r])<this.epsilon&&e.push(r)}return e},e.prototype._mergeArrays=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=e[n];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=e)},5191:function(t){function e(t,e,r){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,r)}e.prototype.init=function(t,e,r){this.assignments=[],this.centroids=[],"undefined"!==typeof t&&(this.dataset=t),"undefined"!==typeof e&&(this.k=e),"undefined"!==typeof r&&(this.distance=r)},e.prototype.run=function(t,e){this.init(t,e);for(var r=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var s=new Array(h),a=0,u=0;u<h;u++)s[u]=0;for(var l=0;l<r;l++){var h=this.dataset[l].length;if(i===this.assignments[l]){for(u=0;u<h;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<h;u++)s[u]/=a;this.centroids[i]=s}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,r=this.dataset.length-1;do{e=Math.round(Math.random()*r),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,r=this.dataset.length,n=0;n<r;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),r=0;r<this.assignments.length;r++)"undefined"===typeof e[t=this.assignments[r]]&&(e[t]=[]),e[t].push(r);return e},e.prototype.argmin=function(t,e,r){for(var n,o=Number.MAX_VALUE,i=0,s=e.length,a=0;a<s;a++)(n=r(t,e[a]))<o&&(o=n,i=a);return i},e.prototype.distance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;){var o=t[n]-e[n];r+=o*o}return Math.sqrt(r)},t.exports&&(t.exports=e)},323:function(t,e,r){if(t.exports)var n=r(9022);function o(t,e,r,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,r,n)}o.prototype.run=function(t,e,r,o){this._init(t,e,r,o);for(var i=0,s=this.dataset.length;i<s;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var a=this.clusters.length-1;this._orderedList.push(i);var u=new n(null,null,"asc"),l=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,l,u),this._expandCluster(a,u))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var t=[],e=0,r=this._orderedList.length;e<r;e++){var n=this._orderedList[e],o=this._reachability[n];t.push([n,o])}return t},o.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},o.prototype._updateQueue=function(t,e,r){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===n._processed[e]){var o=n.distance(n.dataset[t],n.dataset[e]),i=Math.max(n._coreDistance,o);void 0===n._reachability[e]?(n._reachability[e]=i,r.insert(e,i)):i<n._reachability[e]&&(n._reachability[e]=i,r.remove(e),r.insert(e,i))}}))},o.prototype._expandCluster=function(t,e){for(var r=e.getElements(),n=0,o=r.length;n<o;n++){var i=r[n];if(void 0===this._processed[i]){var s=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,s,e),this._expandCluster(t,e))}}},o.prototype._distanceToCore=function(t){for(var e=this.epsilon,r=0;r<e;r++){if(this._regionQuery(t,r).length>=this.minPts)return r}},o.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var r=[],n=0,o=this.dataset.length;n<o;n++)this.distance(this.dataset[t],this.dataset[n])<e&&r.push(n);return r},o.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=o)},9022:function(t){function e(t,e,r){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,r)}e.prototype.insert=function(t,e){for(var r=this._queue.length,n=r;n--;){var o=this._priorities[n];"desc"===this._sorting?e>o&&(r=n):e<o&&(r=n)}this._insertAt(t,e,r)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,r=this._queue.length;e<r;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,r){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}r&&(this._sorting=r)},e.prototype._insertAt=function(t,e,r){this._queue.length===r?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(r,0,t),this._priorities.splice(r,0,e))},t.exports&&(t.exports=e)},5107:function(t,e,r){t.exports&&(t.exports={DBSCAN:r(1017),KMEANS:r(5191),OPTICS:r(323),PriorityQueue:r(9022)})},3510:function(t){"use strict";function e(t,e,i){i=i||2;var s,a,u,c,p,d,y,g=e&&e.length,m=g?e[0]*i:t.length,v=r(t,0,m,i,!0),b=[];if(!v||v.next===v.prev)return b;if(g&&(v=function(t,e,o,i){var s,a,u,c=[];for(s=0,a=e.length;s<a;s++)(u=r(t,e[s]*i,s<a-1?e[s+1]*i:t.length,i,!1))===u.next&&(u.steiner=!0),c.push(f(u));for(c.sort(l),s=0;s<c.length;s++)o=n(o=h(c[s],o),o.next);return o}(t,e,v,i)),t.length>80*i){s=u=t[0],a=c=t[1];for(var x=i;x<m;x+=i)(p=t[x])<s&&(s=p),(d=t[x+1])<a&&(a=d),p>u&&(u=p),d>c&&(c=d);y=0!==(y=Math.max(u-s,c-a))?1/y:0}return o(v,b,i,s,a,y),b}function r(t,e,r,n,o){var i,s;if(o===P(t,e,r,n)>0)for(i=e;i<r;i+=n)s=E(i,t[i],t[i+1],s);else for(i=r-n;i>=e;i-=n)s=E(i,t[i],t[i+1],s);return s&&m(s,s.next)&&(M(s),s=s.next),s}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(M(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function o(t,e,r,l,h,c,f){if(t){!f&&c&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=p(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,s,a,u,l=1;do{for(r=t,t=null,i=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,a--):(o=n,n=n.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(s>1)}(o)}(t,l,h,c);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,c?s(t,l,h,c):i(t))e.push(d.i/r),e.push(t.i/r),e.push(y.i/r),M(t),t=y.next,g=y.next;else if((t=y)===g){f?1===f?o(t=a(n(t),e,r),e,r,l,h,c,2):2===f&&u(t,e,r,l,h,c):o(n(t),e,r,l,h,c,1);break}}}function i(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(d(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&g(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function s(t,e,r,n){var o=t.prev,i=t,s=t.next;if(g(o,i,s)>=0)return!1;for(var a=o.x<i.x?o.x<s.x?o.x:s.x:i.x<s.x?i.x:s.x,u=o.y<i.y?o.y<s.y?o.y:s.y:i.y<s.y?i.y:s.y,l=o.x>i.x?o.x>s.x?o.x:s.x:i.x>s.x?i.x:s.x,h=o.y>i.y?o.y>s.y?o.y:s.y:i.y>s.y?i.y:s.y,c=p(a,u,e,r,n),f=p(l,h,e,r,n),y=t.prevZ,m=t.nextZ;y&&y.z>=c&&m&&m.z<=f;){if(y!==t.prev&&y!==t.next&&d(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,m!==t.prev&&m!==t.next&&d(o.x,o.y,i.x,i.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;y&&y.z>=c;){if(y!==t.prev&&y!==t.next&&d(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&d(o.x,o.y,i.x,i.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,r){var o=t;do{var i=o.prev,s=o.next.next;!m(i,s)&&v(i,o,o.next,s)&&w(i,s)&&w(s,i)&&(e.push(i.i/r),e.push(o.i/r),e.push(s.i/r),M(o),M(o.next),o=t=s),o=o.next}while(o!==t);return n(o)}function u(t,e,r,i,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var h=_(u,l);return u=n(u,u.next),h=n(h,h.next),o(u,e,r,i,s,a),void o(h,e,r,i,s,a)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function h(t,e){var r=function(t,e){var r,n=e,o=t.x,i=t.y,s=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=o&&a>s){if(s=a,a===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===s)return r;var u,l=r,h=r.x,p=r.y,f=1/0;n=r;do{o>=n.x&&n.x>=h&&o!==n.x&&d(i<p?o:s,i,h,p,i<p?s:o,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(o-n.x),w(n,t)&&(u<f||u===f&&(n.x>r.x||n.x===r.x&&c(r,n)))&&(r=n,f=u)),n=n.next}while(n!==l);return r}(t,e);if(!r)return e;var o=_(r,t),i=n(r,r.next);return n(o,o.next),e===r?i:e}function c(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function p(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function d(t,e,r,n,o,i,s,a){return(o-s)*(e-a)-(t-s)*(i-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(i-a)-(o-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!==r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){var o=x(g(t,e,r)),i=x(g(t,e,n)),s=x(g(r,n,t)),a=x(g(r,n,e));return o!==i&&s!==a||(!(0!==o||!b(t,r,e))||(!(0!==i||!b(t,n,e))||(!(0!==s||!b(r,t,n))||!(0!==a||!b(r,e,n)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x(t){return t>0?1:t<0?-1:0}function w(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function _(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function E(t,e,r,n){var o=new S(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,r,n){for(var o=0,i=e,s=r-n;i<r;i+=n)o+=(t[s]-t[i])*(t[i+1]+t[s+1]),s=i;return o}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,s=Math.abs(P(t,0,i,r));if(o)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(P(t,l,h,r))}var c=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,f=n[a+1]*r,d=n[a+2]*r;c+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var s=0;s<e;s++)r.vertices.push(t[o][i][s]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}},8640:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!==typeof i||n.call(i)!==o)throw new TypeError(e+i);for(var s,a=r.call(arguments,1),u=function(){if(this instanceof s){var e=i.apply(this,a.concat(r.call(arguments)));return Object(e)===e?e:this}return i.apply(t,a.concat(r.call(arguments)))},l=Math.max(0,i.length-a.length),h=[],c=0;c<l;c++)h.push("$"+c);if(s=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var p=function(){};p.prototype=i.prototype,s.prototype=new p,p.prototype=null}return s}},3569:function(t,e,r){"use strict";var n=r(8640);t.exports=Function.prototype.bind||n},1673:function(t,e,r){var n=r(3779),o=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function i(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return n(t,e,{strict:!0})}o.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var r=this,n=i(t),o=i(e);return n.every((function(t){return this.some((function(e){return r.compare(t,e)}))}),o)}}return!1},o.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r].toFixed(this.precision)!==e[r].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(t,e,r,n){if(!s(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(t,e){for(var r,n=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],e[0])){n=o;break}return n>=0&&(r=[].concat(t.slice(n,t.length),t.slice(1,n+1))),r},o.prototype.comparePath=function(t,e){var r=this;return t.every((function(t,e){return r.compareCoord(t,this[e])}),e)},o.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var r=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),o=this;return r.every((function(t){return this.some((function(e){return o.compareLine(t,e,1,!0)}))}),n)}return!1},o.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},o.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},o.prototype.removePseudo=function(t){return t},t.exports=o},9309:function(t,e,r){var n=r(8083),o=r(6769),i=r(8123),s=r(2196).Z,a=i.featureEach,u=(i.coordEach,o.polygon,o.featureCollection);function l(t){var e=n(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){var e=n.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=n.prototype.all.call(this);return u(t)},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports.default=l},665:function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(k){u=null}var l=function(){throw new s},h=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(e){return l}}}():l,c=r(4906)(),p=Object.getPrototypeOf||function(t){return t.__proto__},f={},d="undefined"===typeof Uint8Array?n:p(Uint8Array),y={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":c?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?p(p([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&c?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&c?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?p(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":d,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},g=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=p(o.prototype))}return y[e]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(3569),b=r(8416),x=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,P=function(t){var e=E(t,0,1),r=E(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return _(t,M,(function(t,e,r,o){n[n.length]=r?_(o,S,"$1"):e||t})),n},O=function(t,e){var r,n=t;if(b(m,n)&&(n="%"+(r=m[n])[0]+"%"),b(y,n)){var i=y[n];if(i===f&&(i=g(n)),"undefined"===typeof i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new s('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",i=O("%"+n+"%",e),a=i.name,l=i.value,h=!1,c=i.alias;c&&(n=c[0],w(r,x([0,1],c)));for(var p=1,f=!0;p<r.length;p+=1){var d=r[p],g=E(d,0,1),m=E(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&f||(h=!0),b(y,a="%"+(n+="."+d)+"%"))l=y[a];else if(null!=l){if(!(d in l)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&p+1>=r.length){var v=u(l,d);l=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[d]}else f=b(l,d),l=l[d];f&&!h&&(y[a]=l)}}return l}},4906:function(t,e,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,o=r(5251);t.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},5251:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},8416:function(t,e,r){"use strict";var n=r(3569);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},5250:function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=r(3099)("Object.prototype.toString"),i=function(t){return!(n&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!i(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,t.exports=a?i:s},5705:function(t){"use strict";var e=Date.prototype.getDay,r=Object.prototype.toString,n="function"===typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"object"===typeof t&&null!==t&&(n?function(t){try{return e.call(t),!0}catch(r){return!1}}(t):"[object Date]"===r.call(t))}},5734:function(t,e,r){"use strict";var n,o,i,s,a=r(3099),u=r(5251)()&&!!Symbol.toStringTag;if(u){n=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var l=function(){throw i};s={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var h=a("Object.prototype.toString"),c=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!==typeof t)return!1;var e=c(t,"lastIndex");if(!(e&&n(e,"value")))return!1;try{o(t,s)}catch(r){return r===i}}:function(t){return!(!t||"object"!==typeof t&&"function"!==typeof t)&&"[object RegExp]"===h(t)}},2731:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){n(t,e,r[e])}))}return t}e.default=function(t,e){var r=i.default,n={loading:function(t){t.error,t.isLoading;return t.pastDelay,null}};s=t,u=Promise,(null!=u&&"undefined"!==typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](s):s instanceof u)?n.loader=function(){return t}:"function"===typeof t?n.loader=t:"object"===typeof t&&(n=o({},n,t));var s,u;var l=n=o({},n,e);if(l.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(l.suspense)return r(l);n.loadableGenerated&&delete(n=o({},n,n.loadableGenerated)).loadableGenerated;if("boolean"===typeof n.ssr){if(!n.ssr)return delete n.ssr,a(r,n);delete n.ssr}return r(n)};s(r(9496));var i=s(r(7990));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return delete e.webpack,delete e.modules,t(e)}},4201:function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var o=((n=r(9496))&&n.__esModule?n:{default:n}).default.createContext(null);e.LoadableContext=o},7990:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){o(t,e,r[e])}))}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,a=(s=r(9496))&&s.__esModule?s:{default:s},u=r(6413),l=r(4201);var h=[],c=[],p=!1;function f(t){var e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then((function(t){return r.loading=!1,r.loaded=t,t})).catch((function(t){throw r.loading=!1,r.error=t,t})),r}var d=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loadFn=e,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}var e,r,o;return e=t,(r=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,r=this._opts;if(e.loading){if("number"===typeof r.delay)if(0===r.delay)this._state.pastDelay=!0;else{var n=this;this._delay=setTimeout((function(){n._update({pastDelay:!0})}),r.delay)}if("number"===typeof r.timeout){var o=this;this._timeout=setTimeout((function(){o._update({timedOut:!0})}),r.timeout)}}this._res.promise.then((function(){t._update({}),t._clearTimeouts()})).catch((function(e){t._update({}),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=i({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks.delete(t)}}}])&&n(e.prototype,r),o&&n(e,o),t}();function y(t){return function(t,e){var r=function(){if(!o){var e=new d(t,n);o={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return o.promise()},n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},e);n.suspense&&(n.lazy=a.default.lazy(n.loader));var o=null;if(!p&&"function"===typeof n.webpack&&!n.suspense){var s=n.webpack();c.push((function(t){var e=!0,n=!1,o=void 0;try{for(var i,a=s[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;if(-1!==t.indexOf(u))return r()}}catch(l){n=!0,o=l}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}))}var h=n.suspense?function(t,e){return a.default.createElement(n.lazy,i({},t,{ref:e}))}:function(t,e){r();var i=a.default.useContext(l.LoadableContext),s=u.useSubscription(o);return a.default.useImperativeHandle(e,(function(){return{retry:o.retry}}),[]),i&&Array.isArray(n.modules)&&n.modules.forEach((function(t){i(t)})),a.default.useMemo((function(){return s.loading||s.error?a.default.createElement(n.loading,{isLoading:s.loading,pastDelay:s.pastDelay,timedOut:s.timedOut,error:s.error,retry:o.retry}):s.loaded?a.default.createElement(function(t){return t&&t.__esModule?t.default:t}(s.loaded),t):null}),[t,s])};return h.preload=function(){return!n.suspense&&r()},h.displayName="LoadableComponent",a.default.forwardRef(h)}(f,t)}function g(t,e){for(var r=[];t.length;){var n=t.pop();r.push(n(e))}return Promise.all(r).then((function(){if(t.length)return g(t,e)}))}y.preloadAll=function(){return new Promise((function(t,e){g(h).then(t,e)}))},y.preloadReady=function(t){var e=void 0===t?[]:t;return new Promise((function(t){var r=function(){return p=!0,t()};g(c,e).then(r,r)}))},window.__NEXT_PRELOADREADY=y.preloadReady;var m=y;e.default=m},6869:function(t,e,r){t.exports=r(2731)},5628:function(t){"use strict";var e=function(t){return t!==t};t.exports=function(t,r){return 0===t&&0===r?1/t===1/r:t===r||!(!e(t)||!e(r))}},2373:function(t,e,r){"use strict";var n=r(722),o=r(2755),i=r(5628),s=r(8075),a=r(9322),u=o(s(),Object);n(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},8075:function(t,e,r){"use strict";var n=r(5628);t.exports=function(){return"function"===typeof Object.is?Object.is:n}},9322:function(t,e,r){"use strict";var n=r(8075),o=r(722);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},9121:function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(9021),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{c(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(t){var e=null!==t&&"object"===typeof t,r="[object Function]"===i.call(t),n=s(t),a=e&&"[object String]"===i.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=l&&r;if(a&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(n&&t.length>0)for(var g=0;g<t.length;++g)p.push(String(g));else for(var m in t)d&&"prototype"===m||!o.call(t,m)||p.push(String(m));if(u)for(var v=function(t){if("undefined"===typeof window||!f)return c(t);try{return c(t)}catch(e){return!1}}(t),b=0;b<h.length;++b)v&&"constructor"===h[b]||!o.call(t,h[b])||p.push(h[b]);return p}}t.exports=n},2051:function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(9021),i=Object.keys,s=i?function(t){return i(t)}:r(9121),a=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?a(n.call(t)):a(t)}):Object.keys=s;return Object.keys||s},t.exports=s},9021:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},1450:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],s=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var a=(n-r)/2,u=0,l=a-1;u<a;l=u++){var h=e[r+2*u+0],c=e[r+2*u+1],p=e[r+2*l+0],f=e[r+2*l+1];c>i!==f>i&&o<(p-h)*(i-c)/(f-c)+h&&(s=!s)}return s}},5789:function(t,e,r){var n=r(1450),o=r(4103);t.exports=function(t,e,r,i){return e.length>0&&Array.isArray(e[0])?o(t,e,r,i):n(t,e,r,i)},t.exports.nested=o,t.exports.flat=n},4103:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],s=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var a=n-r,u=0,l=a-1;u<a;l=u++){var h=e[u+r][0],c=e[u+r][1],p=e[l+r][0],f=e[l+r][1];c>i!==f>i&&o<(p-h)*(i-c)/(f-c)+h&&(s=!s)}return s}},3167:function(t,e,r){var n=r(4224);t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}var o=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function i(t,e){return t>e?1:t<e?-1:0}function s(t,e,r){for(var n=new o(null,null),i=n,s=n;;){var a=r(t,e.key);if(a<0){if(null===e.left)break;if(r(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(r(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,s.left=e.right,e.left=n.right,e.right=n.left,e}function a(t,e,r,n){var i=new o(t,e);if(null===r)return i.left=i.right=null,i;var a=n(t,(r=s(t,r,n)).key);return a<0?(i.left=r.left,i.right=r,r.left=null):a>=0&&(i.right=r.right,i.left=r,r.right=null),i}function u(t,e,r){var n=null,o=null;if(e){var i=r((e=s(t,e,r)).key,t);0===i?(n=e.left,o=e.right):i<0?(o=e.right,e.right=null,n=e):(n=e.left,e.left=null,o=e)}return{left:n,right:o}}function l(t,e,r){return null===e?t:(null===t||((e=s(t.key,e,r)).left=t),e)}function h(t,e,r,n,o){if(t){n(e+(r?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+o(t)+"\n");var i=e+(r?"    ":"\u2502   ");t.left&&h(t.left,i,!1,n,o),t.right&&h(t.right,i,!0,n,o)}}var c=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=a(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new o(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var n=this._comparator,i=s(t,this._root,n),a=n(t,i.key);return 0===a?this._root=i:(a<0?(r.left=i.left,r.right=i,i.left=null):a>0&&(r.right=i.right,r.left=i,i.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:0===r(t,(e=s(t,e,r)).key)?(null===e.left?n=e.right:(n=s(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=s(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=s(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],o=!1;!o;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):o=!0;return this},t.prototype.range=function(t,e,r,n){for(var o=[],i=this._comparator,s=this._root;0!==o.length||s;)if(s)o.push(s),s=s.left;else{if(i((s=o.pop()).key,e)>0)break;if(i(s.key,t)>=0&&r.call(n,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var r=e.key;return t.push(r)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var r=e.data;return t.push(r)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,o=[];!r;)if(e)o.push(e),e=e.left;else if(o.length>0){if(e=o.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return d(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var n=t.length,o=this._comparator;if(r&&m(t,e,0,n-1,o),null===this._root)this._root=p(t,e,0,n),this._size=n;else{var i=g(this.toList(),f(t,e),o);n=this._size+n,this._root=y({head:i},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return h(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,r){var n=this._comparator,o=u(t,this._root,n),i=o.left,s=o.right;n(t,e)<0?s=a(e,r,s,n):i=a(e,r,i,n),this._root=l(i,s,n)},t.prototype.split=function(t){return u(t,this._root,this._comparator)},t}();function p(t,e,r,n){var i=n-r;if(i>0){var s=r+Math.floor(i/2),a=t[s],u=e[s],l=new o(a,u);return l.left=p(t,e,r,s),l.right=p(t,e,s+1,n),l}return null}function f(t,e){for(var r=new o(null,null),n=r,i=0;i<t.length;i++)n=n.next=new o(t[i],e[i]);return n.next=null,r.next}function d(t){for(var e=t,r=[],n=!1,i=new o(null,null),s=i;!n;)e?(r.push(e),e=e.left):r.length>0?e=(e=s=s.next=r.pop()).right:n=!0;return s.next=null,i.next}function y(t,e,r){var n=r-e;if(n>0){var o=e+Math.floor(n/2),i=y(t,e,o),s=t.head;return s.left=i,t.head=t.head.next,s.right=y(t,o+1,r),s}return null}function g(t,e,r){for(var n=new o(null,null),i=n,s=t,a=e;null!==s&&null!==a;)r(s.key,a.key)<0?(i.next=s,s=s.next):(i.next=a,a=a.next),i=i.next;return null!==s?i.next=s:null!==a&&(i.next=a),n.next}function m(t,e,r,n,o){if(!(r>=n)){for(var i=t[r+n>>1],s=r-1,a=n+1;;){do{s++}while(o(t[s],i)<0);do{a--}while(o(t[a],i)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}m(t,e,r,a,o),m(t,e,a+1,n,o)}}var v=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},b=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},x=Number.EPSILON;void 0===x&&(x=Math.pow(2,-52));var w=x*x,_=function(t,e){if(-x<t&&t<x&&-x<e&&e<x)return 0;var r=t-e;return r*r<w*t*e?0:t<e?-1:1},E=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new M,this.yRounder=new M}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),M=function(){function e(){t(this,e),this.tree=new c,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===_(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===_(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),e}(),S=new E,P=function(t,e){return t.x*e.y-t.y*e.x},O=function(t,e){return t.x*e.x+t.y*e.y},k=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y},i=P(n,o);return _(i,0)},C=function(t){return Math.sqrt(O(t,t))},A=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return P(o,n)/C(o)/C(n)},j=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return O(o,n)/C(o)/C(n)},I=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},R=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},L=function(t,e,r,n){if(0===e.x)return R(r,n,t.x);if(0===n.x)return R(t,e,r.x);if(0===e.y)return I(r,n,t.y);if(0===n.y)return I(t,e,r.y);var o=P(e,n);if(0==o)return null;var i={x:r.x-t.x,y:r.y-t.y},s=P(i,e)/o,a=P(i,n)/o;return{x:(t.x+a*e.x+(r.x+s*n.x))/2,y:(t.y+a*e.y+(r.y+s*n.y))/2}},F=function(){function e(r,n){t(this,e),void 0===r.events?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=n}return r(e,null,[{key:"compare",value:function(t,r){var n=e.comparePoints(t.point,r.point);return 0!==n?n:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:N.compare(t.segment,r.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var o=e[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var o=this.point.events[n];void 0===o.consumedBy&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var o=n.otherSE;r.set(n,{sine:A(e.point,t.point,o.point),cosine:j(e.point,t.point,o.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var o=r.get(t),i=o.sine,s=o.cosine,a=r.get(e),u=a.sine,l=a.cosine;return i>=0&&u>=0?s<l?1:s>l?-1:0:i<0&&u<0?s<l?-1:s>l?1:0:u<i?-1:u>i?1:0}}}]),e}(),B=0,N=function(){function e(r,n,o,i){t(this,e),this.id=++B,this.leftSE=r,r.segment=this,r.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=r,this.rings=o,this.windings=i}return r(e,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,o=t.rightSE.point.x,i=e.rightSE.point.x;if(i<r)return 1;if(o<n)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(r<n){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var h=t.comparePoint(e.leftSE.point);if(h<0)return 1;if(h>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(r>n){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var p=e.comparePoint(t.leftSE.point);if(0!==p)return p;var f=t.comparePoint(e.rightSE.point);return f<0?1:f>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(o<i){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(o>i){var y=t.comparePoint(e.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(o!==i){var g=u-s,m=o-r,v=l-a,b=i-n;if(g>m&&v<b)return 1;if(g<m&&v>b)return-1}return o>i?1:o<i||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var o=(t.y-e.y)/n.y,i=e.x+o*n.x;if(t.x===i)return 0;var s=(t.x-e.x)/n.x,a=e.y+s*n.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=b(e,r);if(null===n)return null;var o=this.leftSE.point,i=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=v(e,s)&&0===this.comparePoint(s),l=v(r,o)&&0===t.comparePoint(o),h=v(e,a)&&0===this.comparePoint(a),c=v(r,i)&&0===t.comparePoint(i);if(l&&u)return c&&!h?i:!c&&h?a:null;if(l)return h&&o.x===a.x&&o.y===a.y?null:o;if(u)return c&&i.x===s.x&&i.y===s.y?null:s;if(c&&h)return null;if(c)return i;if(h)return a;var p=L(o,this.vector(),s,t.vector());return null===p?null:v(n,p)?S.round(p.x,p.y):null}},{key:"split",value:function(t){var r=[],n=void 0!==t.events,o=new F(t,!0),i=new F(t,!1),s=this.rightSE;this.replaceRightSE(i),r.push(i),r.push(o);var a=new e(o,s,this.rings.slice(),this.windings.slice());return F.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),F.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(o.checkForConsuming(),i.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var r=this,n=t;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var o=e.compare(r,n);if(0!==o){if(o>0){var i=r;r=n,n=i}if(r.prev===n){var s=r;r=n,n=s}for(var a=0,u=n.rings.length;a<u;a++){var l=n.rings[a],h=n.windings[a],c=r.rings.indexOf(l);-1===c?(r.rings.push(l),r.windings.push(h)):r.windings[c]+=h}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var s=this.rings[o],a=this.windings[o],u=e.indexOf(s);-1===u?(e.push(s),r.push(a)):r[u]+=a}for(var l=[],h=[],c=0,p=e.length;c<p;c++)if(0!==r[c]){var f=e[c],d=f.poly;if(-1===h.indexOf(d))if(f.isExterior)l.push(d);else{-1===h.indexOf(d)&&h.push(d);var y=l.indexOf(f.poly);-1!==y&&l.splice(y,1)}}for(var g=0,m=l.length;g<m;g++){var v=l[g].multiPoly;-1===n.indexOf(v)&&n.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(W.type){case"union":var r=0===t.length,n=0===e.length;this._isInResult=r!==n;break;case"intersection":var o,i;t.length<e.length?(o=t.length,i=e.length):(o=e.length,i=t.length),this._isInResult=i===W.numMultiPolys&&o<i;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2===1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(W.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,r,n){var o,i,s,a=F.comparePoints(t,r);if(a<0)o=t,i=r,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));o=r,i=t,s=-1}return new e(new F(o,!0),new F(i,!1),[n],[s])}}]),e}(),D=function(){function e(r,n,o){if(t(this,e),!Array.isArray(r)||0===r.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=o,this.segments=[],"number"!==typeof r[0][0]||"number"!==typeof r[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=S.round(r[0][0],r[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var s=i,a=1,u=r.length;a<u;a++){if("number"!==typeof r[a][0]||"number"!==typeof r[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=S.round(r[a][0],r[a][1]);l.x===s.x&&l.y===s.y||(this.segments.push(N.fromRing(s,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),s=l)}i.x===s.x&&i.y===s.y||this.segments.push(N.fromRing(s,i,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),e}(),z=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new D(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,i=r.length;o<i;o++){var s=new D(r[o],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),T=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof r[0][0][0]&&(r=[r])}catch(a){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,i=r.length;o<i;o++){var s=new z(r[o],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),U=function(){function e(r){t(this,e),this.events=r;for(var n=0,o=r.length;n<o;n++)r[n].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var r=[],n=0,o=t.length;n<o;n++){var i=t[n];if(i.isInResult()&&!i.ringOut){for(var s=null,a=i.leftSE,u=i.rightSE,l=[a],h=a.point,c=[];s=a,a=u,l.push(a),a.point!==h;)for(;;){var p=a.getAvailableLinkedEvents();if(0===p.length){var f=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(f.x,",")+" ".concat(f.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===p.length){u=p[0].otherSE;break}for(var y=null,g=0,m=c.length;g<m;g++)if(c[g].point===a.point){y=g;break}if(null===y){c.push({index:l.length,point:a.point});var v=a.getLeftmostComparator(s);u=p.sort(v)[0].otherSE;break}var b=c.splice(y)[0],x=l.splice(b.index);x.unshift(x[0].otherSE),r.push(new e(x.reverse()))}r.push(new e(l))}}return r}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var o=this.events[r].point,i=this.events[r+1].point;0!==k(o,t,i)&&(e.push(o),t=o)}if(1===e.length)return null;var s=e[0],a=e[1];0===k(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,h=this.isExteriorRing()?e.length:-1,c=[],p=l;p!=h;p+=u)c.push([e[p].x,e[p].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];F.compare(t,n)>0&&(t=n)}for(var o=t.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut)return i.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=i.prevInResult(),i=o?o.prevInResult():null}}}]),e}(),Y=function(){function e(r){t(this,e),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),e}(),X=function(){function e(r){t(this,e),this.rings=r,this.polys=this._composePolys(r)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];if(!o.poly)if(o.isExteriorRing())e.push(new Y(o));else{var i=o.enclosingRing();i.poly||e.push(new Y(i)),i.poly.addInterior(o)}}return e}}]),e}(),Z=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.compare;t(this,e),this.queue=r,this.tree=new c(n),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=n,i=n,s=void 0,a=void 0;void 0===s;)null===(o=this.tree.prev(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);for(;void 0===a;)null===(i=this.tree.next(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var h=this._splitSafely(s,l),c=0,p=h.length;c<p;c++)r.push(h[c])}var f=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(f=d),!a.isAnEndpoint(d)))for(var y=this._splitSafely(a,d),g=0,m=y.length;g<m;g++)r.push(y[g])}if(null!==u||null!==f){var v=null;v=null===u?f:null===f||F.comparePoints(u,f)<=0?u:f,this.queue.remove(e.rightSE),r.push(e.rightSE);for(var b=e.split(v),x=0,w=b.length;x<w;x++)r.push(b[x])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var _=s.getIntersection(a);if(null!==_){if(!s.isAnEndpoint(_))for(var E=this._splitSafely(s,_),M=0,S=E.length;M<S;M++)r.push(E[M]);if(!a.isAnEndpoint(_))for(var P=this._splitSafely(a,_),O=0,k=P.length;O<k;O++)r.push(P[O])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),e}(),q="undefined"!==typeof n&&n.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,G="undefined"!==typeof n&&n.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,r){W.type=t,S.reset();for(var n=[new T(e,!0)],o=0,i=r.length;o<i;o++)n.push(new T(r[o],!1));if(W.numMultiPolys=n.length,"difference"===W.type)for(var s=n[0],a=1;a<n.length;)null!==b(n[a].bbox,s.bbox)?a++:n.splice(a,1);if("intersection"===W.type)for(var u=0,l=n.length;u<l;u++)for(var h=n[u],p=u+1,f=n.length;p<f;p++)if(null===b(h.bbox,n[p].bbox))return[];for(var d=new c(F.compare),y=0,g=n.length;y<g;y++)for(var m=n[y].getSweepEvents(),v=0,x=m.length;v<x;v++)if(d.insert(m[v]),d.size>q)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new Z(d),_=d.size,E=d.pop();E;){var M=E.key;if(d.size===_){var P=M.segment;throw new Error("Unable to pop() ".concat(M.isLeft?"left":"right"," SweepEvent ")+"[".concat(M.point.x,", ").concat(M.point.y,"] from segment #").concat(P.id," ")+"[".concat(P.leftSE.point.x,", ").concat(P.leftSE.point.y,"] -> ")+"[".concat(P.rightSE.point.x,", ").concat(P.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>q)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>G)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var O=w.process(M),k=0,C=O.length;k<C;k++){var A=O[k];void 0===A.consumedBy&&d.insert(A)}_=d.size,E=d.pop()}S.reset();var j=U.factory(w.segments);return new X(j).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return W.run("union",t,r)},intersection:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return W.run("intersection",t,r)},xor:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return W.run("xor",t,r)},difference:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return W.run("difference",t,r)}}}()},719:function(t){t.exports=function(){"use strict";function t(t,r,o,i,s){e(t,r,o||0,i||t.length-1,s||n)}function e(t,n,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,u=n-o+1,l=Math.log(a),h=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*h*(a-h)/a)*(u-a/2<0?-1:1);e(t,n,Math.max(o,Math.floor(n-u*h/a+c)),Math.min(i,Math.floor(n+(a-u)*h/a+c)),s)}var p=t[n],f=o,d=i;for(r(t,o,n),s(t[i],p)>0&&r(t,o,i);f<d;){for(r(t,f,d),f++,d--;s(t[f],p)<0;)f++;for(;s(t[d],p)>0;)d--}0===s(t[o],p)?r(t,o,d):r(t,++d,i),d<=n&&(o=d+1),n<=d&&(i=d-1)}}function r(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function n(t,e){return t<e?-1:t>e?1:0}return t}()},8083:function(t,e,r){"use strict";t.exports=o,t.exports.default=o;var n=r(719);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,o){o||(o=g(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,s=e;s<r;s++)i=t.children[s],u(o,t.leaf?n(i):i);return o}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,o-r)*Math.max(0,i-n)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,r,o,i){for(var s,a=[e,r];a.length;)(r=a.pop())-(e=a.pop())<=o||(s=e+Math.ceil((r-e)/o/2)*o,n(t,s,e,r,i),a.push(e,s,s,r))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!y(t,e))return r;for(var o,i,s,a,u=[];e;){for(o=0,i=e.children.length;o<i;o++)s=e.children[o],y(t,a=e.leaf?n(s):s)&&(e.leaf?r.push(s):d(t,a)?this._all(s,r):u.push(s));e=u.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!y(t,e))return!1;for(var n,o,i,s,a=[];e;){for(n=0,o=e.children.length;n<o;n++)if(i=e.children[n],y(t,s=e.leaf?r(i):i)){if(e.leaf||d(t,s))return!0;a.push(i)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var r,n,o,s,a=this.data,u=this.toBBox(t),l=[],h=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=h.pop(),s=!0),a.leaf&&-1!==(o=i(t,a.children,e)))return a.children.splice(o,1),l.push(a),this._condense(l),this;s||a.leaf||!d(a,u)?n?(r++,a=n.children[r],s=!1):a=null:(l.push(a),h.push(r),r=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var o,i=r-e+1,a=this._maxEntries;if(i<=a)return s(o=g(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,n-1))),(o=g([])).leaf=!1,o.height=n;var u,l,h,c,p=Math.ceil(i/a),f=p*Math.ceil(Math.sqrt(a));for(m(t,e,r,f,this.compareMinX),u=e;u<=r;u+=f)for(m(t,u,h=Math.min(u+f-1,r),p,this.compareMinY),l=u;l<=h;l+=p)c=Math.min(l+p-1,h),o.children.push(this._build(t,l,c,n-1));return s(o,this.toBBox),o},_chooseSubtree:function(t,e,r,n){for(var o,i,s,a,u,l,h,p,f,d;n.push(e),!e.leaf&&n.length-1!==r;){for(h=p=1/0,o=0,i=e.children.length;o<i;o++)u=c(s=e.children[o]),f=t,d=s,(l=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u)<p?(p=l,h=u<h?u:h,a=s):l===p&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,o=r?t:n(t),i=[],s=this._chooseSubtree(o,this.data,e,i);for(s.children.push(t),u(s,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var i=this._chooseSplitIndex(r,o,n),a=g(r.children.splice(i,r.children.length-i));a.height=r.height,a.leaf=r.leaf,s(r,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,o,i,s,u,l,h,p;for(l=h=1/0,n=e;n<=r-e;n++)s=f(o=a(t,0,n,this.toBBox),i=a(t,n,r,this.toBBox)),u=c(o)+c(i),s<l?(l=s,p=n,h=u<h?u:h):s===l&&u<h&&(h=u,p=n);return p},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var o,i,s=this.toBBox,l=a(t,0,e,s),h=a(t,r-e,r,s),c=p(l)+p(h);for(o=e;o<r-e;o++)i=t.children[o],u(l,t.leaf?s(i):i),c+=p(l);for(o=r-e-1;o>=e;o--)i=t.children[o],u(h,t.leaf?s(i):i),c+=p(h);return c},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)u(e[n],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():s(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},9204:function(t){t.exports=function(){"use strict";function t(t,n,o,i,s){!function t(r,n,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,u=n-o+1,l=Math.log(a),h=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*h*(a-h)/a)*(u-a/2<0?-1:1);t(r,n,Math.max(o,Math.floor(n-u*h/a+c)),Math.min(i,Math.floor(n+(a-u)*h/a+c)),s)}var p=r[n],f=o,d=i;for(e(r,o,n),s(r[i],p)>0&&e(r,o,i);f<d;){for(e(r,f,d),f++,d--;s(r[f],p)<0;)f++;for(;s(r[d],p)>0;)d--}0===s(r[o],p)?e(r,o,d):e(r,++d,i),d<=n&&(o=d+1),n<=d&&(i=d-1)}}(t,n,o||0,i||t.length-1,s||r)}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function i(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,n,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<r;i++){var s=t.children[i];a(o,t.leaf?n(s):s)}return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,r,n,o,i){for(var s=[r,n];s.length;)if(!((n=s.pop())-(r=s.pop())<=o)){var a=r+Math.ceil((n-r)/o/2)*o;t(e,a,r,n,i),s.push(r,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,r=[];if(!f(t,e))return r;for(var n=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var s=e.children[i],a=e.leaf?n(s):s;f(t,a)&&(e.leaf?r.push(s):p(t,a)?this._all(s,r):o.push(s))}e=o.pop()}return r},n.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],i=e.leaf?this.toBBox(o):o;if(f(t,i)){if(e.leaf||p(t,i))return!0;r.push(o)}}e=r.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var r,n,i,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],r=l.pop(),i=!0),s.leaf){var h=o(t,s.children,e);if(-1!==h)return s.children.splice(h,1),u.push(s),this._condense(u),this}i||s.leaf||!p(s,a)?n?(r++,s=n.children[r],i=!1):s=null:(u.push(s),l.push(r),r=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},n.prototype._build=function(t,e,r,n){var o,s=r-e+1,a=this._maxEntries;if(s<=a)return i(o=d(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(o=d([])).leaf=!1,o.height=n;var u=Math.ceil(s/a),l=u*Math.ceil(Math.sqrt(a));y(t,e,r,l,this.compareMinX);for(var h=e;h<=r;h+=l){var c=Math.min(h+l-1,r);y(t,h,c,u,this.compareMinY);for(var p=h;p<=c;p+=u){var f=Math.min(p+u-1,c);o.children.push(this._build(t,p,f,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],l=h(u),c=(p=t,f=u,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);c<i?(i=c,o=l<o?l:o,s=u):c===i&&l<o&&(o=l,s=u)}e=s||e.children[0]}var p,f;return e},n.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),o=[],i=this._chooseSubtree(n,this.data,e,o);for(i.children.push(t),a(i,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},n.prototype._split=function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var s=this._chooseSplitIndex(r,o,n),a=d(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,i(r,this.toBBox),i(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(r,a)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,r){for(var n,o,i,a,u,l,c,p=1/0,f=1/0,d=e;d<=r-e;d++){var y=s(t,0,d,this.toBBox),g=s(t,d,r,this.toBBox),m=(o=y,i=g,a=void 0,u=void 0,l=void 0,c=void 0,a=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),c=Math.min(o.maxY,i.maxY),Math.max(0,l-a)*Math.max(0,c-u)),v=h(y)+h(g);m<p?(p=m,n=d,f=v<f?v:f):m===p&&v<f&&(f=v,n=d)}return n||r-e},n.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var o=this.toBBox,i=s(t,0,e,o),u=s(t,r-e,r,o),l=c(i)+c(u),h=e;h<r-e;h++){var p=t.children[h];a(i,t.leaf?o(p):p),l+=c(i)}for(var f=r-e-1;f>=e;f--){var d=t.children[f];a(u,t.leaf?o(d):d),l+=c(u)}return l},n.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},n}()},8229:function(t,e,r){"use strict";r.d(e,{Wy:function(){return B},GI:function(){return ct},ZP:function(){return se}});var n=r(1852),o=r(9496),i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},a=function(t,e,r){return Object.keys(t).reduce((function(n,o){var i=e[o];if(i){var s=function(t){i(r,t)};r.on(t[o],s),n[o]=s}return n}),{})},u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=o.createContext(void 0);function h(t){return function(e){return o.createElement(l.Consumer,null,(function(r){return o.createElement(t,u({map:r},e))}))}}var c=r(7995),p=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=r(8305),y=[11],g="flyTo",m=[-.2416815,51.5285582],v=function(t){var e,r=t.accessToken,u=t.apiUrl,h=t.minZoom,v=void 0===h?0:h,b=t.maxZoom,x=void 0===b?20:b,w=t.hash,_=void 0!==w&&w,E=t.preserveDrawingBuffer,M=void 0!==E&&E,S=t.scrollZoom,P=void 0===S||S,O=t.interactive,k=void 0===O||O,C=t.dragRotate,A=void 0===C||C,j=t.pitchWithRotate,I=void 0===j||j,R=t.attributionControl,L=void 0===R||R,F=t.customAttribution,B=t.logoPosition,N=void 0===B?"bottom-left":B,D=t.renderWorldCopies,z=void 0===D||D,T=t.trackResize,U=void 0===T||T,Y=t.touchZoomRotate,X=void 0===Y||Y,Z=t.doubleClickZoom,q=void 0===Z||Z,G=t.keyboard,W=void 0===G||G,J=t.dragPan,$=void 0===J||J,V=t.boxZoom,Q=void 0===V||V,H=t.refreshExpiredTiles,K=void 0===H||H,tt=t.failIfMajorPerformanceCaveat,et=void 0!==tt&&tt,rt=t.bearingSnap,nt=void 0===rt?7:rt,ot=t.antialias,it=void 0!==ot&&ot,st=t.mapInstance,at=t.transformRequest;return(e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={map:st,ready:!1},e.listeners={},e._isMounted=!0,e.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},e.setRef=function(t){e.container=t},e}return p(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,o=e.style,i=e.onStyleLoad,l=e.center,h=e.pitch,c=e.zoom,p=e.fitBounds,f=e.fitBoundsOptions,d=e.bearing,y=e.maxBounds;if(n.accessToken=r,u&&(n.config.API_URL=u),!Array.isArray(c))throw new Error("zoom need to be an array type of length 1 for reliable update");var g={preserveDrawingBuffer:M,hash:_,zoom:c[0],minZoom:v,maxZoom:x,maxBounds:y,container:this.container,center:p&&l===m?this.calcCenter(p):l,style:o,scrollZoom:P,attributionControl:L,customAttribution:F,interactive:k,dragRotate:A,pitchWithRotate:I,renderWorldCopies:z,trackResize:U,touchZoomRotate:X,doubleClickZoom:q,keyboard:W,dragPan:$,boxZoom:Q,refreshExpiredTiles:K,logoPosition:N,bearingSnap:nt,failIfMajorPerformanceCaveat:et,antialias:it,transformRequest:at};if(d){if(!Array.isArray(d))throw new Error("bearing need to be an array type of length 1 for reliable update");g.bearing=d[0]}if(h){if(!Array.isArray(h))throw new Error("pitch need to be an array type of length 1 for reliable update");g.pitch=h[0]}var b=this.state.map;b||(b=new n.Map(g),this.setState({map:b})),p&&b.fitBounds(p,f,{fitboundUpdate:!0}),b.on("load",(function(e){t._isMounted&&t.setState({ready:!0}),i&&i(b,e)})),this.listeners=a(s,this.props,b)},e.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},e.prototype.componentDidUpdate=function(t){var e=this,r=this.state.map;if(!r)return null;this.listeners=function(t,e,r){Object.keys(s).filter((function(r){return t[r]&&"function"!==typeof e[r]})).forEach((function(e){r.off(s[e],t[e]),delete t[e]}));var n=Object.keys(s).filter((function(r){return!t[r]&&"function"===typeof e[r]})).reduce((function(t,e){return t[e]=s[e],t}),{}),o=a(n,e,r);return i({},t,o)}(this.listeners,this.props,r);var n=r.getCenter(),o=r.getZoom(),u=r.getBearing(),l=r.getPitch(),h=t.zoom!==this.props.zoom&&(this.props.zoom&&this.props.zoom[0])!==o,c=t.center!==this.props.center&&((this.props.center&&this.props.center[0])!==n.lng||(this.props.center&&this.props.center[1])!==n.lat),p=t.bearing!==this.props.bearing&&(this.props.bearing&&this.props.bearing[0])!==u,y=t.pitch!==this.props.pitch&&(this.props.pitch&&this.props.pitch[0])!==l;this.props.maxBounds&&(t.maxBounds!==this.props.maxBounds&&r.setMaxBounds(this.props.maxBounds));if(this.props.fitBounds){var m=t.fitBounds;!(m!==this.props.fitBounds||this.props.fitBounds.length!==(m&&m.length)||!!m.filter((function(t,r){var n=e.props.fitBounds&&e.props.fitBounds[r];return t[0]!==(n&&n[0])||t[1]!==(n&&n[1])}))[0])&&d(t.fitBoundsOptions,this.props.fitBoundsOptions)||r.fitBounds(this.props.fitBounds,this.props.fitBoundsOptions,{fitboundUpdate:!0})}if(h||c||p||y){var v=this.props.movingMethod||g,b=this.props,x=b.flyToOptions,w=b.animationOptions;r[v](f({},w,x,{zoom:h&&this.props.zoom?this.props.zoom[0]:o,center:c?this.props.center:n,bearing:p?this.props.bearing:u,pitch:y?this.props.pitch:l}))}return d(t.style,this.props.style)||r.setStyle(this.props.style),null},e.prototype.render=function(){var t=this.props,e=t.containerStyle,r=t.className,n=t.children,i=t.renderChildrenInPortal,s=this.state,a=s.ready,u=s.map;if(i){var h=a&&u&&"function"===typeof u.getCanvasContainer?u.getCanvasContainer():void 0;return o.createElement(l.Provider,{value:u},o.createElement("div",{ref:this.setRef,className:r,style:f({},e)},a&&h&&(0,c.createPortal)(n,h)))}return o.createElement(l.Provider,{value:u},o.createElement("div",{ref:this.setRef,className:r,style:f({},e)},a&&n))},e}(o.Component)).defaultProps={onStyleLoad:function(t,e){return null},center:m,zoom:y,bearing:0,movingMethod:g,pitch:0,containerStyle:{textAlign:"left"}},e},b=function(t,e){var r={};return Array.from(new Set(Object.keys(t).concat(Object.keys(e)))).map((function(n){t[n]!==e[n]&&(r[n]=e[n])})),r},x=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(){return(w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=r(8305),E={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.source=w({type:"geojson"},e.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),e.geometry=function(t){switch(e.props.type){case"symbol":case"circle":return{type:"Point",coordinates:t};case"fill":return Array.isArray(t[0][0][0])?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t};default:return{type:"Point",coordinates:t}}},e.makeFeature=function(t,r){return{type:"Feature",geometry:e.geometry(t.coordinates),properties:w({},t.properties,{id:r})}},e.initialize=function(){var t=e.props,r=t.type,n=t.layout,o=t.paint,i=t.sourceId,s=t.before,a=t.images,u=t.id,l=t.metadata,h=t.sourceLayer,c=t.minZoom,p=t.maxZoom,f=t.filter,d=e.props.map,y={id:u,source:i||u,type:r,layout:n,paint:o,metadata:l};(h&&(y["source-layer"]=h),c&&(y.minzoom=c),p&&(y.maxzoom=p),f&&(y.filter=f),a)&&(Array.isArray(a[0])?a:[a]).filter((function(t){return!d.hasImage(t[0])})).forEach((function(t){d.addImage(t[0],t[1],t[2])}));i||d.getSource(u)||d.addSource(u,e.source),d.getLayer(u)||d.addLayer(y,s),Object.entries(E).forEach((function(t){var r=t[0],n=t[1],o=e.props[n];o&&d.on(r,u,o)}))},e.onStyleDataChange=function(){e.props.map.getLayer(e.props.id)||(e.initialize(),e.forceUpdate())},e.getChildren=function(){var t=e.props.children;return t?Array.isArray(t)?t.reduce((function(t,e){return t.concat(e)}),[]):[t]:[]},e}return x(e,t),e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this,e=this.props.map,r=this.props,n=r.images,o=r.id;e&&e.getStyle()&&(e.off("styledata",this.onStyleDataChange),Object.entries(E).forEach((function(r){var n=r[0],i=r[1],s=t.props[i];s&&e.off(n,o,s)})),e.getLayer(o)&&e.removeLayer(o),this.props.sourceId||e.removeSource(o),n&&(Array.isArray(n[0])?n:[n]).map((function(t){var e=t[0];t.slice(1);return e})).forEach(e.removeImage.bind(e)))},e.prototype.componentDidUpdate=function(t){var e=this,r=t.paint,n=t.layout,o=t.before,i=t.filter,s=t.id,a=t.minZoom,u=t.maxZoom,l=t.map;if(!_(this.props.paint,r)){var h=b(r,this.props.paint);Object.keys(h).forEach((function(t){l.setPaintProperty(s,t,h[t])}))}if(!_(this.props.layout,n)){var c=b(n,this.props.layout);Object.keys(c).forEach((function(t){l.setLayoutProperty(s,t,c[t])}))}_(this.props.filter,i)||l.setFilter(s,this.props.filter),o!==this.props.before&&l.moveLayer(s,this.props.before),a===this.props.minZoom&&u===this.props.maxZoom||l.setLayerZoomRange(s,this.props.minZoom,this.props.maxZoom),Object.entries(E).forEach((function(r){var n=r[0],o=r[1],i=t[o],a=e.props[o];i!==a&&(i&&l.off(n,s,i),a&&l.on(n,s,a))}))},e.prototype.render=function(){var t=this,e=this.props.map,r=this.props,n=r.sourceId,o=r.draggedChildren,i=this.getChildren();if(o){var s=o.map((function(t){return t.key}));i=i.map((function(t){var e=s.indexOf(t.key);return-1!==e?o[e]:t}))}var a=i.map((function(e,r){var n=e.props;return t.makeFeature(n,r)})).filter(Boolean),u=e.getSource(n||this.props.id);return u&&!n&&u.setData&&u.setData({type:"FeatureCollection",features:a}),null},e.defaultProps={type:"symbol",layout:{},paint:{}},e}(o.Component),S=0,P=function(){return S+=1},O=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=function(){return(k=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var C=function(t){return function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.hover=[],t.draggedChildren=void 0,t.id=t.props.id||"layer-"+P(),t.getChildren=function(){return[].concat(t.props.children).filter((function(t){return"undefined"!==typeof t}))},t.getChildFromId=function(t,e){return t[e]},t.areFeaturesDraggable=function(e,r){return void 0===r&&(r=t.hover),!!r.map((function(r){return!!t.getChildFromId(e,r)&&t.getChildFromId(e,r).props.draggable})).filter(Boolean).length},t.onClick=function(e){var r=e.features,n=t.getChildren(),o=t.props.map;r&&r.forEach((function(r){var i=r.properties.id;if(n){var s=t.getChildFromId(n,i),a=s&&s.props.onClick;a&&a(k({},e,{feature:r,map:o}))}}))},t.onMouseEnter=function(e){var r=t.getChildren(),n=t.props.map;t.hover=[],e.features.forEach((function(o){var i=o.properties.id,s=t.getChildFromId(r,i);t.hover.push(i);var a=s&&s.props.onMouseEnter;a&&a(k({},e,{feature:o,map:n}))})),t.areFeaturesDraggable(r)&&n.dragPan.disable()},t.onMouseLeave=function(e){var r=t.getChildren(),n=t.props.map;t.areFeaturesDraggable(r)&&n.dragPan.enable(),t.hover.forEach((function(o){var i=t.getChildFromId(r,o),s=i&&i.props.onMouseLeave;s&&s(k({},e,{map:n}))})),t.draggedChildren||(t.hover=[])},t.onMouseDown=function(){t.hover.length&&t.onFeatureDown("mousedown")},t.onTouchStart=function(e){t.hover=e.features.map((function(t){return t.properties.id})),t.hover.length&&t.onFeatureDown("touchstart")},t.onFeatureDown=function(e){var r="mousedown"===e?"mousemove":"touchmove",n="mousedown"===e?"mouseup":"touchend",o=t.props.map;o.once(r,t.onFeatureDragStart),o.on(r,t.onFeatureDrag),o.once(n,(function(e){o.off(r,t.onFeatureDragStart),o.off(r,t.onFeatureDrag),t.onFeatureDragEnd(e)}))},t.onFeatureDragStart=function(e){var r=t.props.map,n=t.getChildren();t.hover.forEach((function(o){var i=t.getChildFromId(n,o);if(!i||i.props.draggable){var s=i&&i.props.onDragStart;s&&s(k({},e,{map:r}))}}))},t.onFeatureDrag=function(e){var r=t.getChildren(),n=t.props.map,i=e.lngLat,s=i.lng,a=i.lat;t.draggedChildren=[],t.hover.forEach((function(i){var u=t.getChildFromId(r,i),l=u&&u.props.onDrag;u&&u.props.draggable&&(t.draggedChildren.push(o.cloneElement(u,{coordinates:[s,a]})),l&&l(k({},e,{map:n})))})),t.forceUpdate()},t.onFeatureDragEnd=function(e){var r=t.props.map,n=t.getChildren();t.hover.forEach((function(o){var i=t.getChildFromId(n,o),s=i&&i.props.onDragEnd;s&&i.props.draggable&&t.draggedChildren&&s(k({},e,{map:r}))})),t.draggedChildren=void 0},t}return O(r,e),r.prototype.componentDidMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},r.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},r.prototype.render=function(){return o.createElement(t,k({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},r}(o.Component)},A=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(){return(j=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=r(8305),R=["symbol","line","fill","fill-extrusion","circle"],L=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/[\s+]|-/g,"")},F={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"},B=h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id||"geojson-"+P(),e.source=j({type:"geojson"},e.props.sourceOptions,{data:e.props.data}),e.layerIds=[],e.buildLayerId=function(t){return e.id+"-"+t},e.createLayer=function(t){var r=e.props,n=r.before,o=r.layerOptions,i=r.map,s=e.buildLayerId(t);e.layerIds.push(s);var a=e.props[L(t)+"Paint"]||{},u=Object.keys(a).length?"visible":"none",l=e.props[L(t)+"Layout"]||{visibility:u},h=j({id:s,source:e.id,type:t,paint:a,layout:l},o);i.addLayer(h,n),e.mapLayerMouseHandlers(t)},e.mapLayerMouseHandlers=function(t){var r=e.props.map,n=e.buildLayerId(t);Object.keys(F).forEach((function(o){var i=e.props[""+L(t)+F[o]]||null;i&&r.on(o,n,i)}))},e.onStyleDataChange=function(){e.props.map.getSource(e.id)||(e.unbind(),e.initialize(),e.forceUpdate())},e.isGeoJSONSource=function(t){return!!t&&"function"===typeof t.setData},e}return A(e,t),e.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},e.prototype.unbind=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var r=e.getStyle().layers;r&&r.filter((function(e){return e.source===t.id})).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id)}R.forEach((function(r){Object.keys(F).forEach((function(n){var o=L(r)+F[n];t.props[o]&&e.off(n,t.buildLayerId(r),t.props[o])}))})),this.layerIds.forEach((function(t){e.getLayer(t)&&e.removeLayer(t)}))},e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},e.prototype.componentDidUpdate=function(t){var e=this,r=t.data,n=t.before,o=t.layerOptions,i=t.map,s=i.getSource(this.id);if(this.isGeoJSONSource(s)){this.props.data!==r&&(s.setData(this.props.data),this.source=j({type:"geojson"},this.props.sourceOptions,{data:this.props.data}));var a=this.props.layerOptions&&o&&!I(this.props.layerOptions.filter,o.filter);R.forEach((function(r){var o=e.buildLayerId(r);e.props.layerOptions&&a&&i.setFilter(o,e.props.layerOptions.filter||[]);var s=L(r)+"Paint";if(!I(t[s],e.props[s])){var u=b(t[s],e.props[s]);Object.keys(u).forEach((function(t){i.setPaintProperty(o,t,u[t])}))}var l=L(r)+"Layout";if(!I(t[l],e.props[l])){var h=b(t[l],e.props[l]);Object.keys(h).forEach((function(t){i.setLayoutProperty(o,t,h[t])}))}Object.keys(F).forEach((function(n){var s=L(r)+F[n];t[s]!==e.props[s]&&(t[s]&&i.off(n,o,t[s]),e.props[s]&&i.on(n,o,e.props[s]))})),n!==e.props.before&&i.moveLayer(o,e.props.before)}))}},e.prototype.render=function(){return null},e}(o.Component)),N=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}N(e,t),e.prototype.render=function(){return null}}(o.Component),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),z=function(){return(z=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},T={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},U={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},Y={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},X={backgroundColor:"#fff",opacity:1},Z={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},q={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},G=[0,1],W=G[0],J=G[1],$=Object.keys(U),V=(h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.onMouseOut=function(){e.setState({hover:void 0})},e.plusOver=function(){W!==e.state.hover&&e.setState({hover:W})},e.minusOver=function(){J!==e.state.hover&&e.setState({hover:J})},e.onClickPlus=function(){e.props.onControlClick(e.props.map,e.props.zoomDiff)},e.onClickMinus=function(){e.props.onControlClick(e.props.map,-e.props.zoomDiff)},e}return D(e,t),e.prototype.render=function(){var t=this.props,e=t.position,r=t.style,n=t.className,i=t.tabIndex,s=this.state.hover,a=z({},Y,Z,s===W?X:{}),u=z({},Y,q,s===J?X:{});return o.createElement("div",{className:n,tabIndex:i,style:z({},T,U[e],r)},o.createElement("button",{id:"zoomIn",type:"button",style:a,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),o.createElement("button",{id:"zoomOut",type:"button",style:u,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},e.defaultProps={position:$[0],zoomDiff:.5,onControlClick:function(t,e){t.zoomTo(t.getZoom()+e)}},e}(o.Component)),["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]),Q={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"},H={offsetWidth:0,offsetHeight:0},K=[0,0],tt=function(t){if(!t)return tt(new n.Point(0,0));if("number"===typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new n.Point(t,t),top:new n.Point(0,t),bottom:new n.Point(0,-t),left:new n.Point(t,0),right:new n.Point(-t,0),"top-left":new n.Point(e,e),"top-right":new n.Point(-e,e),"bottom-left":new n.Point(e,-e),"bottom-right":new n.Point(-e,-e)}}return t instanceof n.Point||Array.isArray(t)?V.reduce((function(e,r){return e[r]=n.Point.convert(t),e}),{}):V.reduce((function(e,r){return e[r]=n.Point.convert(t[r]||K),e}),{})},et=function(t,e,r){var o=function(t,e){return t.project(n.LngLat.convert(e))}(e,t.coordinates),i=tt(t.offset),s=t.anchor||function(t,e,r,n){var o=void 0===n?H:n,i=o.offsetHeight,s=o.offsetWidth,a=[];return r.y+e.bottom.y-i<0?a=[V[1]]:r.y+e.top.y+i>t.transform.height&&(a=[V[2]]),r.x<s/2?a.push(V[3]):r.x>t.transform.width-s/2&&a.push(V[4]),0===a.length?V[2]:a.join("-")}(e,i,o,r);return{anchor:s,position:o,offset:i[s]}},rt=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""},nt=function(t){var e=t.anchor,r=t.position,n=t.offset,o=[];return r&&o.push(rt(r)),n&&void 0!==n.x&&void 0!==n.y&&o.push(rt(n)),e&&o.push(Q[e]),o},ot=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(){return(it=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},st={zIndex:3},at=h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=void 0,e.prevent=!1,e.state={},e.setContainer=function(t){t&&(e.container=t)},e.handleMapMove=function(){e.prevent||e.setState(et(e.props,e.props.map,e.container))},e}return ot(e,t),e.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},e.prototype.havePropsChanged=function(t,e){return t.coordinates[0]!==e.coordinates[0]||t.coordinates[1]!==e.coordinates[1]||t.offset!==e.offset||t.anchor!==e.anchor},e.prototype.componentDidUpdate=function(t){this.havePropsChanged(this.props,t)&&this.setState(et(this.props,this.props.map,this.container))},e.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},e.prototype.render=function(){var t=this.props,e=t.style,r=t.children,n=t.className,i=t.onClick,s=t.onDoubleClick,a=t.onMouseEnter,u=t.onMouseLeave,l=t.onScroll,h=t.onWheel,c=t.type,p=t.tabIndex,f=this.state.anchor,d=it({},st,e,{transform:nt(this.state).join(" ")}),y=f&&"popup"===c?"mapboxgl-popup-anchor-"+f:"";return o.createElement("div",{className:n+" "+y,onClick:i,onDoubleClick:s,onMouseEnter:a,onMouseLeave:u,onScroll:l,onWheel:h,style:d,ref:this.setContainer,tabIndex:p},r)},e.defaultProps={offset:0,onClick:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},e}(o.Component)),ut=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(){return(lt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ht=["mapboxgl-popup"],ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.render=function(){var t=this.props,e=t.children,r=t.className,n=lt({},this.props,{children:void 0}),i=function(t,e){return e?e.split(" ").concat(t).join(" "):t.join(" ")}(ht,r);return o.createElement(at,lt({},n,{type:"popup",className:i}),o.createElement("div",{className:"mapboxgl-popup-tip"}),o.createElement("div",{className:"mapboxgl-popup-content"},e))},e}(o.Component),pt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ft=function(){return(ft=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dt=["moveend","touchend","zoomend"],yt=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],gt={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},mt={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},vt={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},bt=Object.keys(gt),xt=["km","mi"],wt=(h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={chosenScale:0,scaleWidth:60},e.setScale=function(){var t=e.props,r=t.measurement,n=t.map,o=n._canvas.clientWidth,i=n.getBounds(),s=i._ne,a=i._sw,u=e._getDistanceTwoPoints([a.lng,s.lat],[s.lng,s.lat],r),l=u/o*60,h=yt.reduce((function(t,e){return!t&&e>l?e:t}),0),c=h/u*o;e.setState({chosenScale:h,scaleWidth:c})},e}return pt(e,t),e.prototype.componentDidMount=function(){var t=this;this.setScale(),dt.forEach((function(e){t.props.map.on(e,t.setScale)}))},e.prototype.componentWillUnmount=function(){var t=this;this.props.map&&dt.forEach((function(e){t.props.map.off(e,t.setScale)}))},e.prototype._getDistanceTwoPoints=function(t,e,r){void 0===r&&(r="km");var n=t[0],o=t[1],i=e[0],s=e[1],a="km"===r?6371:6371/1.60934,u=this._deg2rad(s-o),l=this._deg2rad(i-n),h=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this._deg2rad(o))*Math.cos(this._deg2rad(s))*Math.sin(l/2)*Math.sin(l/2);return a*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},e.prototype._deg2rad=function(t){return t*(Math.PI/180)},e.prototype._displayMeasurement=function(t,e){return e>=1?e+" "+t:"mi"===t?Math.floor(5280*e)+" ft":Math.floor(1e3*e)+" m"},e.prototype.render=function(){var t=this.props,e=t.measurement,r=t.style,n=t.position,i=t.className,s=t.tabIndex,a=this.state,u=a.chosenScale,l=a.scaleWidth;return o.createElement("div",{tabIndex:s,style:ft({},mt,gt[n],r),className:i},o.createElement("div",{style:ft({},vt,{width:l})}),o.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(e,u)))},e.defaultProps={measurement:xt[0],position:bt[2]},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),_t=function(){return(_t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id,e.onStyleDataChange=function(){e.props.map.getLayer(e.id)||(e.initialize(),e.forceUpdate())},e.initialize=function(){var t=e.props.map,r=e.props,n=r.geoJsonSource,o=r.tileJsonSource,i=r.onSourceAdded;t.getSource(e.id)||!n&&!o||(n?t.addSource(e.id,n):o&&t.addSource(e.id,o),t.on("sourcedata",e.onData),i&&i(t.getSource(e.id)))},e.onData=function(){var t=e.props.map,r=t.getSource(e.props.id);if(r&&t.isSourceLoaded(e.props.id)){var n=e.props.onSourceLoaded;r&&n&&n(r),r&&e.props.geoJsonSource&&e.props.geoJsonSource.data&&r.setData(e.props.geoJsonSource.data),t.off("sourcedata",e.onData)}},e}return wt(e,t),e.prototype.componentDidMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},e.prototype.removeSource=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var r=e.getStyle().layers,n=void 0===r?[]:r;return(n=n.map((function(t,e){var r=(n[e+1]||{id:void 0}).id;return _t({},t,{before:r})})).filter((function(e){return e.source===t.id}))).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id),n.reverse()}return[]},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},e.prototype.componentDidUpdate=function(t){var e=t.geoJsonSource,r=t.tileJsonSource,n=t.map,o=n.getSource(this.id);if(r&&this.props.tileJsonSource){var i=!1,s=!1;if(o&&"vector"===o.type)r.url!==this.props.tileJsonSource.url&&void 0!==this.props.tileJsonSource.url&&(o.setUrl(this.props.tileJsonSource.url),i=!0),r.tiles!==this.props.tileJsonSource.tiles&&void 0!==this.props.tileJsonSource.tiles&&(o.setTiles(this.props.tileJsonSource.tiles),s=!0);if(!i&&r.url!==this.props.tileJsonSource.url||!s&&r.tiles!==this.props.tileJsonSource.tiles||r.minzoom!==this.props.tileJsonSource.minzoom||r.maxzoom!==this.props.tileJsonSource.maxzoom){var a=this.removeSource();n.addSource(this.id,this.props.tileJsonSource),a.forEach((function(t){return n.addLayer(t,t.before)}))}}e&&this.props.geoJsonSource&&this.props.geoJsonSource.data!==e.data&&this.props.geoJsonSource.data&&o&&"geojson"===o.type&&o.setData(this.props.geoJsonSource.data)},e.prototype.render=function(){return null},e}(o.Component));function Et(t,e,r,n,o,i){if(o-n<=r)return;const s=n+o>>1;Mt(t,e,s,n,o,i%2),Et(t,e,r,n,s-1,i+1),Et(t,e,r,s+1,o,i+1)}function Mt(t,e,r,n,o,i){for(;o>n;){if(o-n>600){const s=o-n+1,a=r-n+1,u=Math.log(s),l=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);Mt(t,e,r,Math.max(n,Math.floor(r-a*l/s+h)),Math.min(o,Math.floor(r+(s-a)*l/s+h)),i)}const s=e[2*r+i];let a=n,u=o;for(St(t,e,n,r),e[2*o+i]>s&&St(t,e,n,o);a<u;){for(St(t,e,a,u),a++,u--;e[2*a+i]<s;)a++;for(;e[2*u+i]>s;)u--}e[2*n+i]===s?St(t,e,n,u):(u++,St(t,e,u,o)),u<=r&&(n=u+1),r<=u&&(o=u-1)}}function St(t,e,r,n){Pt(t,r,n),Pt(e,2*r,2*n),Pt(e,2*r+1,2*n+1)}function Pt(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ot(t,e,r,n){const o=t-r,i=e-n;return o*o+i*i}const kt=t=>t[0],Ct=t=>t[1];class At{constructor(t,e=kt,r=Ct,n=64,o=Float64Array){this.nodeSize=n,this.points=t;const i=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new i(t.length),a=this.coords=new o(2*t.length);for(let u=0;u<t.length;u++)s[u]=u,a[2*u]=e(t[u]),a[2*u+1]=r(t[u]);Et(s,a,n,0,s.length-1,0)}range(t,e,r,n){return function(t,e,r,n,o,i,s){const a=[0,t.length-1,0],u=[];let l,h;for(;a.length;){const c=a.pop(),p=a.pop(),f=a.pop();if(p-f<=s){for(let s=f;s<=p;s++)l=e[2*s],h=e[2*s+1],l>=r&&l<=o&&h>=n&&h<=i&&u.push(t[s]);continue}const d=Math.floor((f+p)/2);l=e[2*d],h=e[2*d+1],l>=r&&l<=o&&h>=n&&h<=i&&u.push(t[d]);const y=(c+1)%2;(0===c?r<=l:n<=h)&&(a.push(f),a.push(d-1),a.push(y)),(0===c?o>=l:i>=h)&&(a.push(d+1),a.push(p),a.push(y))}return u}(this.ids,this.coords,t,e,r,n,this.nodeSize)}within(t,e,r){return function(t,e,r,n,o,i){const s=[0,t.length-1,0],a=[],u=o*o;for(;s.length;){const l=s.pop(),h=s.pop(),c=s.pop();if(h-c<=i){for(let o=c;o<=h;o++)Ot(e[2*o],e[2*o+1],r,n)<=u&&a.push(t[o]);continue}const p=Math.floor((c+h)/2),f=e[2*p],d=e[2*p+1];Ot(f,d,r,n)<=u&&a.push(t[p]);const y=(l+1)%2;(0===l?r-o<=f:n-o<=d)&&(s.push(c),s.push(p-1),s.push(y)),(0===l?r+o>=f:n+o>=d)&&(s.push(p+1),s.push(h),s.push(y))}return a}(this.ids,this.coords,t,e,r,this.nodeSize)}}const jt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},It=Math.fround||(Rt=new Float32Array(1),t=>(Rt[0]=+t,Rt[0]));var Rt;class Lt{constructor(t){this.options=Yt(Object.create(jt),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:r,maxZoom:n,nodeSize:o}=this.options;e&&console.time("total time");const i=`prepare ${t.length} points`;e&&console.time(i),this.points=t;let s=[];for(let a=0;a<t.length;a++)t[a].geometry&&s.push(Bt(t[a],a));this.trees[n+1]=new At(s,Xt,Zt,o,Float32Array),e&&console.timeEnd(i);for(let a=n;a>=r;a--){const t=+Date.now();s=this._cluster(s,a),this.trees[a]=new At(s,Xt,Zt,o,Float32Array),e&&console.log("z%d: %d clusters in %dms",a,s.length,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,i],e),s=this.getClusters([-180,n,o,i],e);return t.concat(s)}const s=this.trees[this._limitZoom(e)],a=s.range(zt(r),Tt(i),zt(o),Tt(n)),u=[];for(const l of a){const t=s.points[l];u.push(t.numPoints?Nt(t):this.points[t.index])}return u}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.points[e];if(!i)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=o.within(i.x,i.y,s),u=[];for(const l of a){const e=o.points[l];e.parentId===t&&u.push(e.numPoints?Nt(e):this.points[e.index])}if(0===u.length)throw new Error(n);return u}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:s}=this.options,a=s/i,u=(r-a)/o,l=(r+1+a)/o,h={features:[]};return this._addTileFeatures(n.range((e-a)/o,u,(e+1+a)/o,l),n.points,e,r,o,h),0===e&&this._addTileFeatures(n.range(1-a/o,u,1,l),n.points,o,r,o,h),e===o-1&&this._addTileFeatures(n.range(0,u,a/o,l),n.points,-1,r,o,h),h.features.length?h:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const i=this.getChildren(e);for(const s of i){const e=s.properties;if(e&&e.cluster?o+e.point_count<=n?o+=e.point_count:o=this._appendLeaves(t,e.cluster_id,r,n,o):o<n?o++:t.push(s),t.length===r)break}return o}_addTileFeatures(t,e,r,n,o,i){for(const s of t){const t=e[s],a=t.numPoints;let u,l,h;if(a)u=Dt(t),l=t.x,h=t.y;else{const e=this.points[t.index];u=e.properties,l=zt(e.geometry.coordinates[0]),h=Tt(e.geometry.coordinates[1])}const c={type:1,geometry:[[Math.round(this.options.extent*(l*o-r)),Math.round(this.options.extent*(h*o-n))]],tags:u};let p;a?p=t.id:this.options.generateId?p=t.index:this.points[t.index].id&&(p=this.points[t.index].id),void 0!==p&&(c.id=p),i.features.push(c)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const r=[],{radius:n,extent:o,reduce:i,minPoints:s}=this.options,a=n/(o*Math.pow(2,e));for(let u=0;u<t.length;u++){const n=t[u];if(n.zoom<=e)continue;n.zoom=e;const o=this.trees[e+1],l=o.within(n.x,n.y,a),h=n.numPoints||1;let c=h;for(const t of l){const r=o.points[t];r.zoom>e&&(c+=r.numPoints||1)}if(c>h&&c>=s){let t=n.x*h,s=n.y*h,a=i&&h>1?this._map(n,!0):null;const p=(u<<5)+(e+1)+this.points.length;for(const r of l){const u=o.points[r];if(u.zoom<=e)continue;u.zoom=e;const l=u.numPoints||1;t+=u.x*l,s+=u.y*l,u.parentId=p,i&&(a||(a=this._map(n,!0)),i(a,this._map(u)))}n.parentId=p,r.push(Ft(t/c,s/c,p,c,a))}else if(r.push(n),c>1)for(const t of l){const n=o.points[t];n.zoom<=e||(n.zoom=e,r.push(n))}}return r}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?Yt({},t.properties):t.properties;const r=this.points[t.index].properties,n=this.options.map(r);return e&&n===r?Yt({},n):n}}function Ft(t,e,r,n,o){return{x:It(t),y:It(e),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function Bt(t,e){const[r,n]=t.geometry.coordinates;return{x:It(zt(r)),y:It(Tt(n)),zoom:1/0,index:e,parentId:-1}}function Nt(t){return{type:"Feature",id:t.id,properties:Dt(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),Ut(t.y)]}};var e}function Dt(t){const e=t.numPoints,r=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?Math.round(e/100)/10+"k":e;return Yt(Yt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function zt(t){return t/360+.5}function Tt(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Ut(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Yt(t,e){for(const r in e)t[r]=e[r];return t}function Xt(t){return t.x}function Zt(t){return t.y}var qt=r(829),Gt=r.n(qt),Wt=r(8690),Jt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$t=(h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={superC:new Lt({radius:e.props.radius,maxZoom:e.props.maxZoom,minZoom:e.props.minZoom,extent:e.props.extent,nodeSize:e.props.nodeSize,log:e.props.log}),clusterPoints:[]},e.featureClusterMap=new WeakMap,e.childrenChange=function(t){var r=e.state.superC;e.featureClusterMap=new WeakMap;var n=e.childrenToFeatures(t);r.load(n)},e.mapChange=function(t){void 0===t&&(t=!1);var r=e.props.map,n=e.state,o=n.superC,i=n.clusterPoints,s=r.getZoom(),a=r.getCanvas(),u=a.width,l=a.height,h=r.unproject([0,0]).toArray(),c=r.unproject([u,0]).toArray(),p=r.unproject([u,l]).toArray(),f=r.unproject([0,l]).toArray(),d=o.getClusters(Gt()((0,Wt.polygon)([[h,c,p,f,h]])),Math.round(s));(d.length!==i.length||t)&&e.setState({clusterPoints:d})},e.childrenToFeatures=function(t){return t.map((function(t){var r=e.feature(t&&t.props.coordinates);return e.featureClusterMap.set(r,t),r}))},e.getLeaves=function(t,r,n){return e.state.superC.getLeaves(t.properties&&t.properties.cluster_id,r||1/0,n).map((function(t){return e.featureClusterMap.get(t)}))},e.zoomToClusterBounds=function(t){var r=Array.prototype.slice.call(t.currentTarget.children),o=e.findMarkerElement(t.currentTarget,t.target),i=r.indexOf(o),s=e.state.clusterPoints[i];if(s.properties&&s.properties.cluster_id){var a=e.state.superC.getLeaves(s.properties&&s.properties.cluster_id,1/0),u=Gt()((0,Wt.featureCollection)(a));e.props.map.fitBounds(n.LngLatBounds.convert(u),{padding:e.props.zoomOnClickPadding})}},e}return Jt(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.children,r=t.map;e&&this.childrenChange(e),r.on("move",this.mapChange),r.on("zoom",this.mapChange),this.mapChange()},e.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},e.prototype.componentDidUpdate=function(t){t.children!==this.props.children&&this.props.children&&(this.childrenChange(this.props.children),this.mapChange(!0))},e.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},e.prototype.findMarkerElement=function(t,e){return e.parentElement===t?e:this.findMarkerElement(t,e.parentElement)},e.prototype.render=function(){var t=this,e=this.props,r=e.ClusterMarkerFactory,n=e.style,i=e.className,s=e.tabIndex,a=this.state.clusterPoints;return o.createElement("div",{style:n,className:i,tabIndex:s,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},a.map((function(e){return e.properties&&e.properties.cluster?r(e.geometry.coordinates,e.properties.point_count,t.getLeaves.bind(t,e)):t.featureClusterMap.get(e)})))},e.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Vt=function(){return(Vt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qt={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},Ht={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},Kt={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},te={backgroundColor:"#fff",opacity:1},ee={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},re=function(){return o.createElement("svg",{viewBox:"0 0 20 20"},o.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),o.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},ne={width:20,height:20,display:"inline-block"},oe=Object.keys(Ht),ie=(h(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.compassIcon=null,e.onMouseOut=function(){e.state.hover||e.setState({hover:void 0})},e.onMouseIn=function(){0!==e.state.hover&&e.setState({hover:0})},e.onClickCompass=function(){e.props.map.resetNorth()},e.onMapRotate=function(){var t="rotate("+e.props.map.transform.angle*(180/Math.PI)+"deg)";e.compassIcon&&(e.compassIcon.style.transform=t)},e.assignRef=function(t){e.compassIcon=t},e}return $t(e,t),e.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},e.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},e.prototype.render=function(){var t=this.props,e=t.position,r=t.style,n=t.className,i=t.tabIndex,s=this.state.hover,a=Vt({},Kt,ee,0===s?te:{});return o.createElement("div",{className:n,tabIndex:i,style:Vt({},Qt,Ht[e],r)},o.createElement("button",{style:a,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},o.createElement("span",{ref:this.assignRef,style:ne},o.createElement(re,null))))},e.defaultProps={position:oe[0]},e}(o.Component)),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),se=(h(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ie(e,t),e.prototype.componentDidMount=function(){this.loadImage(this.props)},e.prototype.componentWillUnmount=function(){e.removeImage(this.props)},e.prototype.componentDidUpdate=function(t){var r=t.id;t.map!==this.props.map&&e.removeImage(this.props),this.props.map&&!this.props.map.hasImage(r)&&this.loadImage(this.props)},e.prototype.render=function(){return null},e.prototype.loadImage=function(t){var e=this,r=t.map,n=t.id,o=t.url,i=t.data,s=t.options,a=t.onError;i?(r.addImage(n,i,s),this.loaded()):o&&r.loadImage(o,(function(t,o){t?a&&a(t):(r.addImage(n,o,s),e.loaded())}))},e.removeImage=function(t){var e=t.id,r=t.map;r&&r.getStyle()&&r.removeImage(e)},e.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},e}(o.Component)),h(C(M)),v)},3849:function(t){"use strict";var e=Object,r=TypeError;t.exports=function(){if(null!=this&&this!==e(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},6696:function(t,e,r){"use strict";var n=r(722),o=r(2755),i=r(3849),s=r(9045),a=r(8264),u=o(i);n(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},9045:function(t,e,r){"use strict";var n=r(3849),o=r(722).supportsDescriptors,i=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"===typeof t.get&&"boolean"===typeof/a/.dotAll)return t.get}return n}},8264:function(t,e,r){"use strict";var n=r(722).supportsDescriptors,o=r(9045),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(l),r=i(e,"flags");return r&&r.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},8809:function(t,e){!function(t){"use strict";const e=134217729,r=33306690738754706e-32;function n(t,e,r,n,o){let i,s,a,u,l=e[0],h=n[0],c=0,p=0;h>l==h>-l?(i=l,l=e[++c]):(i=h,h=n[++p]);let f=0;if(c<t&&p<r)for(h>l==h>-l?(a=i-((s=l+i)-l),l=e[++c]):(a=i-((s=h+i)-h),h=n[++p]),i=s,0!==a&&(o[f++]=a);c<t&&p<r;)h>l==h>-l?(a=i-((s=i+l)-(u=s-i))+(l-u),l=e[++c]):(a=i-((s=i+h)-(u=s-i))+(h-u),h=n[++p]),i=s,0!==a&&(o[f++]=a);for(;c<t;)a=i-((s=i+l)-(u=s-i))+(l-u),l=e[++c],i=s,0!==a&&(o[f++]=a);for(;p<r;)a=i-((s=i+h)-(u=s-i))+(h-u),h=n[++p],i=s,0!==a&&(o[f++]=a);return 0===i&&0!==f||(o[f++]=i),f}function o(t){return new Float64Array(t)}const i=33306690738754716e-32,s=22204460492503146e-32,a=11093356479670487e-47,u=o(4),l=o(8),h=o(12),c=o(16),p=o(4);t.orient2d=function(t,o,f,d,y,g){const m=(o-g)*(f-y),v=(t-y)*(d-g),b=m-v;if(0===m||0===v||m>0!=v>0)return b;const x=Math.abs(m+v);return Math.abs(b)>=i*x?b:-function(t,o,i,f,d,y,g){let m,v,b,x,w,_,E,M,S,P,O,k,C,A,j,I,R,L;const F=t-d,B=i-d,N=o-y,D=f-y;w=(j=(M=F-(E=(_=e*F)-(_-F)))*(P=D-(S=(_=e*D)-(_-D)))-((A=F*D)-E*S-M*S-E*P))-(O=j-(R=(M=N-(E=(_=e*N)-(_-N)))*(P=B-(S=(_=e*B)-(_-B)))-((I=N*B)-E*S-M*S-E*P))),u[0]=j-(O+w)+(w-R),w=(C=A-((k=A+O)-(w=k-A))+(O-w))-(O=C-I),u[1]=C-(O+w)+(w-I),w=(L=k+O)-k,u[2]=k-(L-w)+(O-w),u[3]=L;let z=function(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}(4,u),T=s*g;if(z>=T||-z>=T)return z;if(m=t-(F+(w=t-F))+(w-d),b=i-(B+(w=i-B))+(w-d),v=o-(N+(w=o-N))+(w-y),x=f-(D+(w=f-D))+(w-y),0===m&&0===v&&0===b&&0===x)return z;if(T=a*g+r*Math.abs(z),(z+=F*x+D*m-(N*b+B*v))>=T||-z>=T)return z;w=(j=(M=m-(E=(_=e*m)-(_-m)))*(P=D-(S=(_=e*D)-(_-D)))-((A=m*D)-E*S-M*S-E*P))-(O=j-(R=(M=v-(E=(_=e*v)-(_-v)))*(P=B-(S=(_=e*B)-(_-B)))-((I=v*B)-E*S-M*S-E*P))),p[0]=j-(O+w)+(w-R),w=(C=A-((k=A+O)-(w=k-A))+(O-w))-(O=C-I),p[1]=C-(O+w)+(w-I),w=(L=k+O)-k,p[2]=k-(L-w)+(O-w),p[3]=L;const U=n(4,u,4,p,l);w=(j=(M=F-(E=(_=e*F)-(_-F)))*(P=x-(S=(_=e*x)-(_-x)))-((A=F*x)-E*S-M*S-E*P))-(O=j-(R=(M=N-(E=(_=e*N)-(_-N)))*(P=b-(S=(_=e*b)-(_-b)))-((I=N*b)-E*S-M*S-E*P))),p[0]=j-(O+w)+(w-R),w=(C=A-((k=A+O)-(w=k-A))+(O-w))-(O=C-I),p[1]=C-(O+w)+(w-I),w=(L=k+O)-k,p[2]=k-(L-w)+(O-w),p[3]=L;const Y=n(U,l,4,p,h);w=(j=(M=m-(E=(_=e*m)-(_-m)))*(P=x-(S=(_=e*x)-(_-x)))-((A=m*x)-E*S-M*S-E*P))-(O=j-(R=(M=v-(E=(_=e*v)-(_-v)))*(P=b-(S=(_=e*b)-(_-b)))-((I=v*b)-E*S-M*S-E*P))),p[0]=j-(O+w)+(w-R),w=(C=A-((k=A+O)-(w=k-A))+(O-w))-(O=C-I),p[1]=C-(O+w)+(w-I),w=(L=k+O)-k,p[2]=k-(L-w)+(O-w),p[3]=L;const X=n(Y,h,4,p,c);return c[X-1]}(t,o,f,d,y,g,x)},t.orient2dfast=function(t,e,r,n,o,i){return(e-i)*(r-o)-(t-o)*(n-i)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},6620:function(t){"use strict";t.exports={eudist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++){var s=(t[i]||0)-(e[i]||0);o+=s*s}return r?Math.sqrt(o):o},mandist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++)o+=Math.abs((t[i]||0)-(e[i]||0));return r?Math.sqrt(o):o},dist:function(t,e,r){var n=Math.abs(t-e);return r?n:n*n}}},8599:function(t,e,r){"use strict";var n=r(6620),o=n.eudist,i=n.dist;t.exports={kmrand:function(t,e){for(var r={},n=[],o=e<<2,i=t.length,s=t[0].length>0;n.length<e&&o-- >0;){var a=t[Math.floor(Math.random()*i)],u=s?a.join("_"):""+a;r[u]||(r[u]=!0,n.push(a))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e){var r=t[0].length?o:i,n=[],s=t.length,a=t[0].length>0,u=t[Math.floor(Math.random()*s)];a&&u.join("_");for(n.push(u);n.length<e;){for(var l=[],h=n.length,c=0,p=[],f=0;f<s;f++){for(var d=1/0,y=0;y<h;y++){var g=r(t[f],n[y]);g<=d&&(d=g)}l[f]=d}for(var m=0;m<s;m++)c+=l[m];for(var v=0;v<s;v++)p[v]={i:v,v:t[v],pr:l[v]/c,cs:0};p.sort((function(t,e){return t.pr-e.pr})),p[0].cs=p[0].pr;for(var b=1;b<s;b++)p[b].cs=p[b-1].cs+p[b].pr;for(var x=Math.random(),w=0;w<s-1&&p[w++].cs<x;);n.push(p[w-1].v)}return n}}},2673:function(t,e,r){"use strict";var n=r(6620),o=r(8599),i=n.eudist,s=(n.mandist,n.dist,o.kmrand),a=o.kmpp;function u(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}t.exports=function(t,e,r,n){var o=[],l=[],h=[],c=[],p=!1,f=n||1e4,d=t.length,y=t[0].length,g=y>0,m=[];if(r)o="kmrand"==r?s(t,e):"kmpp"==r?a(t,e):r;else for(var v={};o.length<e;){var b=Math.floor(Math.random()*d);v[b]||(v[b]=!0,o.push(t[b]))}do{u(e,0,m);for(var x=0;x<d;x++){for(var w=1/0,_=0,E=0;E<e;E++){(c=g?i(t[x],o[E]):Math.abs(t[x]-o[E]))<=w&&(w=c,_=E)}h[x]=_,m[_]++}for(var M=[],S=(l=[],0);S<e;S++)M[S]=g?u(y,0,M[S]):0,l[S]=o[S];if(g){for(var P=0;P<e;P++)o[P]=[];for(var O=0;O<d;O++)for(var k=M[h[O]],C=t[O],A=0;A<y;A++)k[A]+=C[A];p=!0;for(var j=0;j<e;j++){for(var I=o[j],R=M[j],L=l[j],F=m[j],B=0;B<y;B++)I[B]=R[B]/F||0;if(p)for(var N=0;N<y;N++)if(L[N]!=I[N]){p=!1;break}}}else{for(var D=0;D<d;D++){M[h[D]]+=t[D]}for(var z=0;z<e;z++)o[z]=M[z]/m[z]||0;p=!0;for(var T=0;T<e;T++)if(l[T]!=o[T]){p=!1;break}}p=p||--f<=0}while(!p);return{it:1e4-f,k:e,idxs:h,centroids:o}}},7235:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return n}});class n{constructor(t=[],e=o){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const o=t-1>>1,i=e[o];if(r(n,i)>=0)break;e[t]=i,t=o}e[t]=n}_down(t){const{data:e,compare:r}=this,n=this.length>>1,o=e[t];for(;t<n;){let n=1+(t<<1),i=e[n];const s=n+1;if(s<this.length&&r(e[s],i)<0&&(n=s,i=e[s]),r(i,o)>=0)break;e[t]=i,t=n}e[t]=o}}function o(t,e){return t<e?-1:t>e?1:0}},9065:function(t,e,r){"use strict";r.d(e,{zL:function(){return i},xm:function(){return s},yu:function(){return a},Tu:function(){return u},ot:function(){return l},DL:function(){return h},Ht:function(){return c}});var n=6371008.8,o={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*n,kilometers:6371.0088,kilometres:6371.0088,meters:n,metres:n,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:n/1852,radians:1,yards:6967335.223679999};function i(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function s(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:t},e,r)}function a(t,e,r){void 0===r&&(r={});for(var n=0,o=t;n<o.length;n++){var s=o[n];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e,r)}function u(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),i({type:"MultiPoint",coordinates:t},e,r)}function h(t,e){void 0===e&&(e="kilometers");var r=o[e];if(!r)throw new Error(e+" units is invalid");return t*r}function c(t){return t%360*Math.PI/180}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}},2247:function(t,e,r){"use strict";r.d(e,{c9:function(){return n},nK:function(){return o},wA:function(){return i}});r(9065);function n(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function o(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function i(t){return"Feature"===t.type?t.geometry:t}},1825:function(t,e,r){"use strict";r.d(e,{VWR:function(){return u}});var n=r(9065);function o(t,e,r){if(null!==t)for(var n,i,s,a,u,l,h,c,p=0,f=0,d=t.type,y="FeatureCollection"===d,g="Feature"===d,m=y?t.features.length:1,v=0;v<m;v++){u=(c=!!(h=y?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var b=0;b<u;b++){var x=0,w=0;if(null!==(a=c?h.geometries[b]:h)){l=a.coordinates;var _=a.type;switch(p=!r||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(l,f,v,x,w))return!1;f++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],f,v,x,w))return!1;f++,"MultiPoint"===_&&x++}"LineString"===_&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-p;i++){if(!1===e(l[n][i],f,v,x,w))return!1;f++}"MultiLineString"===_&&x++,"Polygon"===_&&w++}"Polygon"===_&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(w=0,i=0;i<l[n].length;i++){for(s=0;s<l[n][i].length-p;s++){if(!1===e(l[n][i][s],f,v,x,w))return!1;f++}w++}x++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===o(a.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var r,n,o,i,s,a,u,l,h,c,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,y=f?t.features.length:1;for(r=0;r<y;r++){for(a=f?t.features[r].geometry:d?t.geometry:t,l=f?t.features[r].properties:d?t.properties:{},h=f?t.features[r].bbox:d?t.bbox:void 0,c=f?t.features[r].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(i=u?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,p,l,h,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],p,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,h,c))return!1;p++}}function s(t,e){i(t,(function(t,r,o,i,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e((0,n.zL)(t,o,{bbox:i,id:s}),r,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var h={type:a,coordinates:t.coordinates[l]};if(!1===e((0,n.zL)(h,o),r,l))return!1}}))}function a(t){var e=[1/0,1/0,-1/0,-1/0];return o(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}a.default=a;var u=a,l=r(2247);r(9905);r(3291);function h(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=(0,l.c9)(t),o=(0,l.wA)(e),i=o.type,s=e.bbox,a=o.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(n,s))return!1;"Polygon"===i&&(a=[a]);for(var u=!1,h=0;h<a.length&&!u;h++)if(c(n,a[h][0],r.ignoreBoundary)){for(var p=!1,f=1;f<a[h].length&&!p;)c(n,a[h][f],!r.ignoreBoundary)&&(p=!0),f++;p||(u=!0)}return u}function c(t,e,r){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,i=e.length-1;o<e.length;i=o++){var s=e[o][0],a=e[o][1],u=e[i][0],l=e[i][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)===0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!r;a>t[1]!==l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(n=!n)}return n}Object.prototype.hasOwnProperty;var p=new ArrayBuffer(16);new Float64Array(p),new Uint32Array(p);r(8083);!function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var r=this.points[e],n=this.points[e+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],r=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var o=this.pos(n);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>t&&(e.push(n),r=o)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var r=e/this.duration;if(r>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*r);return function(t,e,r,n,o){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*i[0]+n.x*i[1]+r.x*i[2]+e.x*i[3],y:o.y*i[0]+n.y*i[1]+r.y*i[2]+e.y*i[3],z:o.z*i[0]+n.z*i[1]+r.z*i[2]+e.z*i[3]}}((this.length-1)*r-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}}();var f=function(t){return function(t,e){void 0===e&&(e={});var r=Number(t[0]),o=Number(t[1]),i=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[r,o],u=[r,s],l=[i,s],h=[i,o];return(0,n.yu)([[a,h,l,u,a]],e.properties,{bbox:t,id:e.id})}(u(t))};r(3510);r(9309);var d=Math.PI/180,y=180/Math.PI,g=function(t,e){this.lon=t,this.lat=e,this.x=d*t,this.y=d*e};g.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},g.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new g(e,t)};var m=function(){this.coords=[],this.length=0};m.prototype.move_to=function(t){this.length++,this.coords.push(t)};var v=function(t){this.properties=t||{},this.geometries=[]};v.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},v.prototype.wkt=function(){for(var t="",e="LINESTRING(",r=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),t+=e.substring(0,e.length-1)+")"}return t};var b=function(t,e,r){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new g(t.x,t.y),this.end=new g(e.x,e.y),this.properties=r||{};var n=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};b.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),r=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),i=e*Math.sin(this.start.y)+r*Math.sin(this.end.y),s=y*Math.atan2(i,Math.sqrt(Math.pow(n,2)+Math.pow(o,2)));return[y*Math.atan2(o,n),s]},b.prototype.Arc=function(t,e){var r=[];if(!t||t<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),o=0;o<t;++o){var i=n*o,s=this.interpolate(i);r.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,h=180-l,c=-180+l,p=360-l,f=1;f<r.length;++f){var d=r[f-1][0],y=r[f][0],g=Math.abs(y-d);g>p&&(y>h&&d<c||d>h&&y<c)?a=!0:g>u&&(u=g)}var b=[];if(a&&u<l){var x=[];b.push(x);for(var w=0;w<r.length;++w){var _=parseFloat(r[w][0]);if(w>0&&Math.abs(_-r[w-1][0])>p){var E=parseFloat(r[w-1][0]),M=parseFloat(r[w-1][1]),S=parseFloat(r[w][0]),P=parseFloat(r[w][1]);if(E>-180&&E<c&&180===S&&w+1<r.length&&r[w-1][0]>-180&&r[w-1][0]<c){x.push([-180,r[w][1]]),w++,x.push([r[w][0],r[w][1]]);continue}if(E>h&&E<180&&-180===S&&w+1<r.length&&r[w-1][0]>h&&r[w-1][0]<180){x.push([180,r[w][1]]),w++,x.push([r[w][0],r[w][1]]);continue}if(E<c&&S>h){var O=E;E=S,S=O;var k=M;M=P,P=k}if(E>h&&S<c&&(S+=360),E<=180&&S>=180&&E<S){var C=(180-E)/(S-E),A=C*P+(1-C)*M;x.push([r[w-1][0]>h?180:-180,A]),(x=[]).push([r[w-1][0]>h?-180:180,A]),b.push(x)}else x=[],b.push(x);x.push([_,r[w][1]])}else x.push([r[w][0],r[w][1]])}}else{var j=[];b.push(j);for(var I=0;I<r.length;++I)j.push([r[I][0],r[I][1]])}for(var R=new v(this.properties),L=0;L<b.length;++L){var F=new m;R.geometries.push(F);for(var B=b[L],N=0;N<B.length;++N)F.move_to(B[N])}return R};r(3779);var x=[],w=[],_=[],E=[],M=[],S=[],P=[],O=[],k=[],C=[],A=[],j=[],I=[],R=[],L=[],F=[],B=[],N=[],D=[],z=[],T=[],U=[],Y=[],X=[];P[85]=C[85]=-1,O[85]=A[85]=0,k[85]=j[85]=1,D[85]=U[85]=1,z[85]=Y[85]=0,T[85]=X[85]=1,x[85]=E[85]=0,w[85]=M[85]=-1,_[85]=L[85]=0,F[85]=I[85]=0,B[85]=R[85]=1,S[85]=N[85]=1,U[1]=U[169]=0,Y[1]=Y[169]=-1,X[1]=X[169]=0,I[1]=I[169]=-1,R[1]=R[169]=0,L[1]=L[169]=0,C[4]=C[166]=0,A[4]=A[166]=-1,j[4]=j[166]=1,F[4]=F[166]=1,B[4]=B[166]=0,N[4]=N[166]=0,P[16]=P[154]=0,O[16]=O[154]=1,k[16]=k[154]=1,E[16]=E[154]=1,M[16]=M[154]=0,S[16]=S[154]=1,D[64]=D[106]=0,z[64]=z[106]=1,T[64]=T[106]=0,x[64]=x[106]=-1,w[64]=w[106]=0,_[64]=_[106]=1,D[2]=D[168]=0,z[2]=z[168]=-1,T[2]=T[168]=1,U[2]=U[168]=0,Y[2]=Y[168]=-1,X[2]=X[168]=0,I[2]=I[168]=-1,R[2]=R[168]=0,L[2]=L[168]=0,F[2]=F[168]=-1,B[2]=B[168]=0,N[2]=N[168]=1,P[8]=P[162]=0,O[8]=O[162]=-1,k[8]=k[162]=0,C[8]=C[162]=0,A[8]=A[162]=-1,j[8]=j[162]=1,I[8]=I[162]=1,R[8]=R[162]=0,L[8]=L[162]=1,F[8]=F[162]=1,B[8]=B[162]=0,N[8]=N[162]=0,P[32]=P[138]=0,O[32]=O[138]=1,k[32]=k[138]=1,C[32]=C[138]=0,A[32]=A[138]=1,j[32]=j[138]=0,x[32]=x[138]=1,w[32]=w[138]=0,_[32]=_[138]=0,E[32]=E[138]=1,M[32]=M[138]=0,S[32]=S[138]=1,U[128]=U[42]=0,Y[128]=Y[42]=1,X[128]=X[42]=1,D[128]=D[42]=0,z[128]=z[42]=1,T[128]=T[42]=0,x[128]=x[42]=-1,w[128]=w[42]=0,_[128]=_[42]=1,E[128]=E[42]=-1,M[128]=M[42]=0,S[128]=S[42]=0,C[5]=C[165]=-1,A[5]=A[165]=0,j[5]=j[165]=0,U[5]=U[165]=1,Y[5]=Y[165]=0,X[5]=X[165]=0,F[20]=F[150]=0,B[20]=B[150]=1,N[20]=N[150]=1,E[20]=E[150]=0,M[20]=M[150]=-1,S[20]=S[150]=1,P[80]=P[90]=-1,O[80]=O[90]=0,k[80]=k[90]=1,D[80]=D[90]=1,z[80]=z[90]=0,T[80]=T[90]=1,I[65]=I[105]=0,R[65]=R[105]=1,L[65]=L[105]=0,x[65]=x[105]=0,w[65]=w[105]=-1,_[65]=_[105]=0,P[160]=P[10]=-1,O[160]=O[10]=0,k[160]=k[10]=1,C[160]=C[10]=-1,A[160]=A[10]=0,j[160]=j[10]=0,U[160]=U[10]=1,Y[160]=Y[10]=0,X[160]=X[10]=0,D[160]=D[10]=1,z[160]=z[10]=0,T[160]=T[10]=1,F[130]=F[40]=0,B[130]=B[40]=1,N[130]=N[40]=1,I[130]=I[40]=0,R[130]=R[40]=1,L[130]=L[40]=0,x[130]=x[40]=0,w[130]=w[40]=-1,_[130]=_[40]=0,E[130]=E[40]=0,M[130]=M[40]=-1,S[130]=S[40]=1,C[37]=C[133]=0,A[37]=A[133]=1,j[37]=j[133]=1,U[37]=U[133]=0,Y[37]=Y[133]=1,X[37]=X[133]=0,x[37]=x[133]=-1,w[37]=w[133]=0,_[37]=_[133]=0,E[37]=E[133]=1,M[37]=M[133]=0,S[37]=S[133]=0,F[148]=F[22]=-1,B[148]=B[22]=0,N[148]=N[22]=0,U[148]=U[22]=0,Y[148]=Y[22]=-1,X[148]=X[22]=1,D[148]=D[22]=0,z[148]=z[22]=1,T[148]=T[22]=1,E[148]=E[22]=-1,M[148]=M[22]=0,S[148]=S[22]=1,P[82]=P[88]=0,O[82]=O[88]=-1,k[82]=k[88]=1,F[82]=F[88]=1,B[82]=B[88]=0,N[82]=N[88]=1,I[82]=I[88]=-1,R[82]=R[88]=0,L[82]=L[88]=1,D[82]=D[88]=0,z[82]=z[88]=-1,T[82]=T[88]=0,P[73]=P[97]=0,O[73]=O[97]=1,k[73]=k[97]=0,C[73]=C[97]=0,A[73]=A[97]=-1,j[73]=j[97]=0,I[73]=I[97]=1,R[73]=R[97]=0,L[73]=L[97]=0,x[73]=x[97]=1,w[73]=w[97]=0,_[73]=_[97]=1,P[145]=P[25]=0,O[145]=O[25]=-1,k[145]=k[25]=0,I[145]=I[25]=1,R[145]=R[25]=0,L[145]=L[25]=1,U[145]=U[25]=0,Y[145]=Y[25]=1,X[145]=X[25]=1,E[145]=E[25]=-1,M[145]=M[25]=0,S[145]=S[25]=0,C[70]=C[100]=0,A[70]=A[100]=1,j[70]=j[100]=0,F[70]=F[100]=-1,B[70]=B[100]=0,N[70]=N[100]=1,D[70]=D[100]=0,z[70]=z[100]=-1,T[70]=T[100]=1,x[70]=x[100]=1,w[70]=w[100]=0,_[70]=_[100]=0,C[101]=C[69]=0,A[101]=A[69]=1,j[101]=j[69]=0,x[101]=x[69]=1,w[101]=w[69]=0,_[101]=_[69]=0,U[149]=U[21]=0,Y[149]=Y[21]=1,X[149]=X[21]=1,E[149]=E[21]=-1,M[149]=M[21]=0,S[149]=S[21]=0,F[86]=F[84]=-1,B[86]=B[84]=0,N[86]=N[84]=1,D[86]=D[84]=0,z[86]=z[84]=-1,T[86]=T[84]=1,P[89]=P[81]=0,O[89]=O[81]=-1,k[89]=k[81]=0,I[89]=I[81]=1,R[89]=R[81]=0,L[89]=L[81]=1,P[96]=P[74]=0,O[96]=O[74]=1,k[96]=k[74]=0,C[96]=C[74]=-1,A[96]=A[74]=0,j[96]=j[74]=1,D[96]=D[74]=1,z[96]=z[74]=0,T[96]=T[74]=0,x[96]=x[74]=1,w[96]=w[74]=0,_[96]=_[74]=1,P[24]=P[146]=0,O[24]=O[146]=-1,k[24]=k[146]=1,F[24]=F[146]=1,B[24]=B[146]=0,N[24]=N[146]=1,I[24]=I[146]=0,R[24]=R[146]=1,L[24]=L[146]=1,E[24]=E[146]=0,M[24]=M[146]=-1,S[24]=S[146]=0,C[6]=C[164]=-1,A[6]=A[164]=0,j[6]=j[164]=1,F[6]=F[164]=-1,B[6]=B[164]=0,N[6]=N[164]=0,U[6]=U[164]=0,Y[6]=Y[164]=-1,X[6]=X[164]=1,D[6]=D[164]=1,z[6]=z[164]=0,T[6]=T[164]=0,I[129]=I[41]=0,R[129]=R[41]=1,L[129]=L[41]=1,U[129]=U[41]=0,Y[129]=Y[41]=1,X[129]=X[41]=0,x[129]=x[41]=-1,w[129]=w[41]=0,_[129]=_[41]=0,E[129]=E[41]=0,M[129]=M[41]=-1,S[129]=S[41]=0,F[66]=F[104]=0,B[66]=B[104]=1,N[66]=N[104]=0,I[66]=I[104]=-1,R[66]=R[104]=0,L[66]=L[104]=1,D[66]=D[104]=0,z[66]=z[104]=-1,T[66]=T[104]=0,x[66]=x[104]=0,w[66]=w[104]=-1,_[66]=_[104]=1,P[144]=P[26]=-1,O[144]=O[26]=0,k[144]=k[26]=0,U[144]=U[26]=1,Y[144]=Y[26]=0,X[144]=X[26]=1,D[144]=D[26]=0,z[144]=z[26]=1,T[144]=T[26]=1,E[144]=E[26]=-1,M[144]=M[26]=0,S[144]=S[26]=1,C[36]=C[134]=0,A[36]=A[134]=1,j[36]=j[134]=1,F[36]=F[134]=0,B[36]=B[134]=1,N[36]=N[134]=0,x[36]=x[134]=0,w[36]=w[134]=-1,_[36]=_[134]=1,E[36]=E[134]=1,M[36]=M[134]=0,S[36]=S[134]=0,P[9]=P[161]=-1,O[9]=O[161]=0,k[9]=k[161]=0,C[9]=C[161]=0,A[9]=A[161]=-1,j[9]=j[161]=0,I[9]=I[161]=1,R[9]=R[161]=0,L[9]=L[161]=0,U[9]=U[161]=1,Y[9]=Y[161]=0,X[9]=X[161]=1,P[136]=0,O[136]=1,k[136]=1,C[136]=0,A[136]=1,j[136]=0,F[136]=-1,B[136]=0,N[136]=1,I[136]=-1,R[136]=0,L[136]=0,U[136]=0,Y[136]=-1,X[136]=0,D[136]=0,z[136]=-1,T[136]=1,x[136]=1,w[136]=0,_[136]=0,E[136]=1,M[136]=0,S[136]=1,P[34]=0,O[34]=-1,k[34]=0,C[34]=0,A[34]=-1,j[34]=1,F[34]=1,B[34]=0,N[34]=0,I[34]=1,R[34]=0,L[34]=1,U[34]=0,Y[34]=1,X[34]=1,D[34]=0,z[34]=1,T[34]=0,x[34]=-1,w[34]=0,_[34]=1,E[34]=-1,M[34]=0,S[34]=0,P[35]=0,O[35]=1,k[35]=1,C[35]=0,A[35]=-1,j[35]=1,F[35]=1,B[35]=0,N[35]=0,I[35]=-1,R[35]=0,L[35]=0,U[35]=0,Y[35]=-1,X[35]=0,D[35]=0,z[35]=1,T[35]=0,x[35]=-1,w[35]=0,_[35]=1,E[35]=1,M[35]=0,S[35]=1,P[153]=0,O[153]=1,k[153]=1,I[153]=-1,R[153]=0,L[153]=0,U[153]=0,Y[153]=-1,X[153]=0,E[153]=1,M[153]=0,S[153]=1,C[102]=0,A[102]=-1,j[102]=1,F[102]=1,B[102]=0,N[102]=0,D[102]=0,z[102]=1,T[102]=0,x[102]=-1,w[102]=0,_[102]=1,P[155]=0,O[155]=-1,k[155]=0,I[155]=1,R[155]=0,L[155]=1,U[155]=0,Y[155]=1,X[155]=1,E[155]=-1,M[155]=0,S[155]=0,C[103]=0,A[103]=1,j[103]=0,F[103]=-1,B[103]=0,N[103]=1,D[103]=0,z[103]=-1,T[103]=1,x[103]=1,w[103]=0,_[103]=0,P[152]=0,O[152]=1,k[152]=1,F[152]=-1,B[152]=0,N[152]=1,I[152]=-1,R[152]=0,L[152]=0,U[152]=0,Y[152]=-1,X[152]=0,D[152]=0,z[152]=-1,T[152]=1,E[152]=1,M[152]=0,S[152]=1,P[156]=0,O[156]=-1,k[156]=1,F[156]=1,B[156]=0,N[156]=1,I[156]=-1,R[156]=0,L[156]=0,U[156]=0,Y[156]=-1,X[156]=0,D[156]=0,z[156]=1,T[156]=1,E[156]=-1,M[156]=0,S[156]=1,P[137]=0,O[137]=1,k[137]=1,C[137]=0,A[137]=1,j[137]=0,I[137]=-1,R[137]=0,L[137]=0,U[137]=0,Y[137]=-1,X[137]=0,x[137]=1,w[137]=0,_[137]=0,E[137]=1,M[137]=0,S[137]=1,P[139]=0,O[139]=1,k[139]=1,C[139]=0,A[139]=-1,j[139]=0,I[139]=1,R[139]=0,L[139]=0,U[139]=0,Y[139]=1,X[139]=0,x[139]=-1,w[139]=0,_[139]=0,E[139]=1,M[139]=0,S[139]=1,P[98]=0,O[98]=-1,k[98]=0,C[98]=0,A[98]=-1,j[98]=1,F[98]=1,B[98]=0,N[98]=0,I[98]=1,R[98]=0,L[98]=1,D[98]=0,z[98]=1,T[98]=0,x[98]=-1,w[98]=0,_[98]=1,P[99]=0,O[99]=1,k[99]=0,C[99]=0,A[99]=-1,j[99]=1,F[99]=1,B[99]=0,N[99]=0,I[99]=-1,R[99]=0,L[99]=1,D[99]=0,z[99]=-1,T[99]=0,x[99]=1,w[99]=0,_[99]=1,C[38]=0,A[38]=-1,j[38]=1,F[38]=1,B[38]=0,N[38]=0,U[38]=0,Y[38]=1,X[38]=1,D[38]=0,z[38]=1,T[38]=0,x[38]=-1,w[38]=0,_[38]=1,E[38]=-1,M[38]=0,S[38]=0,C[39]=0,A[39]=1,j[39]=1,F[39]=-1,B[39]=0,N[39]=0,U[39]=0,Y[39]=-1,X[39]=1,D[39]=0,z[39]=1,T[39]=0,x[39]=-1,w[39]=0,_[39]=1,E[39]=1,M[39]=0,S[39]=0;var Z=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},q=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},G=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},W=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},J=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},$=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},V=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Q=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},H=[],K=[],tt=[],et=[],rt=[],nt=[],ot=[],it=[];et[1]=rt[1]=18,et[169]=rt[169]=18,tt[4]=K[4]=12,tt[166]=K[166]=12,H[16]=it[16]=4,H[154]=it[154]=4,nt[64]=ot[64]=22,nt[106]=ot[106]=22,tt[2]=nt[2]=17,et[2]=rt[2]=18,tt[168]=nt[168]=17,et[168]=rt[168]=18,H[8]=et[8]=9,K[8]=tt[8]=12,H[162]=et[162]=9,K[162]=tt[162]=12,H[32]=it[32]=4,K[32]=ot[32]=1,H[138]=it[138]=4,K[138]=ot[138]=1,rt[128]=it[128]=21,nt[128]=ot[128]=22,rt[42]=it[42]=21,nt[42]=ot[42]=22,K[5]=rt[5]=14,K[165]=rt[165]=14,tt[20]=it[20]=6,tt[150]=it[150]=6,H[80]=nt[80]=11,H[90]=nt[90]=11,et[65]=ot[65]=3,et[105]=ot[105]=3,H[160]=nt[160]=11,K[160]=rt[160]=14,H[10]=nt[10]=11,K[10]=rt[10]=14,tt[130]=it[130]=6,et[130]=ot[130]=3,tt[40]=it[40]=6,et[40]=ot[40]=3,K[101]=ot[101]=1,K[69]=ot[69]=1,rt[149]=it[149]=21,rt[21]=it[21]=21,tt[86]=nt[86]=17,tt[84]=nt[84]=17,H[89]=et[89]=9,H[81]=et[81]=9,H[96]=ot[96]=0,K[96]=nt[96]=15,H[74]=ot[74]=0,K[74]=nt[74]=15,H[24]=tt[24]=8,et[24]=it[24]=7,H[146]=tt[146]=8,et[146]=it[146]=7,K[6]=nt[6]=15,tt[6]=rt[6]=16,K[164]=nt[164]=15,tt[164]=rt[164]=16,et[129]=it[129]=7,rt[129]=ot[129]=20,et[41]=it[41]=7,rt[41]=ot[41]=20,tt[66]=ot[66]=2,et[66]=nt[66]=19,tt[104]=ot[104]=2,et[104]=nt[104]=19,H[144]=rt[144]=10,nt[144]=it[144]=23,H[26]=rt[26]=10,nt[26]=it[26]=23,K[36]=it[36]=5,tt[36]=ot[36]=2,K[134]=it[134]=5,tt[134]=ot[134]=2,H[9]=rt[9]=10,K[9]=et[9]=13,H[161]=rt[161]=10,K[161]=et[161]=13,K[37]=it[37]=5,rt[37]=ot[37]=20,K[133]=it[133]=5,rt[133]=ot[133]=20,tt[148]=rt[148]=16,nt[148]=it[148]=23,tt[22]=rt[22]=16,nt[22]=it[22]=23,H[82]=tt[82]=8,et[82]=nt[82]=19,H[88]=tt[88]=8,et[88]=nt[88]=19,H[73]=ot[73]=0,K[73]=et[73]=13,H[97]=ot[97]=0,K[97]=et[97]=13,H[145]=et[145]=9,rt[145]=it[145]=21,H[25]=et[25]=9,rt[25]=it[25]=21,K[70]=ot[70]=1,tt[70]=nt[70]=17,K[100]=ot[100]=1,tt[100]=nt[100]=17,H[34]=et[34]=9,K[34]=tt[34]=12,rt[34]=it[34]=21,nt[34]=ot[34]=22,H[136]=it[136]=4,K[136]=ot[136]=1,tt[136]=nt[136]=17,et[136]=rt[136]=18,H[35]=it[35]=4,K[35]=tt[35]=12,et[35]=rt[35]=18,nt[35]=ot[35]=22,H[153]=it[153]=4,et[153]=rt[153]=18,K[102]=tt[102]=12,nt[102]=ot[102]=22,H[155]=et[155]=9,rt[155]=it[155]=23,K[103]=ot[103]=1,tt[103]=nt[103]=17,H[152]=it[152]=4,tt[152]=nt[152]=17,et[152]=rt[152]=18,H[156]=tt[156]=8,et[156]=rt[156]=18,nt[156]=it[156]=23,H[137]=it[137]=4,K[137]=ot[137]=1,et[137]=rt[137]=18,H[139]=it[139]=4,K[139]=et[139]=13,rt[139]=ot[139]=20,H[98]=et[98]=9,K[98]=tt[98]=12,nt[98]=ot[98]=22,H[99]=ot[99]=0,K[99]=tt[99]=12,et[99]=nt[99]=19,K[38]=tt[38]=12,rt[38]=it[38]=21,nt[38]=ot[38]=22,K[39]=it[39]=5,tt[39]=rt[39]=16,nt[39]=ot[39]=22;var st=[];st[1]=st[169]=Z,st[4]=st[166]=q,st[16]=st[154]=G,st[64]=st[106]=W,st[168]=st[2]=J,st[162]=st[8]=$,st[138]=st[32]=V,st[42]=st[128]=Q,st[5]=st[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},st[20]=st[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},st[80]=st[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},st[65]=st[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},st[160]=st[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},st[130]=st[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},st[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},st[101]=st[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},st[149]=st[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},st[86]=st[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},st[89]=st[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},st[96]=st[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},st[24]=st[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},st[6]=st[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},st[129]=st[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},st[66]=st[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},st[144]=st[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},st[36]=st[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},st[9]=st[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},st[37]=st[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},st[148]=st[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},st[82]=st[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},st[73]=st[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},st[145]=st[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},st[70]=st[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},st[34]=function(t){return[Q(t),$(t)]},st[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},st[136]=function(t){return[V(t),J(t)]},st[153]=function(t){return[G(t),Z(t)]},st[102]=function(t){return[q(t),W(t)]},st[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},st[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},st[152]=function(t){return[G(t),J(t)]},st[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},st[137]=function(t){return[V(t),Z(t)]},st[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},st[98]=function(t){return[$(t),W(t)]},st[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},st[38]=function(t){return[q(t),Q(t)]},st[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};function at(t,e,r){var n,o=e[0]-t[0],i=e[1]-t[1],s=r[0]-e[0],a=r[1]-e[1];return((n=o*a-s*i)>0)-(n<0)||+n}function ut(t,e){return e.geometry.coordinates[0].every((function(e){return h((0,n.xm)(e),t)}))}var lt=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,r){var n=e.to,o=r.to;if(n.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(n.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(n.coordinates[0]-t.coordinates[0]===0&&o.coordinates[0]-t.coordinates[0]===0)return n.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?n.coordinates[1]-o.coordinates[1]:o.coordinates[1]-n.coordinates[1];var i=at(t.coordinates,n.coordinates,o.coordinates);return i<0?1:i>0?-1:Math.pow(n.coordinates[0]-t.coordinates[0],2)+Math.pow(n.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),ht=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return(0,n.Tu)([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return at(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),ct=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,r,n){return r.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e}),0),r=(0===e?this.length:e)-1,n=(e+1)%this.length,o=at(this.edges[r].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===o?this.edges[r].from.coordinates[0]>this.edges[n].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return(0,n.ot)(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=(0,n.yu)([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=f(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var r,o,i=t.getEnvelope();return e.forEach((function(e){var s=e.getEnvelope();if(o&&(r=o.getEnvelope()),!function(t,e){var r=t.geometry.coordinates[0].map((function(t){return t[0]})),n=t.geometry.coordinates[0].map((function(t){return t[1]})),o=e.geometry.coordinates[0].map((function(t){return t[0]})),i=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)}(s,i)&&ut(s,i)){for(var a=t.map((function(t){return t.from.coordinates})),u=void 0,l=function(t){e.some((function(e){return r=t,n=e.from.coordinates,r[0]===n[0]&&r[1]===n[1];var r,n}))||(u=t)},h=0,c=a;h<c.length;h++){l(c[h])}u&&e.inside((0,n.xm)(u))&&(o&&!ut(r,s)||(o=e))}})),o},t.prototype.inside=function(t){return h(t,this.toPolygon())},t}();!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var r=new t;return s(e,(function(t){(0,l.nK)(t,"LineString","Graph::fromGeoJson"),function(t,e,r,n){var i=r;o(t,(function(t,n,o,s,a){i=0===n&&void 0===r?t:e(i,t,n,o,s,a)}),n)}(t,(function(t,e){if(t){var n=r.getNode(t),o=r.getNode(e);r.addEdge(n,o)}return e}))})),r},t.prototype.getNode=function(t){var e=lt.buildId(t),r=this.nodes[e];return r||(r=this.nodes[e]=new lt(t)),r},t.prototype.addEdge=function(t,e){var r=new ht(t,e),n=r.getSymetric();this.edges.push(r),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),r.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;"undefined"===typeof t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,r){t.getOuterEdge((0===r?t.getOuterEdges().length:r)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var r,n,o=t.getOuterEdges(),i=o.length-1;i>=0;--i){var s=o[i],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(n=l),u&&(n&&(n.next=u,n=void 0),r||(r=u)))}n&&(n.next=r)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(r){if(!(r.label>=0)){t.push(r);var n=r;do{n.label=e,n=n.next}while(!r.isEqual(n));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(r){t._computeNextCCWEdges(r,e.label)}))}));var e=[];return this.edges.forEach((function(r){r.ring||e.push(t._findEdgeRing(r))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],r=t,n=function(){var n=0;r.from.getOuterEdges().forEach((function(e){e.label===t.label&&++n})),n>1&&e.push(r.from),r=r.next};do{n()}while(!t.isEqual(r));return e},t.prototype._findEdgeRing=function(t){var e=t,r=new ct;do{r.push(e),e.ring=r,e=e.next}while(!t.isEqual(e));return r},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}();r(1673);r(5107);r(2673);function pt(t){for(var e=t,r=[];e.parent;)r.unshift(e),e=e.parent;return r}var ft={search:function(t,e,r,n){t.cleanDirty();var o=(n=n||{}).heuristic||ft.heuristics.manhattan,i=n.closest||!1,s=new gt((function(t){return t.f})),a=e;for(e.h=o(e,r),s.push(e);s.size()>0;){var u=s.pop();if(u===r)return pt(u);u.closed=!0;for(var l=t.neighbors(u),h=0,c=l.length;h<c;++h){var p=l[h];if(!p.closed&&!p.isWall()){var f=u.g+p.getCost(u),d=p.visited;(!d||f<p.g)&&(p.visited=!0,p.parent=u,p.h=p.h||o(p,r),p.g=f,p.f=p.g+p.h,t.markDirty(p),i&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),d?s.rescoreElement(p):s.push(p))}}}return i?pt(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var r=Math.sqrt(2),n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return 1*(n+o)+(r-2)*Math.min(n,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function dt(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var r=0;r<t.length;r++){this.grid[r]=[];for(var n=0,o=t[r];n<o.length;n++){var i=new yt(r,n,o[n]);this.grid[r][n]=i,this.nodes.push(i)}}this.init()}function yt(t,e,r){this.x=t,this.y=e,this.weight=r}function gt(t){this.content=[],this.scoreFunction=t}dt.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)ft.cleanNode(this.nodes[t])},dt.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)ft.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},dt.prototype.markDirty=function(t){this.dirtyNodes.push(t)},dt.prototype.neighbors=function(t){var e=[],r=t.x,n=t.y,o=this.grid;return o[r-1]&&o[r-1][n]&&e.push(o[r-1][n]),o[r+1]&&o[r+1][n]&&e.push(o[r+1][n]),o[r]&&o[r][n-1]&&e.push(o[r][n-1]),o[r]&&o[r][n+1]&&e.push(o[r][n+1]),this.diagonal&&(o[r-1]&&o[r-1][n-1]&&e.push(o[r-1][n-1]),o[r+1]&&o[r+1][n-1]&&e.push(o[r+1][n-1]),o[r-1]&&o[r-1][n+1]&&e.push(o[r-1][n+1]),o[r+1]&&o[r+1][n+1]&&e.push(o[r+1][n+1])),e},dt.prototype.toString=function(){for(var t,e,r,n,o=[],i=this.grid,s=0,a=i.length;s<a;s++){for(t=[],r=0,n=(e=i[s]).length;r<n;r++)t.push(e[r].weight);o.push(t.join(" "))}return o.join("\n")},yt.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},yt.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},yt.prototype.isWall=function(){return 0===this.weight},gt.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var r=(t+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[r]=e,this.content[t]=n,t=r}},bubbleUp:function(t){for(var e=this.content.length,r=this.content[t],n=this.scoreFunction(r);;){var o,i=t+1<<1,s=i-1,a=null;if(s<e){var u=this.content[s];(o=this.scoreFunction(u))<n&&(a=s)}if(i<e){var l=this.content[i];this.scoreFunction(l)<(null===a?n:o)&&(a=i)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=r,t=a}}};function mt(){this._=null}function vt(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function bt(t,e){var r=e,n=e.R,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function xt(t,e){var r=e,n=e.L,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function wt(t){for(;t.L;)t=t.L;return t}mt.prototype={constructor:mt,insert:function(t,e){var r,n,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=wt(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(o=n.R)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.R&&(bt(this,r),r=(t=r).U),r.C=!1,n.C=!0,xt(this,n)):(o=n.L)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.L&&(xt(this,r),r=(t=r).U),r.C=!1,n.C=!0,bt(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,o=t.U,i=t.L,s=t.R;if(r=i?s?wt(s):i:s,o?o.L===t?o.L=r:o.R=r:this._=r,i&&s?(n=r.C,r.C=t.C,r.L=i,i.U=r,r!==s?(o=r.U,r.U=t.U,t=r.R,o.L=t,r.R=s,s.U=r):(r.U=o,o=r,t=r.R)):(n=t.C,t=r),t&&(t.U=o),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,bt(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,xt(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,bt(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,xt(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,bt(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,xt(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var _t=mt;function Et(t,e,r,n){var o=[null,null],i=Wt.push(o)-1;return o.left=t,o.right=e,r&&St(o,t,e,r),n&&St(o,e,t,n),qt[t.index].halfedges.push(i),qt[e.index].halfedges.push(i),o}function Mt(t,e,r){var n=[e,r];return n.left=t,n}function St(t,e,r,n){t[0]||t[1]?t.left===r?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=r)}function Pt(t,e,r,n,o){var i,s=t[0],a=t[1],u=s[0],l=s[1],h=0,c=1,p=a[0]-u,f=a[1]-l;if(i=e-u,p||!(i>0)){if(i/=p,p<0){if(i<h)return;i<c&&(c=i)}else if(p>0){if(i>c)return;i>h&&(h=i)}if(i=n-u,p||!(i<0)){if(i/=p,p<0){if(i>c)return;i>h&&(h=i)}else if(p>0){if(i<h)return;i<c&&(c=i)}if(i=r-l,f||!(i>0)){if(i/=f,f<0){if(i<h)return;i<c&&(c=i)}else if(f>0){if(i>c)return;i>h&&(h=i)}if(i=o-l,f||!(i<0)){if(i/=f,f<0){if(i>c)return;i>h&&(h=i)}else if(f>0){if(i<h)return;i<c&&(c=i)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*p,l+h*f]),c<1&&(t[1]=[u+c*p,l+c*f]),!0)}}}}}function Ot(t,e,r,n,o){var i=t[1];if(i)return!0;var s,a,u=t[0],l=t.left,h=t.right,c=l[0],p=l[1],f=h[0],d=h[1],y=(c+f)/2,g=(p+d)/2;if(d===p){if(y<e||y>=n)return;if(c>f){if(u){if(u[1]>=o)return}else u=[y,r];i=[y,o]}else{if(u){if(u[1]<r)return}else u=[y,o];i=[y,r]}}else if(a=g-(s=(c-f)/(d-p))*y,s<-1||s>1)if(c>f){if(u){if(u[1]>=o)return}else u=[(r-a)/s,r];i=[(o-a)/s,o]}else{if(u){if(u[1]<r)return}else u=[(o-a)/s,o];i=[(r-a)/s,r]}else if(p<d){if(u){if(u[0]>=n)return}else u=[e,s*e+a];i=[n,s*n+a]}else{if(u){if(u[0]<e)return}else u=[n,s*n+a];i=[e,s*e+a]}return t[0]=u,t[1]=i,!0}function kt(t,e){var r=t.site,n=e.left,o=e.right;return r===o&&(o=n,n=r),o?Math.atan2(o[1]-n[1],o[0]-n[0]):(r===n?(n=e[1],o=e[0]):(n=e[0],o=e[1]),Math.atan2(n[0]-o[0],o[1]-n[1]))}function Ct(t,e){return e[+(e.left!==t.site)]}function At(t,e){return e[+(e.left===t.site)]}var jt,It=[];function Rt(){vt(this),this.x=this.y=this.arc=this.site=this.cy=null}function Lt(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,o=t.site,i=r.site;if(n!==i){var s=o[0],a=o[1],u=n[0]-s,l=n[1]-a,h=i[0]-s,c=i[1]-a,p=2*(u*c-l*h);if(!(p>=-$t)){var f=u*u+l*l,d=h*h+c*c,y=(c*f-l*d)/p,g=(u*d-h*f)/p,m=It.pop()||new Rt;m.arc=t,m.site=o,m.x=y+s,m.y=(m.cy=g+a)+Math.sqrt(y*y+g*g),t.circle=m;for(var v=null,b=Gt._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Gt.insert(v,m),v||(jt=m)}}}}function Ft(t){var e=t.circle;e&&(e.P||(jt=e.N),Gt.remove(e),It.push(e),vt(e),t.circle=null)}var Bt=[];function Nt(){vt(this),this.edge=this.site=this.circle=null}function Dt(t){var e=Bt.pop()||new Nt;return e.site=t,e}function zt(t){Ft(t),Zt.remove(t),Bt.push(t),vt(t)}function Tt(t){var e=t.circle,r=e.x,n=e.cy,o=[r,n],i=t.P,s=t.N,a=[t];zt(t);for(var u=i;u.circle&&Math.abs(r-u.circle.x)<Jt&&Math.abs(n-u.circle.cy)<Jt;)i=u.P,a.unshift(u),zt(u),u=i;a.unshift(u),Ft(u);for(var l=s;l.circle&&Math.abs(r-l.circle.x)<Jt&&Math.abs(n-l.circle.cy)<Jt;)s=l.N,a.push(l),zt(l),l=s;a.push(l),Ft(l);var h,c=a.length;for(h=1;h<c;++h)l=a[h],u=a[h-1],St(l.edge,u.site,l.site,o);u=a[0],(l=a[c-1]).edge=Et(u.site,l.site,null,o),Lt(u),Lt(l)}function Ut(t){for(var e,r,n,o,i=t[0],s=t[1],a=Zt._;a;)if((n=Yt(a,s)-i)>Jt)a=a.L;else{if(!((o=i-Xt(a,s))>Jt)){n>-Jt?(e=a.P,r=a):o>-Jt?(e=a,r=a.N):e=r=a;break}if(!a.R){e=a;break}a=a.R}!function(t){qt[t.index]={site:t,halfedges:[]}}(t);var u=Dt(t);if(Zt.insert(e,u),e||r){if(e===r)return Ft(e),r=Dt(e.site),Zt.insert(u,r),u.edge=r.edge=Et(e.site,u.site),Lt(e),void Lt(r);if(r){Ft(e),Ft(r);var l=e.site,h=l[0],c=l[1],p=t[0]-h,f=t[1]-c,d=r.site,y=d[0]-h,g=d[1]-c,m=2*(p*g-f*y),v=p*p+f*f,b=y*y+g*g,x=[(g*v-f*b)/m+h,(p*b-y*v)/m+c];St(r.edge,l,d,x),u.edge=Et(l,t,null,x),r.edge=Et(t,d,null,x),Lt(e),Lt(r)}else u.edge=Et(e.site,u.site)}}function Yt(t,e){var r=t.site,n=r[0],o=r[1],i=o-e;if(!i)return n;var s=t.P;if(!s)return-1/0;var a=(r=s.site)[0],u=r[1],l=u-e;if(!l)return a;var h=a-n,c=1/i-1/l,p=h/l;return c?(-p+Math.sqrt(p*p-2*c*(h*h/(-2*l)-u+l/2+o-i/2)))/c+n:(n+a)/2}function Xt(t,e){var r=t.N;if(r)return Yt(r,e);var n=t.site;return n[1]===e?n[0]:1/0}var Zt,qt,Gt,Wt,Jt=1e-6,$t=1e-12;function Vt(t,e){return e[1]-t[1]||e[0]-t[0]}function Qt(t,e){var r,n,o,i=t.sort(Vt).pop();for(Wt=[],qt=new Array(t.length),Zt=new _t,Gt=new _t;;)if(o=jt,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===r&&i[1]===n||(Ut(i),r=i[0],n=i[1]),i=t.pop();else{if(!o)break;Tt(o.arc)}if(function(){for(var t,e,r,n,o=0,i=qt.length;o<i;++o)if((t=qt[o])&&(n=(e=t.halfedges).length)){var s=new Array(n),a=new Array(n);for(r=0;r<n;++r)s[r]=r,a[r]=kt(t,Wt[e[r]]);for(s.sort((function(t,e){return a[e]-a[t]})),r=0;r<n;++r)a[r]=e[s[r]];for(r=0;r<n;++r)e[r]=a[r]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,r,n){for(var o,i=Wt.length;i--;)Ot(o=Wt[i],t,e,r,n)&&Pt(o,t,e,r,n)&&(Math.abs(o[0][0]-o[1][0])>Jt||Math.abs(o[0][1]-o[1][1])>Jt)||delete Wt[i]}(s,a,u,l),function(t,e,r,n){var o,i,s,a,u,l,h,c,p,f,d,y,g=qt.length,m=!0;for(o=0;o<g;++o)if(i=qt[o]){for(s=i.site,a=(u=i.halfedges).length;a--;)Wt[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(f=At(i,Wt[u[a]]))[0],y=f[1],c=(h=Ct(i,Wt[u[++a%l]]))[0],p=h[1],(Math.abs(d-c)>Jt||Math.abs(y-p)>Jt)&&(u.splice(a,0,Wt.push(Mt(s,f,Math.abs(d-t)<Jt&&n-y>Jt?[t,Math.abs(c-t)<Jt?p:n]:Math.abs(y-n)<Jt&&r-d>Jt?[Math.abs(p-n)<Jt?c:r,n]:Math.abs(d-r)<Jt&&y-e>Jt?[r,Math.abs(c-r)<Jt?p:e]:Math.abs(y-e)<Jt&&d-t>Jt?[Math.abs(p-e)<Jt?c:t,e]:null))-1),++l);l&&(m=!1)}if(m){var v,b,x,w=1/0;for(o=0,m=null;o<g;++o)(i=qt[o])&&(x=(v=(s=i.site)[0]-t)*v+(b=s[1]-e)*b)<w&&(w=x,m=i);if(m){var _=[t,e],E=[t,n],M=[r,n],S=[r,e];m.halfedges.push(Wt.push(Mt(s=m.site,_,E))-1,Wt.push(Mt(s,E,M))-1,Wt.push(Mt(s,M,S))-1,Wt.push(Mt(s,S,_))-1)}}for(o=0;o<g;++o)(i=qt[o])&&(i.halfedges.length||delete qt[o])}(s,a,u,l)}this.edges=Wt,this.cells=qt,Zt=Gt=Wt=qt=null}Qt.prototype={constructor:Qt,polygons:function(){var t=this.edges;return this.cells.map((function(e){var r=e.halfedges.map((function(r){return Ct(e,t[r])}));return r.data=e.site.data,r}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(r,n){if(i=(o=r.halfedges).length)for(var o,i,s,a,u,l,h=r.site,c=-1,p=e[o[i-1]],f=p.left===h?p.right:p.left;++c<i;)s=f,f=(p=e[o[c]]).left===h?p.right:p.left,s&&f&&n<s.index&&n<f.index&&(u=s,l=f,((a=h)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([h.data,s.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,r){for(var n,o,i=this,s=i._found||0,a=i.cells.length;!(o=i.cells[s]);)if(++s>=a)return null;var u=t-o.site[0],l=e-o.site[1],h=u*u+l*l;do{o=i.cells[n=s],s=null,o.halfedges.forEach((function(r){var n=i.edges[r],a=n.left;if(a!==o.site&&a||(a=n.right)){var u=t-a[0],l=e-a[1],c=u*u+l*l;c<h&&(h=c,s=a.index)}}))}while(null!==s);return i._found=n,null==r||h<=r*r?o.site:null}};r(3167);r(8681);function Ht(){return new Kt}function Kt(){this.reset()}Kt.prototype={constructor:Kt,reset:function(){this.s=this.t=0},add:function(t){ee(te,t,this.t),ee(this,te.s,this.s),this.s?this.t+=te.t:this.s=te.t},valueOf:function(){return this.s}};var te=new Kt;function ee(t,e,r){var n=t.s=e+r,o=n-e,i=n-o;t.t=e-i+(r-o)}var re=1e-6,ne=Math.PI,oe=ne/2,ie=ne/4,se=2*ne,ae=ne/180,ue=Math.abs,le=Math.atan,he=Math.atan2,ce=Math.cos,pe=(Math.ceil,Math.exp),fe=(Math.floor,Math.log),de=(Math.pow,Math.sin),ye=(Math.sign,Math.sqrt),ge=Math.tan;function me(t){return t>1?oe:t<-1?-oe:Math.asin(t)}function ve(){}Ht(),Ht();function be(t){var e=t[0],r=t[1],n=ce(r);return[n*ce(e),n*de(e),de(r)]}function xe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function we(t){var e=ye(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Ht();function _e(t,e){return[t>ne?t-se:t<-ne?t+se:t,e]}function Ee(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Me(t,e,r,n,o){var i,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,r,n=t[0],s=t[e];if(h=s,ue((l=n)[0]-h[0])<re&&ue(l[1]-h[1])<re){for(o.lineStart(),i=0;i<e;++i)o.point((n=t[i])[0],n[1]);o.lineEnd()}else{var l,h;a.push(r=new Ee(n,t,null,!0)),u.push(r.o=new Ee(n,null,r,!1)),a.push(r=new Ee(s,t,null,!1)),u.push(r.o=new Ee(s,null,r,!0))}}})),a.length){for(u.sort(e),Se(a),Se(u),i=0,s=u.length;i<s;++i)u[i].e=r=!r;for(var l,h,c=a[0];;){for(var p=c,f=!0;p.v;)if((p=p.n)===c)return;l=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(i=0,s=l.length;i<s;++i)o.point((h=l[i])[0],h[1]);else n(p.x,p.n.x,1,o);p=p.n}else{if(f)for(l=p.p.z,i=l.length-1;i>=0;--i)o.point((h=l[i])[0],h[1]);else n(p.x,p.p.x,-1,o);p=p.p}l=(p=p.o).z,f=!f}while(!p.v);o.lineEnd()}}}function Se(t){if(e=t.length){for(var e,r,n=0,o=t[0];++n<e;)o.n=r=t[n],r.p=o,o=r;o.n=r=t[0],r.p=o}}function Pe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}_e.invert=_e;var Oe=function(t){var e;return 1===t.length&&(e=t,t=function(t,r){return Pe(e(t),r)}),{left:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)<0?n=i+1:o=i}return n},right:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)>0?o=i:n=i+1}return n}}}(Pe),ke=(Oe.right,Oe.left,Array.prototype);ke.slice,ke.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Ce=Ht();function Ae(t,e){var r=e[0],n=e[1],o=[de(r),-ce(r),0],i=0,s=0;Ce.reset();for(var a=0,u=t.length;a<u;++a)if(h=(l=t[a]).length)for(var l,h,c=l[h-1],p=c[0],f=c[1]/2+ie,d=de(f),y=ce(f),g=0;g<h;++g,p=v,d=x,y=w,c=m){var m=l[g],v=m[0],b=m[1]/2+ie,x=de(b),w=ce(b),_=v-p,E=_>=0?1:-1,M=E*_,S=M>ne,P=d*x;if(Ce.add(he(P*E*de(M),y*w+P*ce(M))),i+=S?_+E*se:_,S^p>=r^v>=r){var O=xe(be(c),be(m));we(O);var k=xe(o,O);we(k);var C=(S^_>=0?-1:1)*me(k[2]);(n>C||n===C&&(O[0]||O[1]))&&(s+=S^_>=0?1:-1)}}return(i<-1e-6||i<re&&Ce<-1e-6)^1&s}Ht();Ht(),Ht();Ht();function je(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ie(t){return t.length>1}function Re(t,e){return((t=t.x)[0]<0?t[1]-oe-re:oe-t[1])-((e=e.x)[0]<0?e[1]-oe-re:oe-e[1])}je(4.5);function Le(t){return function(e){var r=new Fe;for(var n in t)r[n]=t[n];return r.stream=e,r}}function Fe(){}Fe.prototype={constructor:Fe,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};ce(30*ae);Le({point:function(t,e){this.stream.point(t*ae,e*ae)}});function Be(t){return function(e,r){var n=ce(e),o=ce(r),i=t(n*o);return[i*o*de(e),i*de(r)]}}function Ne(t){return function(e,r){var n=ye(e*e+r*r),o=t(n),i=de(o),s=ce(o);return[he(e*i,n*s),me(n&&r*i/n)]}}var De=Be((function(t){return ye(2/(1+t))}));De.invert=Ne((function(t){return 2*me(t/2)}));var ze=Be((function(t){return(t=(e=t)>1?0:e<-1?ne:Math.acos(e))&&t/de(t);var e}));function Te(t,e){return[t,fe(ge((oe+e)/2))]}function Ue(t,e){return[t,e]}function Ye(t,e){var r=ce(e),n=ce(t)*r;return[r*de(t)/n,de(e)/n]}function Xe(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791)),e*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))]}function Ze(t,e){return[ce(e)*de(t),de(e)]}function qe(t,e){var r=ce(e),n=1+ce(t)*r;return[r*de(t)/n,de(e)/n]}function Ge(t,e){return[fe(ge((oe+e)/2)),-t]}ze.invert=Ne((function(t){return t})),Te.invert=function(t,e){return[t,2*le(pe(e))-oe]},Ue.invert=Ue,Ye.invert=Ne(le),Xe.invert=function(t,e){var r,n=e,o=25;do{var i=n*n,s=i*i;n-=r=(n*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))-e)/(1.007226+i*(.045255+s*(.259866*i-.311325-.005916*11*s)))}while(ue(r)>re&&--o>0);return[t/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},Ze.invert=Ne(me),qe.invert=Ne((function(t){return 2*le(t)})),Ge.invert=function(t,e){return[-e,2*le(pe(t))-oe]}}}]);