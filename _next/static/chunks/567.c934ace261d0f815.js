"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{4567:function(r,t,n){function e(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=[],e=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);e=!0);}catch(l){a=!0,i=l}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}return n}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(t),n.d(t,{ofGpxString:function(){return a}});var a=function(r){var t=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("trkseg");if(!t.length)throw new Error("invalid gpx: missing trkseg");return Array.from(t).flatMap((function(r){return Array.from(r.children).map((function(r){if("trkpt"===r.tagName){var t=e(["lat","lon"].map((function(t){var n=r.getAttribute(t);if(!n)throw new Error("missing ".concat(t," attribute"));var e=parseFloat(n);if(Number.isFinite(e))return e;throw new Error("invalid ".concat(t,": ").concat(e))})),2),n=t[0],a=t[1],i=e(Array.from(r.getElementsByTagName("time")),1)[0];if(!i)throw new Error("missing time element.");var o=new Date(i.textContent||"");if(!o.valueOf())throw new Error("invalid date: ".concat(i.innerHTML));return{date:o,lat:n,lon:a}}throw new Error("invalid trkseg child: ".concat(r.tagName))}))}))}}}]);